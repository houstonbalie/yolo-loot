(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function mb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Xd={exports:{}},Io={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function Pw(){if(_0)return Io;_0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:i,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Io.Fragment=e,Io.jsx=n,Io.jsxs=n,Io}var v0;function Lw(){return v0||(v0=1,Xd.exports=Pw()),Xd.exports}var v=Lw(),$d={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function Uw(){if(b0)return Se;b0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function j(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,z={};function re(k,Z,ae){this.props=k,this.context=Z,this.refs=z,this.updater=ae||L}re.prototype.isReactComponent={},re.prototype.setState=function(k,Z){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Z,"setState")},re.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Y(){}Y.prototype=re.prototype;function J(k,Z,ae){this.props=k,this.context=Z,this.refs=z,this.updater=ae||L}var me=J.prototype=new Y;me.constructor=J,G(me,re.prototype),me.isPureReactComponent=!0;var se=Array.isArray;function le(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(k,Z,ae){var ce=ae.ref;return{$$typeof:i,type:k,key:Z,ref:ce!==void 0?ce:null,props:ae}}function V(k,Z){return C(k.type,Z,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function D(k){var Z={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ae){return Z[ae]})}var N=/\/+/g;function Qe(k,Z){return typeof k=="object"&&k!==null&&k.key!=null?D(""+k.key):Z.toString(36)}function lt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(le,le):(k.status="pending",k.then(function(Z){k.status==="pending"&&(k.status="fulfilled",k.value=Z)},function(Z){k.status==="pending"&&(k.status="rejected",k.reason=Z)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function X(k,Z,ae,ce,_e){var be=typeof k;(be==="undefined"||be==="boolean")&&(k=null);var Re=!1;if(k===null)Re=!0;else switch(be){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(k.$$typeof){case i:case e:Re=!0;break;case E:return Re=k._init,X(Re(k._payload),Z,ae,ce,_e)}}if(Re)return _e=_e(k),Re=ce===""?"."+Qe(k,0):ce,se(_e)?(ae="",Re!=null&&(ae=Re.replace(N,"$&/")+"/"),X(_e,Z,ae,"",function(nr){return nr})):_e!=null&&(O(_e)&&(_e=V(_e,ae+(_e.key==null||k&&k.key===_e.key?"":(""+_e.key).replace(N,"$&/")+"/")+Re)),Z.push(_e)),1;Re=0;var nt=ce===""?".":ce+":";if(se(k))for(var $e=0;$e<k.length;$e++)ce=k[$e],be=nt+Qe(ce,$e),Re+=X(ce,Z,ae,be,_e);else if($e=j(k),typeof $e=="function")for(k=$e.call(k),$e=0;!(ce=k.next()).done;)ce=ce.value,be=nt+Qe(ce,$e++),Re+=X(ce,Z,ae,be,_e);else if(be==="object"){if(typeof k.then=="function")return X(lt(k),Z,ae,ce,_e);throw Z=String(k),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Re}function oe(k,Z,ae){if(k==null)return k;var ce=[],_e=0;return X(k,ce,"","",function(be){return Z.call(ae,be,_e++)}),ce}function te(k){if(k._status===-1){var Z=k._result;Z=Z(),Z.then(function(ae){(k._status===0||k._status===-1)&&(k._status=1,k._result=ae)},function(ae){(k._status===0||k._status===-1)&&(k._status=2,k._result=ae)}),k._status===-1&&(k._status=0,k._result=Z)}if(k._status===1)return k._result.default;throw k._result}var Te=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},De={map:oe,forEach:function(k,Z,ae){oe(k,function(){Z.apply(this,arguments)},ae)},count:function(k){var Z=0;return oe(k,function(){Z++}),Z},toArray:function(k){return oe(k,function(Z){return Z})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Se.Activity=T,Se.Children=De,Se.Component=re,Se.Fragment=n,Se.Profiler=l,Se.PureComponent=J,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Se.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},Se.cache=function(k){return function(){return k.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(k,Z,ae){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ce=G({},k.props),_e=k.key;if(Z!=null)for(be in Z.key!==void 0&&(_e=""+Z.key),Z)!A.call(Z,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Z.ref===void 0||(ce[be]=Z[be]);var be=arguments.length-2;if(be===1)ce.children=ae;else if(1<be){for(var Re=Array(be),nt=0;nt<be;nt++)Re[nt]=arguments[nt+2];ce.children=Re}return C(k.type,_e,ce)},Se.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Se.createElement=function(k,Z,ae){var ce,_e={},be=null;if(Z!=null)for(ce in Z.key!==void 0&&(be=""+Z.key),Z)A.call(Z,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=Z[ce]);var Re=arguments.length-2;if(Re===1)_e.children=ae;else if(1<Re){for(var nt=Array(Re),$e=0;$e<Re;$e++)nt[$e]=arguments[$e+2];_e.children=nt}if(k&&k.defaultProps)for(ce in Re=k.defaultProps,Re)_e[ce]===void 0&&(_e[ce]=Re[ce]);return C(k,be,_e)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(k){return{$$typeof:m,render:k}},Se.isValidElement=O,Se.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:te}},Se.memo=function(k,Z){return{$$typeof:p,type:k,compare:Z===void 0?null:Z}},Se.startTransition=function(k){var Z=R.T,ae={};R.T=ae;try{var ce=k(),_e=R.S;_e!==null&&_e(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(le,Te)}catch(be){Te(be)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),R.T=Z}},Se.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Se.use=function(k){return R.H.use(k)},Se.useActionState=function(k,Z,ae){return R.H.useActionState(k,Z,ae)},Se.useCallback=function(k,Z){return R.H.useCallback(k,Z)},Se.useContext=function(k){return R.H.useContext(k)},Se.useDebugValue=function(){},Se.useDeferredValue=function(k,Z){return R.H.useDeferredValue(k,Z)},Se.useEffect=function(k,Z){return R.H.useEffect(k,Z)},Se.useEffectEvent=function(k){return R.H.useEffectEvent(k)},Se.useId=function(){return R.H.useId()},Se.useImperativeHandle=function(k,Z,ae){return R.H.useImperativeHandle(k,Z,ae)},Se.useInsertionEffect=function(k,Z){return R.H.useInsertionEffect(k,Z)},Se.useLayoutEffect=function(k,Z){return R.H.useLayoutEffect(k,Z)},Se.useMemo=function(k,Z){return R.H.useMemo(k,Z)},Se.useOptimistic=function(k,Z){return R.H.useOptimistic(k,Z)},Se.useReducer=function(k,Z,ae){return R.H.useReducer(k,Z,ae)},Se.useRef=function(k){return R.H.useRef(k)},Se.useState=function(k){return R.H.useState(k)},Se.useSyncExternalStore=function(k,Z,ae){return R.H.useSyncExternalStore(k,Z,ae)},Se.useTransition=function(){return R.H.useTransition()},Se.version="19.2.3",Se}var E0;function Fm(){return E0||(E0=1,$d.exports=Uw()),$d.exports}var H=Fm();const gb=mb(H);var Jd={exports:{}},Do={},Zd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function zw(){return T0||(T0=1,(function(i){function e(X,oe){var te=X.length;X.push(oe);e:for(;0<te;){var Te=te-1>>>1,De=X[Te];if(0<l(De,oe))X[Te]=oe,X[te]=De,te=Te;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],te=X.pop();if(te!==oe){X[0]=te;e:for(var Te=0,De=X.length,k=De>>>1;Te<k;){var Z=2*(Te+1)-1,ae=X[Z],ce=Z+1,_e=X[ce];if(0>l(ae,te))ce<De&&0>l(_e,ae)?(X[Te]=_e,X[ce]=te,Te=ce):(X[Te]=ae,X[Z]=te,Te=Z);else if(ce<De&&0>l(_e,te))X[Te]=_e,X[ce]=te,Te=ce;else break e}}return oe}function l(X,oe){var te=X.sortIndex-oe.sortIndex;return te!==0?te:X.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,T=null,S=3,j=!1,L=!1,G=!1,z=!1,re=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function me(X){for(var oe=n(p);oe!==null;){if(oe.callback===null)s(p);else if(oe.startTime<=X)s(p),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=n(p)}}function se(X){if(G=!1,me(X),!L)if(n(g)!==null)L=!0,le||(le=!0,D());else{var oe=n(p);oe!==null&&lt(se,oe.startTime-X)}}var le=!1,R=-1,A=5,C=-1;function V(){return z?!0:!(i.unstable_now()-C<A)}function O(){if(z=!1,le){var X=i.unstable_now();C=X;var oe=!0;try{e:{L=!1,G&&(G=!1,Y(R),R=-1),j=!0;var te=S;try{t:{for(me(X),T=n(g);T!==null&&!(T.expirationTime>X&&V());){var Te=T.callback;if(typeof Te=="function"){T.callback=null,S=T.priorityLevel;var De=Te(T.expirationTime<=X);if(X=i.unstable_now(),typeof De=="function"){T.callback=De,me(X),oe=!0;break t}T===n(g)&&s(g),me(X)}else s(g);T=n(g)}if(T!==null)oe=!0;else{var k=n(p);k!==null&&lt(se,k.startTime-X),oe=!1}}break e}finally{T=null,S=te,j=!1}oe=void 0}}finally{oe?D():le=!1}}}var D;if(typeof J=="function")D=function(){J(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Qe=N.port2;N.port1.onmessage=O,D=function(){Qe.postMessage(null)}}else D=function(){re(O,0)};function lt(X,oe){R=re(function(){X(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(X){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var te=S;S=oe;try{return X()}finally{S=te}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var te=S;S=X;try{return oe()}finally{S=te}},i.unstable_scheduleCallback=function(X,oe,te){var Te=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Te+te:Te):te=Te,X){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=te+De,X={id:E++,callback:oe,priorityLevel:X,startTime:te,expirationTime:De,sortIndex:-1},te>Te?(X.sortIndex=te,e(p,X),n(g)===null&&X===n(p)&&(G?(Y(R),R=-1):G=!0,lt(se,te-Te))):(X.sortIndex=De,e(g,X),L||j||(L=!0,le||(le=!0,D()))),X},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(X){var oe=S;return function(){var te=S;S=oe;try{return X.apply(this,arguments)}finally{S=te}}}})(Wd)),Wd}var x0;function Bw(){return x0||(x0=1,Zd.exports=zw()),Zd.exports}var em={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function qw(){if(w0)return Xt;w0=1;var i=Fm();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,p,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:g,containerInfo:p,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},Xt.flushSync=function(g){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=E,s.d.f()}},Xt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Xt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Xt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,T=m(E,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:j}):E==="script"&&s.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Xt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,T=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xt.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Xt.requestFormReset=function(g){s.d.r(g)},Xt.unstable_batchedUpdates=function(g,p){return g(p)},Xt.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.3",Xt}var S0;function Hw(){if(S0)return em.exports;S0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),em.exports=qw(),em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function Fw(){if(A0)return Do;A0=1;var i=Bw(),e=Fm(),n=Hw();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,o=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===o)return g(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var _=!1,x=h.child;x;){if(x===a){_=!0,a=h,o=d;break}if(x===o){_=!0,o=h,a=d;break}x=x.sibling}if(!_){for(x=d.child;x;){if(x===a){_=!0,a=d,o=h;break}if(x===o){_=!0,o=d,a=h;break}x=x.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),J=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function D(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case re:return"Profiler";case z:return"StrictMode";case se:return"Suspense";case le:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case J:return t.displayName||"Context";case Y:return(t._context.displayName||"Context")+".Consumer";case me:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return r=t.displayName||null,r!==null?r:Qe(t.type)||"Memo";case A:r=t._payload,t=t._init;try{return Qe(t(r))}catch{}}return null}var lt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Te=[],De=-1;function k(t){return{current:t}}function Z(t){0>De||(t.current=Te[De],Te[De]=null,De--)}function ae(t,r){De++,Te[De]=t.current,t.current=r}var ce=k(null),_e=k(null),be=k(null),Re=k(null);function nt(t,r){switch(ae(be,r),ae(_e,t),ae(ce,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?B_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=B_(r),t=q_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ce),ae(ce,t)}function $e(){Z(ce),Z(_e),Z(be)}function nr(t){t.memoizedState!==null&&ae(Re,t);var r=ce.current,a=q_(r,t.type);r!==a&&(ae(_e,t),ae(ce,a))}function ta(t){_e.current===t&&(Z(ce),Z(_e)),Re.current===t&&(Z(Re),Ao._currentValue=te)}var na,ra;function rr(t){if(na===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);na=r&&r[1]||"",ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+t+ra}var Sl=!1;function fs(t,r){if(!t||Sl)return"";Sl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var F=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){F=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){F=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],x=d[1];if(_&&x){var I=_.split(`
`),q=x.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===q.length)for(o=I.length-1,h=q.length-1;1<=o&&0<=h&&I[o]!==q[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==q[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==q[h]){var $=`
`+I[o].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=o&&0<=h);break}}}finally{Sl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?rr(a):""}function Al(t,r){switch(t.tag){case 26:case 27:case 5:return rr(t.type);case 16:return rr("Lazy");case 13:return t.child!==r&&r!==null?rr("Suspense Fallback"):rr("Suspense");case 19:return rr("SuspenseList");case 0:case 15:return fs(t.type,!1);case 11:return fs(t.type.render,!1);case 1:return fs(t.type,!0);case 31:return rr("Activity");default:return""}}function Rl(t){try{var r="",a=null;do r+=Al(t,a),a=t,t=t.return;while(t);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var vt=Object.prototype.hasOwnProperty,Ot=i.unstable_scheduleCallback,ci=i.unstable_cancelCallback,$h=i.unstable_shouldYield,fu=i.unstable_requestPaint,en=i.unstable_now,ds=i.unstable_getCurrentPriorityLevel,Nl=i.unstable_ImmediatePriority,Cl=i.unstable_UserBlockingPriority,hi=i.unstable_NormalPriority,Jh=i.unstable_LowPriority,du=i.unstable_IdlePriority,mu=i.log,gu=i.unstable_setDisableYieldValue,Un=null,Ut=null;function Sn(t){if(typeof mu=="function"&&gu(t),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Un,t)}catch{}}var mt=Math.clz32?Math.clz32:yu,pu=Math.log,ia=Math.LN2;function yu(t){return t>>>=0,t===0?32:31-(pu(t)/ia|0)|0}var ir=256,ms=262144,bt=4194304;function sr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ar(t,r,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var x=o&134217727;return x!==0?(o=x&~d,o!==0?h=sr(o):(_&=x,_!==0?h=sr(_):a||(a=x&~t,a!==0&&(h=sr(a))))):(x=o&~d,x!==0?h=sr(x):_!==0?h=sr(_):a||(a=o&~t,a!==0&&(h=sr(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function zn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Zh(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _u(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function lr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function gs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wh(t,r,a,o,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-mt(a),ee=1<<$;x[$]=0,I[$]=-1;var F=q[$];if(F!==null)for(q[$]=null,$=0;$<F.length;$++){var K=F[$];K!==null&&(K.lane&=-536870913)}a&=~ee}o!==0&&ps(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function ps(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-mt(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Il(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var o=31-mt(a),h=1<<o;h&r|t[o]&r&&(t[o]|=r),a&=~h}}function Dl(t,r){var a=r&-r;return a=(a&42)!==0?1:ys(a),(a&(t.suspendedLanes|r))!==0?0:a}function ys(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:h0(t.type))}function Bn(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var qn=Math.random().toString(36).slice(2),Et="__reactFiber$"+qn,Vt="__reactProps$"+qn,or="__reactContainer$"+qn,sa="__reactEvents$"+qn,ef="__reactListeners$"+qn,bu="__reactHandles$"+qn,Eu="__reactResources$"+qn,ur="__reactMarker$"+qn;function aa(t){delete t[Et],delete t[Vt],delete t[sa],delete t[ef],delete t[bu]}function cr(t){var r=t[Et];if(r)return r;for(var a=t.parentNode;a;){if(r=a[or]||a[Et]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=X_(t);t!==null;){if(a=t[Et])return a;t=X_(t)}return r}t=a,a=t.parentNode}return null}function An(t){if(t=t[Et]||t[or]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function dn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function hr(t){var r=t[Eu];return r||(r=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Tt(t){t[ur]=!0}var Ol=new Set,kl={};function fr(t,r){dr(t,r),dr(t+"Capture",r)}function dr(t,r){for(kl[t]=r,t=0;t<r.length;t++)Ol.add(r[t])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},jl={};function Tu(t){return vt.call(jl,t)?!0:vt.call(Vl,t)?!1:Ml.test(t)?jl[t]=!0:(Vl[t]=!0,!1)}function la(t,r,a){if(Tu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function mn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function xt(t,r,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+o)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fi(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Pl(t,r,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ke(t){if(!t._valueTracker){var r=fi(t)?"checked":"value";t._valueTracker=Pl(t,r,""+t[r])}}function _s(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return t&&(o=fi(t)?t.checked?"true":"false":t.value),t=o,t!==a?(r.setValue(t),!0):!1}function mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vs=/[\n"\\]/g;function rn(t){return t.replace(vs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function oa(t,r,a,o,h,d,_,x){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+jt(r)):t.value!==""+jt(r)&&(t.value=""+jt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Ll(t,_,jt(r)):a!=null?Ll(t,_,jt(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+jt(x):t.removeAttribute("name")}function xu(t,r,a,o,h,d,_,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ke(t);return}a=a!=null?""+jt(a):"",r=r!=null?""+jt(r):a,x||r===t.value||(t.value=r),t.defaultValue=r}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=x?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Ll(t,r,a){r==="number"&&mr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function di(t,r,a,o){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function wu(t,r,a){if(r!=null&&(r=""+jt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+jt(a):""}function mi(t,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(s(92));if(lt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=jt(r),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ke(t)}function sn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(t,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,a):typeof a!="number"||a===0||Su.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function zl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in r)o=r[h],r.hasOwnProperty(h)&&a[h]!==o&&Ul(t,h,o)}else for(var d in r)r.hasOwnProperty(d)&&Ul(t,d,r[d])}function ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(t){return gi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var Bl=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pi=null,gr=null;function bs(t){var r=An(t);if(r&&(t=r.stateNode)){var a=t[Vt]||null;e:switch(t=r.stateNode,r.type){case"input":if(oa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==t&&o.form===t.form){var h=o[Vt]||null;if(!h)throw Error(s(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===t.form&&_s(o)}break e;case"textarea":wu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&di(t,!!a.multiple,r,!1)}}}var ha=!1;function yi(t,r,a){if(ha)return t(r,a);ha=!0;try{var o=t(r);return o}finally{if(ha=!1,(pi!==null||gr!==null)&&(vc(),pi&&(r=pi,t=gr,gr=pi=null,bs(r),t)))for(r=0;r<t.length;r++)bs(t[r])}}function Fn(t,r){var a=t.stateNode;if(a===null)return null;var o=a[Vt]||null;if(o===null)return null;a=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if(Nn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Es=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Es=!1}var pr=null,ql=null,Ts=null;function Hl(){if(Ts)return Ts;var t,r=ql,a=r.length,o,h="value"in pr?pr.value:pr.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&r[a-o]===h[d-o];o++);return Ts=h.slice(t,1<o?1-o:void 0)}function xs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Vr(){return!0}function Gn(){return!1}function zt(t){function r(a,o,h,d,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Vr:Gn,this.isPropagationStopped=Gn,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),r}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yr=zt(jr),_i=T({},jr,{view:0,detail:0}),Fl=zt(_i),vi,fa,_r,da=T({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_r&&(_r&&t.type==="mousemove"?(vi=t.screenX-_r.screenX,fa=t.screenY-_r.screenY):fa=vi=0,_r=t),vi)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),Gl=zt(da),ws=T({},da,{dataTransfer:0}),Ru=zt(ws),Nu=T({},_i,{relatedTarget:0}),Ss=zt(Nu),Ql=T({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=zt(Ql),ma=T({},jr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Iu=zt(ma),Du=T({},jr,{data:0}),vr=zt(Du),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Mu[t])?!!r[t]:!1}function bi(){return Vu}var tn=T({},_i,{key:function(t){if(t.key){var r=Ou[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bi,charCode:function(t){return t.type==="keypress"?xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ju=zt(tn),Pu=T({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pr=zt(Pu),c=T({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bi}),y=zt(c),b=T({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=zt(b),U=T({},da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=zt(U),ue=T({},jr,{newState:0,oldState:0}),Ne=zt(ue),gt=[9,13,27,32],He=Nn&&"CompositionEvent"in window,ot=null;Nn&&"documentMode"in document&&(ot=document.documentMode);var Cn=Nn&&"TextEvent"in window&&!ot,br=Nn&&(!He||ot&&8<ot&&11>=ot),Qn=" ",Kn=!1;function As(t,r){switch(t){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function lx(t,r){switch(t){case"compositionend":return ga(r);case"keypress":return r.which!==32?null:(Kn=!0,Qn);case"textInput":return t=r.data,t===Qn&&Kn?null:t;default:return null}}function ox(t,r){if(pa)return t==="compositionend"||!He&&As(t,r)?(t=Hl(),Ts=ql=pr=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return br&&r.locale!=="ko"?null:r.data;default:return null}}var ux={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!ux[t.type]:r==="textarea"}function Wg(t,r,a,o){pi?gr?gr.push(o):gr=[o]:pi=o,r=Ac(r,"onChange"),0<r.length&&(a=new yr("onChange","change",null,a,o),t.push({event:a,listeners:r}))}var Kl=null,Yl=null;function cx(t){V_(t,0)}function Lu(t){var r=dn(t);if(_s(r))return t}function ep(t,r){if(t==="change")return r}var tp=!1;if(Nn){var tf;if(Nn){var nf="oninput"in document;if(!nf){var np=document.createElement("div");np.setAttribute("oninput","return;"),nf=typeof np.oninput=="function"}tf=nf}else tf=!1;tp=tf&&(!document.documentMode||9<document.documentMode)}function rp(){Kl&&(Kl.detachEvent("onpropertychange",ip),Yl=Kl=null)}function ip(t){if(t.propertyName==="value"&&Lu(Yl)){var r=[];Wg(r,Yl,t,Rn(t)),yi(cx,r)}}function hx(t,r,a){t==="focusin"?(rp(),Kl=r,Yl=a,Kl.attachEvent("onpropertychange",ip)):t==="focusout"&&rp()}function fx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Yl)}function dx(t,r){if(t==="click")return Lu(r)}function mx(t,r){if(t==="input"||t==="change")return Lu(r)}function gx(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var gn=typeof Object.is=="function"?Object.is:gx;function Xl(t,r){if(gn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!vt.call(r,h)||!gn(t[h],r[h]))return!1}return!0}function sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ap(t,r){var a=sp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=r&&o>=r)return{node:a,offset:r-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sp(a)}}function lp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?lp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function op(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=mr(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=mr(t.document)}return r}function rf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var px=Nn&&"documentMode"in document&&11>=document.documentMode,ya=null,sf=null,$l=null,af=!1;function up(t,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;af||ya==null||ya!==mr(o)||(o=ya,"selectionStart"in o&&rf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),$l&&Xl($l,o)||($l=o,o=Ac(sf,"onSelect"),0<o.length&&(r=new yr("onSelect","select",null,r,a),t.push({event:r,listeners:o}),r.target=ya)))}function Rs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var _a={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},lf={},cp={};Nn&&(cp=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Ns(t){if(lf[t])return lf[t];if(!_a[t])return t;var r=_a[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in cp)return lf[t]=r[a];return t}var hp=Ns("animationend"),fp=Ns("animationiteration"),dp=Ns("animationstart"),yx=Ns("transitionrun"),_x=Ns("transitionstart"),vx=Ns("transitioncancel"),mp=Ns("transitionend"),gp=new Map,of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");of.push("scrollEnd");function Yn(t,r){gp.set(t,r),fr(r,[t])}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],va=0,uf=0;function zu(){for(var t=va,r=uf=va=0;r<t;){var a=In[r];In[r++]=null;var o=In[r];In[r++]=null;var h=In[r];In[r++]=null;var d=In[r];if(In[r++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&pp(a,h,d)}}function Bu(t,r,a,o){In[va++]=t,In[va++]=r,In[va++]=a,In[va++]=o,uf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function cf(t,r,a,o){return Bu(t,r,a,o),qu(t)}function Cs(t,r){return Bu(t,null,null,r),qu(t)}function pp(t,r,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-mt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[r]:o.push(r),r.lane=a|536870912),d):null}function qu(t){if(50<vo)throw vo=0,vd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ba={};function bx(t,r,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,a,o){return new bx(t,r,a,o)}function hf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lr(t,r){var a=t.alternate;return a===null?(a=pn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function yp(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Hu(t,r,a,o,h,d){var _=0;if(o=t,typeof t=="function")hf(t)&&(_=1);else if(typeof t=="string")_=Sw(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=pn(31,a,r,h),t.elementType=C,t.lanes=d,t;case G:return Is(a.children,h,d,r);case z:_=8,h|=24;break;case re:return t=pn(12,a,r,h|2),t.elementType=re,t.lanes=d,t;case se:return t=pn(13,a,r,h),t.elementType=se,t.lanes=d,t;case le:return t=pn(19,a,r,h),t.elementType=le,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:_=10;break e;case Y:_=9;break e;case me:_=11;break e;case R:_=14;break e;case A:_=16,o=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return r=pn(_,a,r,h),r.elementType=t,r.type=o,r.lanes=d,r}function Is(t,r,a,o){return t=pn(7,t,o,r),t.lanes=a,t}function ff(t,r,a){return t=pn(6,t,null,r),t.lanes=a,t}function _p(t){var r=pn(18,null,null,0);return r.stateNode=t,r}function df(t,r,a){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var vp=new WeakMap;function Dn(t,r){if(typeof t=="object"&&t!==null){var a=vp.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Rl(r)},vp.set(t,r),r)}return{value:t,source:r,stack:Rl(r)}}var Ea=[],Ta=0,Fu=null,Jl=0,On=[],kn=0,Ei=null,Er=1,Tr="";function Ur(t,r){Ea[Ta++]=Jl,Ea[Ta++]=Fu,Fu=t,Jl=r}function bp(t,r,a){On[kn++]=Er,On[kn++]=Tr,On[kn++]=Ei,Ei=t;var o=Er;t=Tr;var h=32-mt(o)-1;o&=~(1<<h),a+=1;var d=32-mt(r)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Er=1<<32-mt(r)+h|a<<h|o,Tr=d+t}else Er=1<<d|a<<h|o,Tr=t}function mf(t){t.return!==null&&(Ur(t,1),bp(t,1,0))}function gf(t){for(;t===Fu;)Fu=Ea[--Ta],Ea[Ta]=null,Jl=Ea[--Ta],Ea[Ta]=null;for(;t===Ei;)Ei=On[--kn],On[kn]=null,Tr=On[--kn],On[kn]=null,Er=On[--kn],On[kn]=null}function Ep(t,r){On[kn++]=Er,On[kn++]=Tr,On[kn++]=Ei,Er=r.id,Tr=r.overflow,Ei=t}var Bt=null,it=null,Ue=!1,Ti=null,Mn=!1,pf=Error(s(519));function xi(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(Dn(r,t)),pf}function Tp(t){var r=t.stateNode,a=t.type,o=t.memoizedProps;switch(r[Et]=t,r[Vt]=o,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<Eo.length;a++)ke(Eo[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),xu(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),mi(r,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||U_(r.textContent,a)?(o.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),o.onScroll!=null&&ke("scroll",r),o.onScrollEnd!=null&&ke("scrollend",r),o.onClick!=null&&(r.onclick=Hn),r=!0):r=!1,r||xi(t,!0)}function xp(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Bt=Bt.return}}function xa(t){if(t!==Bt)return!1;if(!Ue)return xp(t),Ue=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Md(t.type,t.memoizedProps)),a=!a),a&&it&&xi(t),xp(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=Y_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=Y_(t)}else r===27?(r=it,Pi(t.type)?(t=Ud,Ud=null,it=t):it=r):it=Bt?jn(t.stateNode.nextSibling):null;return!0}function Ds(){it=Bt=null,Ue=!1}function yf(){var t=Ti;return t!==null&&(un===null?un=t:un.push.apply(un,t),Ti=null),t}function Zl(t){Ti===null?Ti=[t]:Ti.push(t)}var _f=k(null),Os=null,zr=null;function wi(t,r,a){ae(_f,r._currentValue),r._currentValue=a}function Br(t){t._currentValue=_f.current,Z(_f)}function vf(t,r,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===a)break;t=t.return}}function bf(t,r,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=h;for(var I=0;I<r.length;I++)if(x.context===r[I]){d.lanes|=a,x=d.alternate,x!==null&&(x.lanes|=a),vf(d.return,a,t),o||(_=null);break e}d=x.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),vf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function wa(t,r,a,o){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var x=h.type;gn(h.pendingProps.value,_.value)||(t!==null?t.push(x):t=[x])}}else if(h===Re.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ao):t=[Ao])}h=h.return}t!==null&&bf(r,t,a,o),r.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ks(t){Os=t,zr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return wp(Os,t)}function Qu(t,r){return Os===null&&ks(t),wp(t,r)}function wp(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},zr===null){if(t===null)throw Error(s(308));zr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else zr=zr.next=r;return a}var Ex=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Tx=i.unstable_scheduleCallback,xx=i.unstable_NormalPriority,wt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new Ex,data:new Map,refCount:0}}function Wl(t){t.refCount--,t.refCount===0&&Tx(xx,function(){t.controller.abort()})}var eo=null,Tf=0,Sa=0,Aa=null;function wx(t,r){if(eo===null){var a=eo=[];Tf=0,Sa=Sd(),Aa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Tf++,r.then(Sp,Sp),r}function Sp(){if(--Tf===0&&eo!==null){Aa!==null&&(Aa.status="fulfilled");var t=eo;eo=null,Sa=0,Aa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Sx(t,r){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Ap=X.S;X.S=function(t,r){u_=en(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&wx(t,r),Ap!==null&&Ap(t,r)};var Ms=k(null);function xf(){var t=Ms.current;return t!==null?t:tt.pooledCache}function Ku(t,r){r===null?ae(Ms,Ms.current):ae(Ms,r.pool)}function Rp(){var t=xf();return t===null?null:{parent:wt._currentValue,pool:t}}var Ra=Error(s(460)),wf=Error(s(474)),Yu=Error(s(542)),Xu={then:function(){}};function Np(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cp(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Hn,Hn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Dp(t),t;default:if(typeof r.status=="string")r.then(Hn,Hn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=o}},function(o){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Dp(t),t}throw js=r,Ra}}function Vs(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(js=a,Ra):a}}var js=null;function Ip(){if(js===null)throw Error(s(459));var t=js;return js=null,t}function Dp(t){if(t===Ra||t===Yu)throw Error(s(483))}var Na=null,to=0;function $u(t){var r=to;return to+=1,Na===null&&(Na=[]),Cp(Na,t,r)}function no(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ju(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Op(t){function r(P,M){if(t){var B=P.deletions;B===null?(P.deletions=[M],P.flags|=16):B.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)r(P,M),M=M.sibling;return null}function o(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=Lr(P,M),P.index=0,P.sibling=null,P}function d(P,M,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<M?(P.flags|=67108866,M):B):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function x(P,M,B,W){return M===null||M.tag!==6?(M=ff(B,P.mode,W),M.return=P,M):(M=h(M,B),M.return=P,M)}function I(P,M,B,W){var pe=B.type;return pe===G?$(P,M,B.props.children,W,B.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Vs(pe)===M.type)?(M=h(M,B.props),no(M,B),M.return=P,M):(M=Hu(B.type,B.key,B.props,null,P.mode,W),no(M,B),M.return=P,M)}function q(P,M,B,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=df(B,P.mode,W),M.return=P,M):(M=h(M,B.children||[]),M.return=P,M)}function $(P,M,B,W,pe){return M===null||M.tag!==7?(M=Is(B,P.mode,W,pe),M.return=P,M):(M=h(M,B),M.return=P,M)}function ee(P,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ff(""+M,P.mode,B),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case j:return B=Hu(M.type,M.key,M.props,null,P.mode,B),no(B,M),B.return=P,B;case L:return M=df(M,P.mode,B),M.return=P,M;case A:return M=Vs(M),ee(P,M,B)}if(lt(M)||D(M))return M=Is(M,P.mode,B,null),M.return=P,M;if(typeof M.then=="function")return ee(P,$u(M),B);if(M.$$typeof===J)return ee(P,Qu(P,M),B);Ju(P,M)}return null}function F(P,M,B,W){var pe=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:x(P,M,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===pe?I(P,M,B,W):null;case L:return B.key===pe?q(P,M,B,W):null;case A:return B=Vs(B),F(P,M,B,W)}if(lt(B)||D(B))return pe!==null?null:$(P,M,B,W,null);if(typeof B.then=="function")return F(P,M,$u(B),W);if(B.$$typeof===J)return F(P,M,Qu(P,B),W);Ju(P,B)}return null}function K(P,M,B,W,pe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(B)||null,x(M,P,""+W,pe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return P=P.get(W.key===null?B:W.key)||null,I(M,P,W,pe);case L:return P=P.get(W.key===null?B:W.key)||null,q(M,P,W,pe);case A:return W=Vs(W),K(P,M,B,W,pe)}if(lt(W)||D(W))return P=P.get(B)||null,$(M,P,W,pe,null);if(typeof W.then=="function")return K(P,M,B,$u(W),pe);if(W.$$typeof===J)return K(P,M,B,Qu(M,W),pe);Ju(M,W)}return null}function de(P,M,B,W){for(var pe=null,Be=null,ge=M,Ie=M=0,Ve=null;ge!==null&&Ie<B.length;Ie++){ge.index>Ie?(Ve=ge,ge=null):Ve=ge.sibling;var qe=F(P,ge,B[Ie],W);if(qe===null){ge===null&&(ge=Ve);break}t&&ge&&qe.alternate===null&&r(P,ge),M=d(qe,M,Ie),Be===null?pe=qe:Be.sibling=qe,Be=qe,ge=Ve}if(Ie===B.length)return a(P,ge),Ue&&Ur(P,Ie),pe;if(ge===null){for(;Ie<B.length;Ie++)ge=ee(P,B[Ie],W),ge!==null&&(M=d(ge,M,Ie),Be===null?pe=ge:Be.sibling=ge,Be=ge);return Ue&&Ur(P,Ie),pe}for(ge=o(ge);Ie<B.length;Ie++)Ve=K(ge,P,Ie,B[Ie],W),Ve!==null&&(t&&Ve.alternate!==null&&ge.delete(Ve.key===null?Ie:Ve.key),M=d(Ve,M,Ie),Be===null?pe=Ve:Be.sibling=Ve,Be=Ve);return t&&ge.forEach(function(qi){return r(P,qi)}),Ue&&Ur(P,Ie),pe}function ve(P,M,B,W){if(B==null)throw Error(s(151));for(var pe=null,Be=null,ge=M,Ie=M=0,Ve=null,qe=B.next();ge!==null&&!qe.done;Ie++,qe=B.next()){ge.index>Ie?(Ve=ge,ge=null):Ve=ge.sibling;var qi=F(P,ge,qe.value,W);if(qi===null){ge===null&&(ge=Ve);break}t&&ge&&qi.alternate===null&&r(P,ge),M=d(qi,M,Ie),Be===null?pe=qi:Be.sibling=qi,Be=qi,ge=Ve}if(qe.done)return a(P,ge),Ue&&Ur(P,Ie),pe;if(ge===null){for(;!qe.done;Ie++,qe=B.next())qe=ee(P,qe.value,W),qe!==null&&(M=d(qe,M,Ie),Be===null?pe=qe:Be.sibling=qe,Be=qe);return Ue&&Ur(P,Ie),pe}for(ge=o(ge);!qe.done;Ie++,qe=B.next())qe=K(ge,P,Ie,qe.value,W),qe!==null&&(t&&qe.alternate!==null&&ge.delete(qe.key===null?Ie:qe.key),M=d(qe,M,Ie),Be===null?pe=qe:Be.sibling=qe,Be=qe);return t&&ge.forEach(function(jw){return r(P,jw)}),Ue&&Ur(P,Ie),pe}function et(P,M,B,W){if(typeof B=="object"&&B!==null&&B.type===G&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:e:{for(var pe=B.key;M!==null;){if(M.key===pe){if(pe=B.type,pe===G){if(M.tag===7){a(P,M.sibling),W=h(M,B.props.children),W.return=P,P=W;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Vs(pe)===M.type){a(P,M.sibling),W=h(M,B.props),no(W,B),W.return=P,P=W;break e}a(P,M);break}else r(P,M);M=M.sibling}B.type===G?(W=Is(B.props.children,P.mode,W,B.key),W.return=P,P=W):(W=Hu(B.type,B.key,B.props,null,P.mode,W),no(W,B),W.return=P,P=W)}return _(P);case L:e:{for(pe=B.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(P,M.sibling),W=h(M,B.children||[]),W.return=P,P=W;break e}else{a(P,M);break}else r(P,M);M=M.sibling}W=df(B,P.mode,W),W.return=P,P=W}return _(P);case A:return B=Vs(B),et(P,M,B,W)}if(lt(B))return de(P,M,B,W);if(D(B)){if(pe=D(B),typeof pe!="function")throw Error(s(150));return B=pe.call(B),ve(P,M,B,W)}if(typeof B.then=="function")return et(P,M,$u(B),W);if(B.$$typeof===J)return et(P,M,Qu(P,B),W);Ju(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(P,M.sibling),W=h(M,B),W.return=P,P=W):(a(P,M),W=ff(B,P.mode,W),W.return=P,P=W),_(P)):a(P,M)}return function(P,M,B,W){try{to=0;var pe=et(P,M,B,W);return Na=null,pe}catch(ge){if(ge===Ra||ge===Yu)throw ge;var Be=pn(29,ge,null,P.mode);return Be.lanes=W,Be.return=P,Be}finally{}}}var Ps=Op(!0),kp=Op(!1),Si=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ai(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ri(t,r,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Fe&2)!==0){var h=o.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),o.pending=r,r=qu(t),pp(t,null,a),r}return Bu(t,o,r,a),qu(t)}function ro(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,Il(t,a)}}function Rf(t,r){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Nf=!1;function io(){if(Nf){var t=Aa;if(t!==null)throw t}}function so(t,r,a,o){Nf=!1;var h=t.updateQueue;Si=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var I=x,q=I.next;I.next=null,_===null?d=q:_.next=q,_=I;var $=t.alternate;$!==null&&($=$.updateQueue,x=$.lastBaseUpdate,x!==_&&(x===null?$.firstBaseUpdate=q:x.next=q,$.lastBaseUpdate=I))}if(d!==null){var ee=h.baseState;_=0,$=q=I=null,x=d;do{var F=x.lane&-536870913,K=F!==x.lane;if(K?(Me&F)===F:(o&F)===F){F!==0&&F===Sa&&(Nf=!0),$!==null&&($=$.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var de=t,ve=x;F=r;var et=a;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){ee=de.call(et,ee,F);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,F=typeof de=="function"?de.call(et,ee,F):de,F==null)break e;ee=T({},ee,F);break e;case 2:Si=!0}}F=x.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:x.tag,payload:x.payload,callback:x.callback,next:null},$===null?(q=$=K,I=ee):$=$.next=K,_|=F;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;K=x,x=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);$===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=q,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Oi|=_,t.lanes=_,t.memoizedState=ee}}function Mp(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Vp(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Mp(a[t],r)}var Ca=k(null),Zu=k(0);function jp(t,r){t=$r,ae(Zu,t),ae(Ca,r),$r=t|r.baseLanes}function Cf(){ae(Zu,$r),ae(Ca,Ca.current)}function If(){$r=Zu.current,Z(Ca),Z(Zu)}var yn=k(null),Vn=null;function Ni(t){var r=t.alternate;ae(pt,pt.current&1),ae(yn,t),Vn===null&&(r===null||Ca.current!==null||r.memoizedState!==null)&&(Vn=t)}function Df(t){ae(pt,pt.current),ae(yn,t),Vn===null&&(Vn=t)}function Pp(t){t.tag===22?(ae(pt,pt.current),ae(yn,t),Vn===null&&(Vn=t)):Ci()}function Ci(){ae(pt,pt.current),ae(yn,yn.current)}function _n(t){Z(yn),Vn===t&&(Vn=null),Z(pt)}var pt=k(0);function Wu(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Pd(a)||Ld(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var qr=0,Ce=null,Ze=null,St=null,ec=!1,Ia=!1,Ls=!1,tc=0,ao=0,Da=null,Ax=0;function ft(){throw Error(s(321))}function Of(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!gn(t[a],r[a]))return!1;return!0}function kf(t,r,a,o,h,d){return qr=d,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?by:Yf,Ls=!1,d=a(o,h),Ls=!1,Ia&&(d=Up(r,a,o,h)),Lp(t),d}function Lp(t){X.H=uo;var r=Ze!==null&&Ze.next!==null;if(qr=0,St=Ze=Ce=null,ec=!1,ao=0,Da=null,r)throw Error(s(300));t===null||At||(t=t.dependencies,t!==null&&Gu(t)&&(At=!0))}function Up(t,r,a,o){Ce=t;var h=0;do{if(Ia&&(Da=null),ao=0,Ia=!1,25<=h)throw Error(s(301));if(h+=1,St=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=Ey,d=r(a,o)}while(Ia);return d}function Rx(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?lo(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ce.flags|=1024),r}function Mf(){var t=tc!==0;return tc=0,t}function Vf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function jf(t){if(ec){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ec=!1}qr=0,St=Ze=Ce=null,Ia=!1,ao=tc=0,Da=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ce.memoizedState=St=t:St=St.next=t,St}function yt(){if(Ze===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=St===null?Ce.memoizedState:St.next;if(r!==null)St=r,Ze=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},St===null?Ce.memoizedState=St=t:St=St.next=t}return St}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lo(t){var r=ao;return ao+=1,Da===null&&(Da=[]),t=Cp(Da,t,r),r=Ce,(St===null?r.memoizedState:St.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?by:Yf),t}function rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return lo(t);if(t.$$typeof===J)return qt(t)}throw Error(s(438,String(t)))}function Pf(t){var r=null,a=Ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=Ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=nc(),Ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),o=0;o<t;o++)a[o]=V;return r.index++,a}function Hr(t,r){return typeof r=="function"?r(t):r}function ic(t){var r=yt();return Lf(r,Ze,t)}function Lf(t,r,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var x=_=null,I=null,q=r,$=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Me&ee)===ee:(qr&ee)===ee){var F=q.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===Sa&&($=!0);else if((qr&F)===F){q=q.next,F===Sa&&($=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(x=I=ee,_=d):I=I.next=ee,Ce.lanes|=F,Oi|=F;ee=q.action,Ls&&a(d,ee),d=q.hasEagerState?q.eagerState:a(d,ee)}else F={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(x=I=F,_=d):I=I.next=F,Ce.lanes|=ee,Oi|=ee;q=q.next}while(q!==null&&q!==r);if(I===null?_=d:I.next=x,!gn(d,t.memoizedState)&&(At=!0,$&&(a=Aa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=I,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Uf(t){var r=yt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);gn(d,r.memoizedState)||(At=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,o]}function zp(t,r,a){var o=Ce,h=yt(),d=Ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!gn((Ze||h).memoizedState,a);if(_&&(h.memoizedState=a,At=!0),h=h.queue,qf(Hp.bind(null,o,h,t),[t]),h.getSnapshot!==r||_||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},qp.bind(null,o,h,a,r),null),tt===null)throw Error(s(349));d||(qr&127)!==0||Bp(o,r,a)}return a}function Bp(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ce.updateQueue,r===null?(r=nc(),Ce.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function qp(t,r,a,o){r.value=a,r.getSnapshot=o,Fp(r)&&Gp(t)}function Hp(t,r,a){return a(function(){Fp(r)&&Gp(t)})}function Fp(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!gn(t,a)}catch{return!0}}function Gp(t){var r=Cs(t,2);r!==null&&cn(r,t,2)}function zf(t){var r=nn();if(typeof t=="function"){var a=t;if(t=a(),Ls){Sn(!0);try{a()}finally{Sn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:t},r}function Qp(t,r,a,o){return t.baseState=a,Lf(t,Ze,typeof o=="function"?o:Hr)}function Nx(t,r,a,o,h){if(lc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,o(d),a=r.pending,a===null?(d.next=r.pending=d,Kp(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Kp(t,r){var a=r.action,o=r.payload,h=t.state;if(r.isTransition){var d=X.T,_={};X.T=_;try{var x=a(h,o),I=X.S;I!==null&&I(_,x),Yp(t,r,x)}catch(q){Bf(t,r,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(h,o),Yp(t,r,d)}catch(q){Bf(t,r,q)}}function Yp(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Xp(t,r,o)},function(o){return Bf(t,r,o)}):Xp(t,r,a)}function Xp(t,r,a){r.status="fulfilled",r.value=a,$p(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Kp(t,a)))}function Bf(t,r,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,$p(r),r=r.next;while(r!==o)}t.action=null}function $p(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Jp(t,r){return r}function Zp(t,r){if(Ue){var a=tt.formState;if(a!==null){e:{var o=Ce;if(Ue){if(it){t:{for(var h=it,d=Mn;h.nodeType!==8;){if(!d){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=jn(h.nextSibling),o=h.data==="F!";break e}}xi(o)}o=!1}o&&(r=a[0])}}return a=nn(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jp,lastRenderedState:r},a.queue=o,a=yy.bind(null,Ce,o),o.dispatch=a,o=zf(!1),d=Kf.bind(null,Ce,!1,o.queue),o=nn(),h={state:r,dispatch:null,action:t,pending:null},o.queue=h,a=Nx.bind(null,Ce,h,d,a),h.dispatch=a,o.memoizedState=t,[r,a,!1]}function Wp(t){var r=yt();return ey(r,Ze,t)}function ey(t,r,a){if(r=Lf(t,r,Jp)[0],t=ic(Hr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=lo(r)}catch(_){throw _===Ra?Yu:_}else o=r;r=yt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ce.flags|=2048,Oa(9,{destroy:void 0},Cx.bind(null,h,a),null)),[o,d,t]}function Cx(t,r){t.action=r}function ty(t){var r=yt(),a=Ze;if(a!==null)return ey(r,a,t);yt(),r=r.memoizedState,a=yt();var o=a.queue.dispatch;return a.memoizedState=t,[r,o,!1]}function Oa(t,r,a,o){return t={tag:t,create:a,deps:o,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=nc(),Ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,r.lastEffect=t),t}function ny(){return yt().memoizedState}function sc(t,r,a,o){var h=nn();Ce.flags|=t,h.memoizedState=Oa(1|r,{destroy:void 0},a,o===void 0?null:o)}function ac(t,r,a,o){var h=yt();o=o===void 0?null:o;var d=h.memoizedState.inst;Ze!==null&&o!==null&&Of(o,Ze.memoizedState.deps)?h.memoizedState=Oa(r,d,a,o):(Ce.flags|=t,h.memoizedState=Oa(1|r,d,a,o))}function ry(t,r){sc(8390656,8,t,r)}function qf(t,r){ac(2048,8,t,r)}function Ix(t){Ce.flags|=4;var r=Ce.updateQueue;if(r===null)r=nc(),Ce.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function iy(t){var r=yt().memoizedState;return Ix({ref:r,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function sy(t,r){return ac(4,2,t,r)}function ay(t,r){return ac(4,4,t,r)}function ly(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function oy(t,r,a){a=a!=null?a.concat([t]):null,ac(4,4,ly.bind(null,r,t),a)}function Hf(){}function uy(t,r){var a=yt();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&Of(r,o[1])?o[0]:(a.memoizedState=[t,r],t)}function cy(t,r){var a=yt();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&Of(r,o[1]))return o[0];if(o=t(),Ls){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[o,r],o}function Ff(t,r,a){return a===void 0||(qr&1073741824)!==0&&(Me&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=h_(),Ce.lanes|=t,Oi|=t,a)}function hy(t,r,a,o){return gn(a,r)?a:Ca.current!==null?(t=Ff(t,a,o),gn(t,r)||(At=!0),t):(qr&42)===0||(qr&1073741824)!==0&&(Me&261930)===0?(At=!0,t.memoizedState=a):(t=h_(),Ce.lanes|=t,Oi|=t,r)}function fy(t,r,a,o,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=X.T,x={};X.T=x,Kf(t,!1,r,a);try{var I=h(),q=X.S;if(q!==null&&q(x,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=Sx(I,o);oo(t,r,$,En(t))}else oo(t,r,o,En(t))}catch(ee){oo(t,r,{then:function(){},status:"rejected",reason:ee},En())}finally{oe.p=d,_!==null&&x.types!==null&&(_.types=x.types),X.T=_}}function Dx(){}function Gf(t,r,a,o){if(t.tag!==5)throw Error(s(476));var h=dy(t).queue;fy(t,h,r,te,a===null?Dx:function(){return my(t),a(o)})}function dy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:te},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function my(t){var r=dy(t);r.next===null&&(r=t.alternate.memoizedState),oo(t,r.next.queue,{},En())}function Qf(){return qt(Ao)}function gy(){return yt().memoizedState}function py(){return yt().memoizedState}function Ox(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=En();t=Ai(a);var o=Ri(r,t,a);o!==null&&(cn(o,r,a),ro(o,r,a)),r={cache:Ef()},t.payload=r;return}r=r.return}}function kx(t,r,a){var o=En();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?_y(r,a):(a=cf(t,r,a,o),a!==null&&(cn(a,t,o),vy(a,r,o)))}function yy(t,r,a){var o=En();oo(t,r,a,o)}function oo(t,r,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))_y(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,x=d(_,a);if(h.hasEagerState=!0,h.eagerState=x,gn(x,_))return Bu(t,r,h,0),tt===null&&zu(),!1}catch{}finally{}if(a=cf(t,r,h,o),a!==null)return cn(a,t,o),vy(a,r,o),!0}return!1}function Kf(t,r,a,o){if(o={lane:2,revertLane:Sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(r)throw Error(s(479))}else r=cf(t,a,o,2),r!==null&&cn(r,t,2)}function lc(t){var r=t.alternate;return t===Ce||r!==null&&r===Ce}function _y(t,r){Ia=ec=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function vy(t,r,a){if((a&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,a|=o,r.lanes=a,Il(t,a)}}var uo={readContext:qt,use:rc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};uo.useEffectEvent=ft;var by={readContext:qt,use:rc,useCallback:function(t,r){return nn().memoizedState=[t,r===void 0?null:r],t},useContext:qt,useEffect:ry,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,sc(4194308,4,ly.bind(null,r,t),a)},useLayoutEffect:function(t,r){return sc(4194308,4,t,r)},useInsertionEffect:function(t,r){sc(4,2,t,r)},useMemo:function(t,r){var a=nn();r=r===void 0?null:r;var o=t();if(Ls){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[o,r],o},useReducer:function(t,r,a){var o=nn();if(a!==void 0){var h=a(r);if(Ls){Sn(!0);try{a(r)}finally{Sn(!1)}}}else h=r;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=kx.bind(null,Ce,t),[o.memoizedState,t]},useRef:function(t){var r=nn();return t={current:t},r.memoizedState=t},useState:function(t){t=zf(t);var r=t.queue,a=yy.bind(null,Ce,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(t,r){var a=nn();return Ff(a,t,r)},useTransition:function(){var t=zf(!1);return t=fy.bind(null,Ce,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var o=Ce,h=nn();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(Me&127)!==0||Bp(o,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,ry(Hp.bind(null,o,d,t),[t]),o.flags|=2048,Oa(9,{destroy:void 0},qp.bind(null,o,d,a,r),null),a},useId:function(){var t=nn(),r=tt.identifierPrefix;if(Ue){var a=Tr,o=Er;a=(o&~(1<<32-mt(o)-1)).toString(32)+a,r="_"+r+"R_"+a,a=tc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Ax++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Qf,useFormState:Zp,useActionState:Zp,useOptimistic:function(t){var r=nn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Kf.bind(null,Ce,!0,a),a.dispatch=r,[t,r]},useMemoCache:Pf,useCacheRefresh:function(){return nn().memoizedState=Ox.bind(null,Ce)},useEffectEvent:function(t){var r=nn(),a={impl:t};return r.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Yf={readContext:qt,use:rc,useCallback:uy,useContext:qt,useEffect:qf,useImperativeHandle:oy,useInsertionEffect:sy,useLayoutEffect:ay,useMemo:cy,useReducer:ic,useRef:ny,useState:function(){return ic(Hr)},useDebugValue:Hf,useDeferredValue:function(t,r){var a=yt();return hy(a,Ze.memoizedState,t,r)},useTransition:function(){var t=ic(Hr)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:lo(t),r]},useSyncExternalStore:zp,useId:gy,useHostTransitionStatus:Qf,useFormState:Wp,useActionState:Wp,useOptimistic:function(t,r){var a=yt();return Qp(a,Ze,t,r)},useMemoCache:Pf,useCacheRefresh:py};Yf.useEffectEvent=iy;var Ey={readContext:qt,use:rc,useCallback:uy,useContext:qt,useEffect:qf,useImperativeHandle:oy,useInsertionEffect:sy,useLayoutEffect:ay,useMemo:cy,useReducer:Uf,useRef:ny,useState:function(){return Uf(Hr)},useDebugValue:Hf,useDeferredValue:function(t,r){var a=yt();return Ze===null?Ff(a,t,r):hy(a,Ze.memoizedState,t,r)},useTransition:function(){var t=Uf(Hr)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:lo(t),r]},useSyncExternalStore:zp,useId:gy,useHostTransitionStatus:Qf,useFormState:ty,useActionState:ty,useOptimistic:function(t,r){var a=yt();return Ze!==null?Qp(a,Ze,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Pf,useCacheRefresh:py};Ey.useEffectEvent=iy;function Xf(t,r,a,o){r=t.memoizedState,a=a(o,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var $f={enqueueSetState:function(t,r,a){t=t._reactInternals;var o=En(),h=Ai(o);h.payload=r,a!=null&&(h.callback=a),r=Ri(t,h,o),r!==null&&(cn(r,t,o),ro(r,t,o))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var o=En(),h=Ai(o);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ri(t,h,o),r!==null&&(cn(r,t,o),ro(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=En(),o=Ai(a);o.tag=2,r!=null&&(o.callback=r),r=Ri(t,o,a),r!==null&&(cn(r,t,a),ro(r,t,a))}};function Ty(t,r,a,o,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,_):r.prototype&&r.prototype.isPureReactComponent?!Xl(a,o)||!Xl(h,d):!0}function xy(t,r,a,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==t&&$f.enqueueReplaceState(r,r.state,null)}function Us(t,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function wy(t){Uu(t)}function Sy(t){console.error(t)}function Ay(t){Uu(t)}function oc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function Ry(t,r,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jf(t,r,a){return a=Ai(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(t,r)},a}function Ny(t){return t=Ai(t),t.tag=3,t}function Cy(t,r,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Ry(r,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ry(r,a,o),typeof h!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})})}function Mx(t,r,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&wa(r,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?bc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Xu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),Td(t,o,h)),!1;case 22:return a.flags|=65536,o===Xu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),Td(t,o,h)),!1}throw Error(s(435,a.tag))}return Td(t,o,h),bc(),!1}if(Ue)return r=yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,o!==pf&&(t=Error(s(422),{cause:o}),Zl(Dn(t,a)))):(o!==pf&&(r=Error(s(423),{cause:o}),Zl(Dn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Dn(o,a),h=Jf(t.stateNode,o,h),Rf(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:o});if(d=Dn(d,a),_o===null?_o=[d]:_o.push(d),dt!==4&&(dt=2),r===null)return!0;o=Dn(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Jf(a.stateNode,o,t),Rf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ki===null||!ki.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ny(h),Cy(h,t,a,o),Rf(a,h),!1}a=a.return}while(a!==null);return!1}var Zf=Error(s(461)),At=!1;function Ht(t,r,a,o){r.child=t===null?kp(r,null,a,o):Ps(r,t.child,a,o)}function Iy(t,r,a,o,h){a=a.render;var d=r.ref;if("ref"in o){var _={};for(var x in o)x!=="ref"&&(_[x]=o[x])}else _=o;return ks(r),o=kf(t,r,a,_,d,h),x=Mf(),t!==null&&!At?(Vf(t,r,h),Fr(t,r,h)):(Ue&&x&&mf(r),r.flags|=1,Ht(t,r,o,h),r.child)}function Dy(t,r,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!hf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Oy(t,r,d,o,h)):(t=Hu(a.type,null,o,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!ad(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Xl,a(_,o)&&t.ref===r.ref)return Fr(t,r,h)}return r.flags|=1,t=Lr(d,o),t.ref=r.ref,t.return=r,r.child=t}function Oy(t,r,a,o,h){if(t!==null){var d=t.memoizedProps;if(Xl(d,o)&&t.ref===r.ref)if(At=!1,r.pendingProps=o=d,ad(t,h))(t.flags&131072)!==0&&(At=!0);else return r.lanes=t.lanes,Fr(t,r,h)}return Wf(t,r,a,o,h)}function ky(t,r,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=r.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,r.child=null;return My(t,r,d,a,o)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ku(r,d!==null?d.cachePool:null),d!==null?jp(r,d):Cf(),Pp(r);else return o=r.lanes=536870912,My(t,r,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(Ku(r,d.cachePool),jp(r,d),Ci(),r.memoizedState=null):(t!==null&&Ku(r,null),Cf(),Ci());return Ht(t,r,h,a),r.child}function co(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function My(t,r,a,o,h){var d=xf();return d=d===null?null:{parent:wt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&Ku(r,null),Cf(),Pp(r),t!==null&&wa(t,r,o,!0),r.childLanes=h,null}function uc(t,r){return r=hc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Vy(t,r,a){return Ps(r,t.child,null,a),t=uc(r,r.pendingProps),t.flags|=2,_n(r),r.memoizedState=null,t}function Vx(t,r,a){var o=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Ue){if(o.mode==="hidden")return t=uc(r,o),r.lanes=536870912,co(null,t);if(Df(r),(t=it)?(t=K_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ei!==null?{id:Er,overflow:Tr}:null,retryLane:536870912,hydrationErrors:null},a=_p(t),a.return=r,r.child=a,Bt=r,it=null)):t=null,t===null)throw xi(r);return r.lanes=536870912,null}return uc(r,o)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Df(r),h)if(r.flags&256)r.flags&=-257,r=Vy(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(At||wa(t,r,a,!1),h=(a&t.childLanes)!==0,At||h){if(o=tt,o!==null&&(_=Dl(o,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Cs(t,_),cn(o,t,_),Zf;bc(),r=Vy(t,r,a)}else t=d.treeContext,it=jn(_.nextSibling),Bt=r,Ue=!0,Ti=null,Mn=!1,t!==null&&Ep(r,t),r=uc(r,o),r.flags|=4096;return r}return t=Lr(t.child,{mode:o.mode,children:o.children}),t.ref=r.ref,r.child=t,t.return=r,t}function cc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Wf(t,r,a,o,h){return ks(r),a=kf(t,r,a,o,void 0,h),o=Mf(),t!==null&&!At?(Vf(t,r,h),Fr(t,r,h)):(Ue&&o&&mf(r),r.flags|=1,Ht(t,r,a,h),r.child)}function jy(t,r,a,o,h,d){return ks(r),r.updateQueue=null,a=Up(r,o,a,h),Lp(t),o=Mf(),t!==null&&!At?(Vf(t,r,d),Fr(t,r,d)):(Ue&&o&&mf(r),r.flags|=1,Ht(t,r,a,d),r.child)}function Py(t,r,a,o,h){if(ks(r),r.stateNode===null){var d=ba,_=a.contextType;typeof _=="object"&&_!==null&&(d=qt(_)),d=new a(o,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$f,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=o,d.state=r.memoizedState,d.refs={},Sf(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?qt(_):ba,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Xf(r,a,_,o),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&$f.enqueueReplaceState(d,d.state,null),so(r,o,d,h),io(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){d=r.stateNode;var x=r.memoizedProps,I=Us(a,x);d.props=I;var q=d.context,$=a.contextType;_=ba,typeof $=="object"&&$!==null&&(_=qt($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||q!==_)&&xy(r,d,o,_),Si=!1;var F=r.memoizedState;d.state=F,so(r,o,d,h),io(),q=r.memoizedState,x||F!==q||Si?(typeof ee=="function"&&(Xf(r,a,ee,o),q=r.memoizedState),(I=Si||Ty(r,a,I,o,F,q,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=q),d.props=o,d.state=q,d.context=_,o=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{d=r.stateNode,Af(t,r),_=r.memoizedProps,$=Us(a,_),d.props=$,ee=r.pendingProps,F=d.context,q=a.contextType,I=ba,typeof q=="object"&&q!==null&&(I=qt(q)),x=a.getDerivedStateFromProps,(q=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||F!==I)&&xy(r,d,o,I),Si=!1,F=r.memoizedState,d.state=F,so(r,o,d,h),io();var K=r.memoizedState;_!==ee||F!==K||Si||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof x=="function"&&(Xf(r,a,x,o),K=r.memoizedState),($=Si||Ty(r,a,$,o,F,K,I)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,K,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,K,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=K),d.props=o,d.state=K,d.context=I,o=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),o=!1)}return d=o,cc(t,r),o=(r.flags&128)!==0,d||o?(d=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&o?(r.child=Ps(r,t.child,null,h),r.child=Ps(r,null,a,h)):Ht(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Fr(t,r,h),t}function Ly(t,r,a,o){return Ds(),r.flags|=256,Ht(t,r,a,o),r.child}var ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function td(t){return{baseLanes:t,cachePool:Rp()}}function nd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=bn),t}function Uy(t,r,a){var o=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ue){if(h?Ni(r):Ci(),(t=it)?(t=K_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ei!==null?{id:Er,overflow:Tr}:null,retryLane:536870912,hydrationErrors:null},a=_p(t),a.return=r,r.child=a,Bt=r,it=null)):t=null,t===null)throw xi(r);return Ld(t)?r.lanes=32:r.lanes=536870912,null}var x=o.children;return o=o.fallback,h?(Ci(),h=r.mode,x=hc({mode:"hidden",children:x},h),o=Is(o,h,a,null),x.return=r,o.return=r,x.sibling=o,r.child=x,o=r.child,o.memoizedState=td(a),o.childLanes=nd(t,_,a),r.memoizedState=ed,co(null,o)):(Ni(r),rd(r,x))}var I=t.memoizedState;if(I!==null&&(x=I.dehydrated,x!==null)){if(d)r.flags&256?(Ni(r),r.flags&=-257,r=id(t,r,a)):r.memoizedState!==null?(Ci(),r.child=t.child,r.flags|=128,r=null):(Ci(),x=o.fallback,h=r.mode,o=hc({mode:"visible",children:o.children},h),x=Is(x,h,a,null),x.flags|=2,o.return=r,x.return=r,o.sibling=x,r.child=o,Ps(r,t.child,null,a),o=r.child,o.memoizedState=td(a),o.childLanes=nd(t,_,a),r.memoizedState=ed,r=co(null,o));else if(Ni(r),Ld(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var q=_.dgst;_=q,o=Error(s(419)),o.stack="",o.digest=_,Zl({value:o,source:null,stack:null}),r=id(t,r,a)}else if(At||wa(t,r,a,!1),_=(a&t.childLanes)!==0,At||_){if(_=tt,_!==null&&(o=Dl(_,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Cs(t,o),cn(_,t,o),Zf;Pd(x)||bc(),r=id(t,r,a)}else Pd(x)?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,it=jn(x.nextSibling),Bt=r,Ue=!0,Ti=null,Mn=!1,t!==null&&Ep(r,t),r=rd(r,o.children),r.flags|=4096);return r}return h?(Ci(),x=o.fallback,h=r.mode,I=t.child,q=I.sibling,o=Lr(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,q!==null?x=Lr(q,x):(x=Is(x,h,a,null),x.flags|=2),x.return=r,o.return=r,o.sibling=x,r.child=o,co(null,o),o=r.child,x=t.child.memoizedState,x===null?x=td(a):(h=x.cachePool,h!==null?(I=wt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Rp(),x={baseLanes:x.baseLanes|a,cachePool:h}),o.memoizedState=x,o.childLanes=nd(t,_,a),r.memoizedState=ed,co(t.child,o)):(Ni(r),a=t.child,t=a.sibling,a=Lr(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function rd(t,r){return r=hc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function hc(t,r){return t=pn(22,t,null,r),t.lanes=0,t}function id(t,r,a){return Ps(r,t.child,null,a),t=rd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function zy(t,r,a){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),vf(t.return,r,a)}function sd(t,r,a,o,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function By(t,r,a){var o=r.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var _=pt.current,x=(_&2)!==0;if(x?(_=_&1|2,r.flags|=128):_&=1,ae(pt,_),Ht(t,r,o,a),o=Ue?Jl:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zy(t,a,r);else if(t.tag===19)zy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Wu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),sd(r,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Wu(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}sd(r,!0,a,null,d,o);break;case"together":sd(r,!1,null,null,void 0,o);break;default:r.memoizedState=null}return r.child}function Fr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Oi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(wa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Lr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Lr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function ad(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function jx(t,r,a){switch(r.tag){case 3:nt(r,r.stateNode.containerInfo),wi(r,wt,t.memoizedState.cache),Ds();break;case 27:case 5:nr(r);break;case 4:nt(r,r.stateNode.containerInfo);break;case 10:wi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Df(r),null;break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(Ni(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Uy(t,r,a):(Ni(r),t=Fr(t,r,a),t!==null?t.sibling:null);Ni(r);break;case 19:var h=(t.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||(wa(t,r,a,!1),o=(a&r.childLanes)!==0),h){if(o)return By(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(pt,pt.current),o)break;return null;case 22:return r.lanes=0,ky(t,r,a,r.pendingProps);case 24:wi(r,wt,t.memoizedState.cache)}return Fr(t,r,a)}function qy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)At=!0;else{if(!ad(t,a)&&(r.flags&128)===0)return At=!1,jx(t,r,a);At=(t.flags&131072)!==0}else At=!1,Ue&&(r.flags&1048576)!==0&&bp(r,Jl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var o=r.pendingProps;if(t=Vs(r.elementType),r.type=t,typeof t=="function")hf(t)?(o=Us(t,o),r.tag=1,r=Py(null,r,t,o,a)):(r.tag=0,r=Wf(null,r,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===me){r.tag=11,r=Iy(null,r,t,o,a);break e}else if(h===R){r.tag=14,r=Dy(null,r,t,o,a);break e}}throw r=Qe(t)||t,Error(s(306,r,""))}}return r;case 0:return Wf(t,r,r.type,r.pendingProps,a);case 1:return o=r.type,h=Us(o,r.pendingProps),Py(t,r,o,h,a);case 3:e:{if(nt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));o=r.pendingProps;var d=r.memoizedState;h=d.element,Af(t,r),so(r,o,null,a);var _=r.memoizedState;if(o=_.cache,wi(r,wt,o),o!==d.cache&&bf(r,[wt],a,!0),io(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Ly(t,r,o,a);break e}else if(o!==h){h=Dn(Error(s(424)),r),Zl(h),r=Ly(t,r,o,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=jn(t.firstChild),Bt=r,Ue=!0,Ti=null,Mn=!0,a=kp(r,null,o,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ds(),o===h){r=Fr(t,r,a);break e}Ht(t,r,o,a)}r=r.child}return r;case 26:return cc(t,r),t===null?(a=W_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ue||(a=r.type,t=r.pendingProps,o=Rc(be.current).createElement(a),o[Et]=r,o[Vt]=t,Ft(o,a,t),Tt(o),r.stateNode=o):r.memoizedState=W_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return nr(r),t===null&&Ue&&(o=r.stateNode=$_(r.type,r.pendingProps,be.current),Bt=r,Mn=!0,h=it,Pi(r.type)?(Ud=h,it=jn(o.firstChild)):it=h),Ht(t,r,r.pendingProps.children,a),cc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ue&&((h=o=it)&&(o=fw(o,r.type,r.pendingProps,Mn),o!==null?(r.stateNode=o,Bt=r,it=jn(o.firstChild),Mn=!1,h=!0):h=!1),h||xi(r)),nr(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,o=d.children,Md(h,d)?o=null:_!==null&&Md(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=kf(t,r,Rx,null,null,a),Ao._currentValue=h),cc(t,r),Ht(t,r,o,a),r.child;case 6:return t===null&&Ue&&((t=a=it)&&(a=dw(a,r.pendingProps,Mn),a!==null?(r.stateNode=a,Bt=r,it=null,t=!0):t=!1),t||xi(r)),null;case 13:return Uy(t,r,a);case 4:return nt(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=Ps(r,null,o,a):Ht(t,r,o,a),r.child;case 11:return Iy(t,r,r.type,r.pendingProps,a);case 7:return Ht(t,r,r.pendingProps,a),r.child;case 8:return Ht(t,r,r.pendingProps.children,a),r.child;case 12:return Ht(t,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,wi(r,r.type,o.value),Ht(t,r,o.children,a),r.child;case 9:return h=r.type._context,o=r.pendingProps.children,ks(r),h=qt(h),o=o(h),r.flags|=1,Ht(t,r,o,a),r.child;case 14:return Dy(t,r,r.type,r.pendingProps,a);case 15:return Oy(t,r,r.type,r.pendingProps,a);case 19:return By(t,r,a);case 31:return Vx(t,r,a);case 22:return ky(t,r,a,r.pendingProps);case 24:return ks(r),o=qt(wt),t===null?(h=xf(),h===null&&(h=tt,d=Ef(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:o,cache:h},Sf(r),wi(r,wt,h)):((t.lanes&a)!==0&&(Af(t,r),so(r,null,null,a),io()),h=t.memoizedState,d=r.memoizedState,h.parent!==o?(h={parent:o,cache:o},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),wi(r,wt,o)):(o=d.cache,wi(r,wt,o),o!==h.cache&&bf(r,[wt],a,!0))),Ht(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Gr(t){t.flags|=4}function ld(t,r,a,o,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(g_())t.flags|=8192;else throw js=Xu,wf}else t.flags&=-16777217}function Hy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!i0(r))if(g_())t.flags|=8192;else throw js=Xu,wf}function fc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?_u():536870912,t.lanes|=r,ja|=r)}function ho(t,r){if(!Ue)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function st(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,r}function Px(t,r,a){var o=r.pendingProps;switch(gf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Br(wt),$e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(xa(r)?Gr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,yf())),st(r),null;case 26:var h=r.type,d=r.memoizedState;return t===null?(Gr(r),d!==null?(st(r),Hy(r,d)):(st(r),ld(r,h,null,o,a))):d?d!==t.memoizedState?(Gr(r),st(r),Hy(r,d)):(st(r),r.flags&=-16777217):(t=t.memoizedProps,t!==o&&Gr(r),st(r),ld(r,h,t,o,a)),null;case 27:if(ta(r),a=be.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Gr(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return st(r),null}t=ce.current,xa(r)?Tp(r):(t=$_(h,o,a),r.stateNode=t,Gr(r))}return st(r),null;case 5:if(ta(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&Gr(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(d=ce.current,xa(r))Tp(r);else{var _=Rc(be.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}d[Et]=r,d[Vt]=o;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(Ft(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Gr(r)}}return st(r),ld(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&Gr(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,xa(r)){if(t=r.stateNode,a=r.memoizedProps,o=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Et]=r,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||U_(t.nodeValue,a)),t||xi(r,!0)}else t=Rc(t).createTextNode(o),t[Et]=r,r.stateNode=t}return st(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(o=xa(r),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=r}else Ds(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),t=!1}else a=yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(_n(r),r):(_n(r),null);if((r.flags&128)!==0)throw Error(s(558))}return st(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=xa(r),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=r}else Ds(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),h=!1}else h=yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(_n(r),r):(_n(r),null)}return _n(r),(r.flags&128)!==0?(r.lanes=a,r):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=r.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),fc(r,r.updateQueue),st(r),null);case 4:return $e(),t===null&&Cd(r.stateNode.containerInfo),st(r),null;case 10:return Br(r.type),st(r),null;case 19:if(Z(pt),o=r.memoizedState,o===null)return st(r),null;if(h=(r.flags&128)!==0,d=o.rendering,d===null)if(h)ho(o,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Wu(t),d!==null){for(r.flags|=128,ho(o,!1),t=d.updateQueue,r.updateQueue=t,fc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)yp(a,t),a=a.sibling;return ae(pt,pt.current&1|2),Ue&&Ur(r,o.treeForkCount),r.child}t=t.sibling}o.tail!==null&&en()>yc&&(r.flags|=128,h=!0,ho(o,!1),r.lanes=4194304)}else{if(!h)if(t=Wu(d),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,fc(r,t),ho(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ue)return st(r),null}else 2*en()-o.renderingStartTime>yc&&a!==536870912&&(r.flags|=128,h=!0,ho(o,!1),r.lanes=4194304);o.isBackwards?(d.sibling=r.child,r.child=d):(t=o.last,t!==null?t.sibling=d:r.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=en(),t.sibling=null,a=pt.current,ae(pt,h?a&1|2:a&1),Ue&&Ur(r,o.treeForkCount),t):(st(r),null);case 22:case 23:return _n(r),If(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&fc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),t!==null&&Z(Ms),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Br(wt),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Lx(t,r){switch(gf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Br(wt),$e(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ta(r),null;case 31:if(r.memoizedState!==null){if(_n(r),r.alternate===null)throw Error(s(340));Ds()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(_n(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ds()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Z(pt),null;case 4:return $e(),null;case 10:return Br(r.type),null;case 22:case 23:return _n(r),If(),t!==null&&Z(Ms),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Br(wt),null;case 25:return null;default:return null}}function Fy(t,r){switch(gf(r),r.tag){case 3:Br(wt),$e();break;case 26:case 27:case 5:ta(r);break;case 4:$e();break;case 31:r.memoizedState!==null&&_n(r);break;case 13:_n(r);break;case 19:Z(pt);break;case 10:Br(r.type);break;case 22:case 23:_n(r),If(),t!==null&&Z(Ms);break;case 24:Br(wt)}}function fo(t,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,_=a.inst;o=d(),_.destroy=o}a=a.next}while(a!==h)}}catch(x){Xe(r,r.return,x)}}function Ii(t,r,a){try{var o=r.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var _=o.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,h=r;var I=a,q=x;try{q()}catch($){Xe(h,I,$)}}}o=o.next}while(o!==d)}}catch($){Xe(r,r.return,$)}}function Gy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Vp(r,a)}catch(o){Xe(t,t.return,o)}}}function Qy(t,r,a){a.props=Us(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Xe(t,r,o)}}function mo(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Xe(t,r,h)}}function xr(t,r){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Xe(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,r,h)}else a.current=null}function Ky(t){var r=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function od(t,r,a){try{var o=t.stateNode;aw(o,t.type,a,r),o[Vt]=r}catch(h){Xe(t,t.return,h)}}function Yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pi(t.type)||t.tag===4}function ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cd(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Hn));else if(o!==4&&(o===27&&Pi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(cd(t,r,a),t=t.sibling;t!==null;)cd(t,r,a),t=t.sibling}function dc(t,r,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(o!==4&&(o===27&&Pi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(dc(t,r,a),t=t.sibling;t!==null;)dc(t,r,a),t=t.sibling}function Xy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Ft(r,o,a),r[Et]=t,r[Vt]=a}catch(d){Xe(t,t.return,d)}}var Qr=!1,Rt=!1,hd=!1,$y=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Ux(t,r){if(t=t.containerInfo,Od=Mc,t=op(t),rf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,x=-1,I=-1,q=0,$=0,ee=t,F=null;t:for(;;){for(var K;ee!==a||h!==0&&ee.nodeType!==3||(x=_+h),ee!==d||o!==0&&ee.nodeType!==3||(I=_+o),ee.nodeType===3&&(_+=ee.nodeValue.length),(K=ee.firstChild)!==null;)F=ee,ee=K;for(;;){if(ee===t)break t;if(F===a&&++q===h&&(x=_),F===d&&++$===o&&(I=_),(K=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=K}a=x===-1||I===-1?null:{start:x,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(kd={focusedElem:t,selectionRange:a},Mc=!1,Pt=r;Pt!==null;)if(r=Pt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Pt=t;else for(;Pt!==null;){switch(r=Pt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var de=Us(a.type,h);t=o.getSnapshotBeforeUpdate(de,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Xe(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Pt=t;break}Pt=r.return}}function Jy(t,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Yr(t,a),o&4&&fo(5,a);break;case 1:if(Yr(t,a),o&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=Us(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}o&64&&Gy(a),o&512&&mo(a,a.return);break;case 3:if(Yr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Vp(t,r)}catch(_){Xe(a,a.return,_)}}break;case 27:r===null&&o&4&&Xy(a);case 26:case 5:Yr(t,a),r===null&&o&4&&Ky(a),o&512&&mo(a,a.return);break;case 12:Yr(t,a);break;case 31:Yr(t,a),o&4&&e_(t,a);break;case 13:Yr(t,a),o&4&&t_(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Yx.bind(null,a),mw(t,a))));break;case 22:if(o=a.memoizedState!==null||Qr,!o){r=r!==null&&r.memoizedState!==null||Rt,h=Qr;var d=Rt;Qr=o,(Rt=r)&&!d?Xr(t,a,(a.subtreeFlags&8772)!==0):Yr(t,a),Qr=h,Rt=d}break;case 30:break;default:Yr(t,a)}}function Zy(t){var r=t.alternate;r!==null&&(t.alternate=null,Zy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&aa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,an=!1;function Kr(t,r,a){for(a=a.child;a!==null;)Wy(t,r,a),a=a.sibling}function Wy(t,r,a){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:Rt||xr(a,r),Kr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||xr(a,r);var o=ut,h=an;Pi(a.type)&&(ut=a.stateNode,an=!1),Kr(t,r,a),xo(a.stateNode),ut=o,an=h;break;case 5:Rt||xr(a,r);case 6:if(o=ut,h=an,ut=null,Kr(t,r,a),ut=o,an=h,ut!==null)if(an)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Xe(a,r,d)}else try{ut.removeChild(a.stateNode)}catch(d){Xe(a,r,d)}break;case 18:ut!==null&&(an?(t=ut,G_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fa(t)):G_(ut,a.stateNode));break;case 4:o=ut,h=an,ut=a.stateNode.containerInfo,an=!0,Kr(t,r,a),ut=o,an=h;break;case 0:case 11:case 14:case 15:Ii(2,a,r),Rt||Ii(4,a,r),Kr(t,r,a);break;case 1:Rt||(xr(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Qy(a,r,o)),Kr(t,r,a);break;case 21:Kr(t,r,a);break;case 22:Rt=(o=Rt)||a.memoizedState!==null,Kr(t,r,a),Rt=o;break;default:Kr(t,r,a)}}function e_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fa(t)}catch(a){Xe(r,r.return,a)}}}function t_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fa(t)}catch(a){Xe(r,r.return,a)}}function zx(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new $y),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new $y),r;default:throw Error(s(435,t.tag))}}function mc(t,r){var a=zx(t);r.forEach(function(o){if(!a.has(o)){a.add(o);var h=Xx.bind(null,t,o);o.then(h,h)}})}function ln(t,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,_=r,x=_;e:for(;x!==null;){switch(x.tag){case 27:if(Pi(x.type)){ut=x.stateNode,an=!1;break e}break;case 5:ut=x.stateNode,an=!1;break e;case 3:case 4:ut=x.stateNode.containerInfo,an=!0;break e}x=x.return}if(ut===null)throw Error(s(160));Wy(d,_,h),ut=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)n_(r,t),r=r.sibling}var Xn=null;function n_(t,r){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(r,t),on(t),o&4&&(Ii(3,t,t.return),fo(3,t),Ii(5,t,t.return));break;case 1:ln(r,t),on(t),o&512&&(Rt||a===null||xr(a,a.return)),o&64&&Qr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Xn;if(ln(r,t),on(t),o&512&&(Rt||a===null||xr(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ur]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,o,a),d[Et]=t,Tt(d),o=d;break e;case"link":var _=n0("link","href",h).get(o+(a.href||""));if(_){for(var x=0;x<_.length;x++)if(d=_[x],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(x,1);break t}}d=h.createElement(o),Ft(d,o,a),h.head.appendChild(d);break;case"meta":if(_=n0("meta","content",h).get(o+(a.content||""))){for(x=0;x<_.length;x++)if(d=_[x],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(x,1);break t}}d=h.createElement(o),Ft(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Et]=t,Tt(d),o=d}t.stateNode=o}else r0(h,t.type,t.stateNode);else t.stateNode=t0(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?r0(h,t.type,t.stateNode):t0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&od(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(r,t),on(t),o&512&&(Rt||a===null||xr(a,a.return)),a!==null&&o&4&&od(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(r,t),on(t),o&512&&(Rt||a===null||xr(a,a.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(de){Xe(t,t.return,de)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,od(t,h,a!==null?a.memoizedProps:h)),o&1024&&(hd=!0);break;case 6:if(ln(r,t),on(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(de){Xe(t,t.return,de)}}break;case 3:if(Ic=null,h=Xn,Xn=Nc(r.containerInfo),ln(r,t),Xn=h,on(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(r.containerInfo)}catch(de){Xe(t,t.return,de)}hd&&(hd=!1,r_(t));break;case 4:o=Xn,Xn=Nc(t.stateNode.containerInfo),ln(r,t),on(t),Xn=o;break;case 12:ln(r,t),on(t);break;case 31:ln(r,t),on(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mc(t,o)));break;case 13:ln(r,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pc=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mc(t,o)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Qr,$=Rt;if(Qr=q||h,Rt=$||I,ln(r,t),Rt=$,Qr=q,on(t),o&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||Qr||Rt||zs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=I.stateNode;var ee=I.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;x.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(de){Xe(I,I.return,de)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(de){Xe(I,I.return,de)}}}else if(r.tag===18){if(a===null){I=r;try{var K=I.stateNode;h?Q_(K,!0):Q_(I.stateNode,!1)}catch(de){Xe(I,I.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,mc(t,a))));break;case 19:ln(r,t),on(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mc(t,o)));break;case 30:break;case 21:break;default:ln(r,t),on(t)}}function on(t){var r=t.flags;if(r&2){try{for(var a,o=t.return;o!==null;){if(Yy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ud(t);dc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var x=ud(t);dc(t,x,_);break;case 3:case 4:var I=a.stateNode.containerInfo,q=ud(t);cd(t,q,I);break;default:throw Error(s(161))}}catch($){Xe(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function r_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;r_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Yr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Jy(t,r.alternate,r),r=r.sibling}function zs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ii(4,r,r.return),zs(r);break;case 1:xr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Qy(r,r.return,a),zs(r);break;case 27:xo(r.stateNode);case 26:case 5:xr(r,r.return),zs(r);break;case 22:r.memoizedState===null&&zs(r);break;case 30:zs(r);break;default:zs(r)}t=t.sibling}}function Xr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Xr(h,d,a),fo(4,d);break;case 1:if(Xr(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Xe(o,o.return,q)}if(o=d,h=o.updateQueue,h!==null){var x=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Mp(I[h],x)}catch(q){Xe(o,o.return,q)}}a&&_&64&&Gy(d),mo(d,d.return);break;case 27:Xy(d);case 26:case 5:Xr(h,d,a),a&&o===null&&_&4&&Ky(d),mo(d,d.return);break;case 12:Xr(h,d,a);break;case 31:Xr(h,d,a),a&&_&4&&e_(h,d);break;case 13:Xr(h,d,a),a&&_&4&&t_(h,d);break;case 22:d.memoizedState===null&&Xr(h,d,a),mo(d,d.return);break;case 30:break;default:Xr(h,d,a)}r=r.sibling}}function fd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wl(a))}function dd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wl(t))}function $n(t,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)i_(t,r,a,o),r=r.sibling}function i_(t,r,a,o){var h=r.flags;switch(r.tag){case 0:case 11:case 15:$n(t,r,a,o),h&2048&&fo(9,r);break;case 1:$n(t,r,a,o);break;case 3:$n(t,r,a,o),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wl(t)));break;case 12:if(h&2048){$n(t,r,a,o),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,x=d.onPostCommit;typeof x=="function"&&x(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Xe(r,r.return,I)}}else $n(t,r,a,o);break;case 31:$n(t,r,a,o);break;case 13:$n(t,r,a,o);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?$n(t,r,a,o):go(t,r):d._visibility&2?$n(t,r,a,o):(d._visibility|=2,ka(t,r,a,o,(r.subtreeFlags&10256)!==0||!1)),h&2048&&fd(_,r);break;case 24:$n(t,r,a,o),h&2048&&dd(r.alternate,r);break;default:$n(t,r,a,o)}}function ka(t,r,a,o,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,x=a,I=o,q=_.flags;switch(_.tag){case 0:case 11:case 15:ka(d,_,x,I,h),fo(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?ka(d,_,x,I,h):go(d,_):($._visibility|=2,ka(d,_,x,I,h)),h&&q&2048&&fd(_.alternate,_);break;case 24:ka(d,_,x,I,h),h&&q&2048&&dd(_.alternate,_);break;default:ka(d,_,x,I,h)}r=r.sibling}}function go(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,o=r,h=o.flags;switch(o.tag){case 22:go(a,o),h&2048&&fd(o.alternate,o);break;case 24:go(a,o),h&2048&&dd(o.alternate,o);break;default:go(a,o)}r=r.sibling}}var po=8192;function Ma(t,r,a){if(t.subtreeFlags&po)for(t=t.child;t!==null;)s_(t,r,a),t=t.sibling}function s_(t,r,a){switch(t.tag){case 26:Ma(t,r,a),t.flags&po&&t.memoizedState!==null&&Aw(a,Xn,t.memoizedState,t.memoizedProps);break;case 5:Ma(t,r,a);break;case 3:case 4:var o=Xn;Xn=Nc(t.stateNode.containerInfo),Ma(t,r,a),Xn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=po,po=16777216,Ma(t,r,a),po=o):Ma(t,r,a));break;default:Ma(t,r,a)}}function a_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function yo(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];Pt=o,o_(o,t)}a_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)l_(t),t=t.sibling}function l_(t){switch(t.tag){case 0:case 11:case 15:yo(t),t.flags&2048&&Ii(9,t,t.return);break;case 3:yo(t);break;case 12:yo(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,gc(t)):yo(t);break;default:yo(t)}}function gc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];Pt=o,o_(o,t)}a_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ii(8,r,r.return),gc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,gc(r));break;default:gc(r)}t=t.sibling}}function o_(t,r){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Ii(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Wl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pt=o;else e:for(a=t;Pt!==null;){o=Pt;var h=o.sibling,d=o.return;if(Zy(o),o===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var Bx={getCacheForType:function(t){var r=qt(wt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return qt(wt).controller.signal}},qx=typeof WeakMap=="function"?WeakMap:Map,Fe=0,tt=null,Oe=null,Me=0,Ye=0,vn=null,Di=!1,Va=!1,md=!1,$r=0,dt=0,Oi=0,Bs=0,gd=0,bn=0,ja=0,_o=null,un=null,pd=!1,pc=0,u_=0,yc=1/0,_c=null,ki=null,kt=0,Mi=null,Pa=null,Jr=0,yd=0,_d=null,c_=null,vo=0,vd=null;function En(){return(Fe&2)!==0&&Me!==0?Me&-Me:X.T!==null?Sd():vu()}function h_(){if(bn===0)if((Me&536870912)===0||Ue){var t=ms;ms<<=1,(ms&3932160)===0&&(ms=262144),bn=t}else bn=536870912;return t=yn.current,t!==null&&(t.flags|=32),bn}function cn(t,r,a){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(La(t,0),Vi(t,Me,bn,!1)),gs(t,a),((Fe&2)===0||t!==tt)&&(t===tt&&((Fe&2)===0&&(Bs|=a),dt===4&&Vi(t,Me,bn,!1)),wr(t))}function f_(t,r,a){if((Fe&6)!==0)throw Error(s(327));var o=!a&&(r&127)===0&&(r&t.expiredLanes)===0||zn(t,r),h=o?Gx(t,r):Ed(t,r,!0),d=o;do{if(h===0){Va&&!o&&Vi(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Hx(a)){h=Ed(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var x=t;h=_o;var I=x.current.memoizedState.isDehydrated;if(I&&(La(x,_).flags|=256),_=Ed(x,_,!1),_!==2){if(md&&!I){x.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){La(t,0),Vi(t,r,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Vi(o,r,bn,!Di);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=pc+300-en(),10<h)){if(Vi(o,r,bn,!Di),ar(o,0,!0)!==0)break e;Jr=r,o.timeoutHandle=H_(d_.bind(null,o,a,un,_c,pd,r,bn,Bs,ja,Di,d,"Throttled",-0,0),h);break e}d_(o,a,un,_c,pd,r,bn,Bs,ja,Di,d,null,-0,0)}}break}while(!0);wr(t)}function d_(t,r,a,o,h,d,_,x,I,q,$,ee,F,K){if(t.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},s_(r,d,ee);var de=(d&62914560)===d?pc-en():(d&4194048)===d?u_-en():0;if(de=Rw(ee,de),de!==null){Jr=d,t.cancelPendingCommit=de(E_.bind(null,t,r,d,a,o,h,_,x,I,$,ee,null,F,K)),Vi(t,d,_,!q);return}}E_(t,r,d,a,o,h,_,x,I)}function Hx(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Vi(t,r,a,o){r&=~gd,r&=~Bs,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var h=r;0<h;){var d=31-mt(h),_=1<<d;o[d]=-1,h&=~_}a!==0&&ps(t,a,r)}function vc(){return(Fe&6)===0?(bo(0),!1):!0}function bd(){if(Oe!==null){if(Ye===0)var t=Oe.return;else t=Oe,zr=Os=null,jf(t),Na=null,to=0,t=Oe;for(;t!==null;)Fy(t.alternate,t),t=t.return;Oe=null}}function La(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,uw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Jr=0,bd(),tt=t,Oe=a=Lr(t.current,null),Me=r,Ye=0,vn=null,Di=!1,Va=zn(t,r),md=!1,ja=bn=gd=Bs=Oi=dt=0,un=_o=null,pd=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var h=31-mt(o),d=1<<h;r|=t[h],o&=~d}return $r=r,zu(),a}function m_(t,r){Ce=null,X.H=uo,r===Ra||r===Yu?(r=Ip(),Ye=3):r===wf?(r=Ip(),Ye=4):Ye=r===Zf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,Oe===null&&(dt=1,oc(t,Dn(r,t.current)))}function g_(){var t=yn.current;return t===null?!0:(Me&4194048)===Me?Vn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Vn:!1}function p_(){var t=X.H;return X.H=uo,t===null?uo:t}function y_(){var t=X.A;return X.A=Bx,t}function bc(){dt=4,Di||(Me&4194048)!==Me&&yn.current!==null||(Va=!0),(Oi&134217727)===0&&(Bs&134217727)===0||tt===null||Vi(tt,Me,bn,!1)}function Ed(t,r,a){var o=Fe;Fe|=2;var h=p_(),d=y_();(tt!==t||Me!==r)&&(_c=null,La(t,r)),r=!1;var _=dt;e:do try{if(Ye!==0&&Oe!==null){var x=Oe,I=vn;switch(Ye){case 8:bd(),_=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(r=!0);var q=Ye;if(Ye=0,vn=null,Ua(t,x,I,q),a&&Va){_=0;break e}break;default:q=Ye,Ye=0,vn=null,Ua(t,x,I,q)}}Fx(),_=dt;break}catch($){m_(t,$)}while(!0);return r&&t.shellSuspendCounter++,zr=Os=null,Fe=o,X.H=h,X.A=d,Oe===null&&(tt=null,Me=0,zu()),_}function Fx(){for(;Oe!==null;)__(Oe)}function Gx(t,r){var a=Fe;Fe|=2;var o=p_(),h=y_();tt!==t||Me!==r?(_c=null,yc=en()+500,La(t,r)):Va=zn(t,r);e:do try{if(Ye!==0&&Oe!==null){r=Oe;var d=vn;t:switch(Ye){case 1:Ye=0,vn=null,Ua(t,r,d,1);break;case 2:case 9:if(Np(d)){Ye=0,vn=null,v_(r);break}r=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),wr(t)},d.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Np(d)?(Ye=0,vn=null,v_(r)):(Ye=0,vn=null,Ua(t,r,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var x=Oe;if(_?i0(_):x.stateNode.complete){Ye=0,vn=null;var I=x.sibling;if(I!==null)Oe=I;else{var q=x.return;q!==null?(Oe=q,Ec(q)):Oe=null}break t}}Ye=0,vn=null,Ua(t,r,d,5);break;case 6:Ye=0,vn=null,Ua(t,r,d,6);break;case 8:bd(),dt=6;break e;default:throw Error(s(462))}}Qx();break}catch($){m_(t,$)}while(!0);return zr=Os=null,X.H=o,X.A=h,Fe=a,Oe!==null?0:(tt=null,Me=0,zu(),dt)}function Qx(){for(;Oe!==null&&!$h();)__(Oe)}function __(t){var r=qy(t.alternate,t,$r);t.memoizedProps=t.pendingProps,r===null?Ec(t):Oe=r}function v_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=jy(a,r,r.pendingProps,r.type,void 0,Me);break;case 11:r=jy(a,r,r.pendingProps,r.type.render,r.ref,Me);break;case 5:jf(r);default:Fy(a,r),r=Oe=yp(r,$r),r=qy(a,r,$r)}t.memoizedProps=t.pendingProps,r===null?Ec(t):Oe=r}function Ua(t,r,a,o){zr=Os=null,jf(r),Na=null,to=0;var h=r.return;try{if(Mx(t,h,r,a,Me)){dt=1,oc(t,Dn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;dt=1,oc(t,Dn(a,t.current)),Oe=null;return}r.flags&32768?(Ue||o===1?t=!0:Va||(Me&536870912)!==0?t=!1:(Di=t=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),b_(r,t)):Ec(r)}function Ec(t){var r=t;do{if((r.flags&32768)!==0){b_(r,Di);return}t=r.return;var a=Px(r.alternate,r,$r);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);dt===0&&(dt=5)}function b_(t,r){do{var a=Lx(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);dt=6,Oe=null}function E_(t,r,a,o,h,d,_,x,I){t.cancelPendingCommit=null;do Tc();while(kt!==0);if((Fe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=uf,Wh(t,a,d,_,x,I),t===tt&&(Oe=tt=null,Me=0),Pa=r,Mi=t,Jr=a,yd=d,_d=h,c_=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$x(hi,function(){return A_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=X.T,X.T=null,h=oe.p,oe.p=2,_=Fe,Fe|=4;try{Ux(t,r,a)}finally{Fe=_,oe.p=h,X.T=o}}kt=1,T_(),x_(),w_()}}function T_(){if(kt===1){kt=0;var t=Mi,r=Pa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var o=oe.p;oe.p=2;var h=Fe;Fe|=4;try{n_(r,t);var d=kd,_=op(t.containerInfo),x=d.focusedElem,I=d.selectionRange;if(_!==x&&x&&x.ownerDocument&&lp(x.ownerDocument.documentElement,x)){if(I!==null&&rf(x)){var q=I.start,$=I.end;if($===void 0&&($=q),"selectionStart"in x)x.selectionStart=q,x.selectionEnd=Math.min($,x.value.length);else{var ee=x.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var K=F.getSelection(),de=x.textContent.length,ve=Math.min(I.start,de),et=I.end===void 0?ve:Math.min(I.end,de);!K.extend&&ve>et&&(_=et,et=ve,ve=_);var P=ap(x,ve),M=ap(x,et);if(P&&M&&(K.rangeCount!==1||K.anchorNode!==P.node||K.anchorOffset!==P.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var B=ee.createRange();B.setStart(P.node,P.offset),K.removeAllRanges(),ve>et?(K.addRange(B),K.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),K.addRange(B))}}}}for(ee=[],K=x;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ee.length;x++){var W=ee[x];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Mc=!!Od,kd=Od=null}finally{Fe=h,oe.p=o,X.T=a}}t.current=r,kt=2}}function x_(){if(kt===2){kt=0;var t=Mi,r=Pa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var o=oe.p;oe.p=2;var h=Fe;Fe|=4;try{Jy(t,r.alternate,r)}finally{Fe=h,oe.p=o,X.T=a}}kt=3}}function w_(){if(kt===4||kt===3){kt=0,fu();var t=Mi,r=Pa,a=Jr,o=c_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?kt=5:(kt=0,Pa=Mi=null,S_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ki=null),Mr(a),r=r.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Un,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=X.T,h=oe.p,oe.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<o.length;_++){var x=o[_];d(x.value,{componentStack:x.stack})}}finally{X.T=r,oe.p=h}}(Jr&3)!==0&&Tc(),wr(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===vd?vo++:(vo=0,vd=t):vo=0,bo(0)}}function S_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Wl(r)))}function Tc(){return T_(),x_(),w_(),A_()}function A_(){if(kt!==5)return!1;var t=Mi,r=yd;yd=0;var a=Mr(Jr),o=X.T,h=oe.p;try{oe.p=32>a?32:a,X.T=null,a=_d,_d=null;var d=Mi,_=Jr;if(kt=0,Pa=Mi=null,Jr=0,(Fe&6)!==0)throw Error(s(331));var x=Fe;if(Fe|=4,l_(d.current),i_(d,d.current,_,a),Fe=x,bo(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Un,d)}catch{}return!0}finally{oe.p=h,X.T=o,S_(t,r)}}function R_(t,r,a){r=Dn(a,r),r=Jf(t.stateNode,r,2),t=Ri(t,r,2),t!==null&&(gs(t,2),wr(t))}function Xe(t,r,a){if(t.tag===3)R_(t,t,a);else for(;r!==null;){if(r.tag===3){R_(r,t,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ki===null||!ki.has(o))){t=Dn(a,t),a=Ny(2),o=Ri(r,a,2),o!==null&&(Cy(a,o,r,t),gs(o,2),wr(o));break}}r=r.return}}function Td(t,r,a){var o=t.pingCache;if(o===null){o=t.pingCache=new qx;var h=new Set;o.set(r,h)}else h=o.get(r),h===void 0&&(h=new Set,o.set(r,h));h.has(a)||(md=!0,h.add(a),t=Kx.bind(null,t,r,a),r.then(t,t))}function Kx(t,r,a){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Me&a)===a&&(dt===4||dt===3&&(Me&62914560)===Me&&300>en()-pc?(Fe&2)===0&&La(t,0):gd|=a,ja===Me&&(ja=0)),wr(t)}function N_(t,r){r===0&&(r=_u()),t=Cs(t,r),t!==null&&(gs(t,r),wr(t))}function Yx(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),N_(t,a)}function Xx(t,r){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(r),N_(t,a)}function $x(t,r){return Ot(t,r)}var xc=null,za=null,xd=!1,wc=!1,wd=!1,ji=0;function wr(t){t!==za&&t.next===null&&(za===null?xc=za=t:za=za.next=t),wc=!0,xd||(xd=!0,Zx())}function bo(t,r){if(!wd&&wc){wd=!0;do for(var a=!1,o=xc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,x=o.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=h&~(_&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,O_(o,d))}else d=Me,d=ar(o,o===tt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||zn(o,d)||(a=!0,O_(o,d));o=o.next}while(a);wd=!1}}function Jx(){C_()}function C_(){wc=xd=!1;var t=0;ji!==0&&ow()&&(t=ji);for(var r=en(),a=null,o=xc;o!==null;){var h=o.next,d=I_(o,r);d===0?(o.next=null,a===null?xc=h:a.next=h,h===null&&(za=a)):(a=o,(t!==0||(d&3)!==0)&&(wc=!0)),o=h}kt!==0&&kt!==5||bo(t),ji!==0&&(ji=0)}function I_(t,r){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),x=1<<_,I=h[_];I===-1?((x&a)===0||(x&o)!==0)&&(h[_]=Zh(x,r)):I<=r&&(t.expiredLanes|=x),d&=~x}if(r=tt,a=Me,a=ar(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===r&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ci(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(o!==null&&ci(o),Mr(a)){case 2:case 8:a=Cl;break;case 32:a=hi;break;case 268435456:a=du;break;default:a=hi}return o=D_.bind(null,t),a=Ot(a,o),t.callbackPriority=r,t.callbackNode=a,r}return o!==null&&o!==null&&ci(o),t.callbackPriority=2,t.callbackNode=null,2}function D_(t,r){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tc()&&t.callbackNode!==a)return null;var o=Me;return o=ar(t,t===tt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(f_(t,o,r),I_(t,en()),t.callbackNode!=null&&t.callbackNode===a?D_.bind(null,t):null)}function O_(t,r){if(Tc())return null;f_(t,r,!0)}function Zx(){cw(function(){(Fe&6)!==0?Ot(Nl,Jx):C_()})}function Sd(){if(ji===0){var t=Sa;t===0&&(t=ir,ir<<=1,(ir&261888)===0&&(ir=256)),ji=t}return ji}function k_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ca(""+t)}function M_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Wx(t,r,a,o,h){if(r==="submit"&&a&&a.stateNode===h){var d=k_((h[Vt]||null).action),_=o.submitter;_&&(r=(r=_[Vt]||null)?k_(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var x=new yr("action","action",null,o,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ji!==0){var I=_?M_(h,_):new FormData(h);Gf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(x.preventDefault(),I=_?M_(h,_):new FormData(h),Gf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Ad=0;Ad<of.length;Ad++){var Rd=of[Ad],ew=Rd.toLowerCase(),tw=Rd[0].toUpperCase()+Rd.slice(1);Yn(ew,"on"+tw)}Yn(hp,"onAnimationEnd"),Yn(fp,"onAnimationIteration"),Yn(dp,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(yx,"onTransitionRun"),Yn(_x,"onTransitionStart"),Yn(vx,"onTransitionCancel"),Yn(mp,"onTransitionEnd"),dr("onMouseEnter",["mouseout","mouseover"]),dr("onMouseLeave",["mouseout","mouseover"]),dr("onPointerEnter",["pointerout","pointerover"]),dr("onPointerLeave",["pointerout","pointerover"]),fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function V_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(r)for(var _=o.length-1;0<=_;_--){var x=o[_],I=x.instance,q=x.currentTarget;if(x=x.listener,I!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=q;try{d(h)}catch($){Uu($)}h.currentTarget=null,d=I}else for(_=0;_<o.length;_++){if(x=o[_],I=x.instance,q=x.currentTarget,x=x.listener,I!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=q;try{d(h)}catch($){Uu($)}h.currentTarget=null,d=I}}}}function ke(t,r){var a=r[sa];a===void 0&&(a=r[sa]=new Set);var o=t+"__bubble";a.has(o)||(j_(r,t,2,!1),a.add(o))}function Nd(t,r,a){var o=0;r&&(o|=4),j_(a,t,o,r)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Cd(t){if(!t[Sc]){t[Sc]=!0,Ol.forEach(function(a){a!=="selectionchange"&&(nw.has(a)||Nd(a,!1,t),Nd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Sc]||(r[Sc]=!0,Nd("selectionchange",!1,r))}}function j_(t,r,a,o){switch(h0(r)){case 2:var h=Iw;break;case 8:h=Dw;break;default:h=Fd}a=h.bind(null,r,a,t),h=void 0,!Es||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Id(t,r,a,o,h){var d=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var x=o.stateNode.containerInfo;if(x===h)break;if(_===4)for(_=o.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;x!==null;){if(_=cr(x),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){o=d=_;continue e}x=x.parentNode}}o=o.return}yi(function(){var q=d,$=Rn(a),ee=[];e:{var F=gp.get(t);if(F!==void 0){var K=yr,de=t;switch(t){case"keypress":if(xs(a)===0)break e;case"keydown":case"keyup":K=ju;break;case"focusin":de="focus",K=Ss;break;case"focusout":de="blur",K=Ss;break;case"beforeblur":case"afterblur":K=Ss;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case hp:case fp:case dp:K=Cu;break;case mp:K=w;break;case"scroll":case"scrollend":K=Fl;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Pr;break;case"toggle":case"beforetoggle":K=Ne}var ve=(r&4)!==0,et=!ve&&(t==="scroll"||t==="scrollend"),P=ve?F!==null?F+"Capture":null:F;ve=[];for(var M=q,B;M!==null;){var W=M;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||P===null||(W=Fn(M,P),W!=null&&ve.push(To(M,W,B))),et)break;M=M.return}0<ve.length&&(F=new K(F,de,null,a,$),ee.push({event:F,listeners:ve}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==Bl&&(de=a.relatedTarget||a.fromElement)&&(cr(de)||de[or]))break e;if((K||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,K?(de=a.relatedTarget||a.toElement,K=q,de=de?cr(de):null,de!==null&&(et=u(de),ve=de.tag,de!==et||ve!==5&&ve!==27&&ve!==6)&&(de=null)):(K=null,de=q),K!==de)){if(ve=Gl,W="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Pr,W="onPointerLeave",P="onPointerEnter",M="pointer"),et=K==null?F:dn(K),B=de==null?F:dn(de),F=new ve(W,M+"leave",K,a,$),F.target=et,F.relatedTarget=B,W=null,cr($)===q&&(ve=new ve(P,M+"enter",de,a,$),ve.target=B,ve.relatedTarget=et,W=ve),et=W,K&&de)t:{for(ve=rw,P=K,M=de,B=0,W=P;W;W=ve(W))B++;W=0;for(var pe=M;pe;pe=ve(pe))W++;for(;0<B-W;)P=ve(P),B--;for(;0<W-B;)M=ve(M),W--;for(;B--;){if(P===M||M!==null&&P===M.alternate){ve=P;break t}P=ve(P),M=ve(M)}ve=null}else ve=null;K!==null&&P_(ee,F,K,ve,!1),de!==null&&et!==null&&P_(ee,et,de,ve,!0)}}e:{if(F=q?dn(q):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Be=ep;else if(Zg(F))if(tp)Be=mx;else{Be=fx;var ge=hx}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&ua(q.elementType)&&(Be=ep):Be=dx;if(Be&&(Be=Be(t,q))){Wg(ee,Be,a,$);break e}ge&&ge(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Ll(F,"number",F.value)}switch(ge=q?dn(q):window,t){case"focusin":(Zg(ge)||ge.contentEditable==="true")&&(ya=ge,sf=q,$l=null);break;case"focusout":$l=sf=ya=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,up(ee,a,$);break;case"selectionchange":if(px)break;case"keydown":case"keyup":up(ee,a,$)}var Ie;if(He)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else pa?As(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(br&&a.locale!=="ko"&&(pa||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&pa&&(Ie=Hl()):(pr=$,ql="value"in pr?pr.value:pr.textContent,pa=!0)),ge=Ac(q,Ve),0<ge.length&&(Ve=new vr(Ve,t,null,a,$),ee.push({event:Ve,listeners:ge}),Ie?Ve.data=Ie:(Ie=ga(a),Ie!==null&&(Ve.data=Ie)))),(Ie=Cn?lx(t,a):ox(t,a))&&(Ve=Ac(q,"onBeforeInput"),0<Ve.length&&(ge=new vr("onBeforeInput","beforeinput",null,a,$),ee.push({event:ge,listeners:Ve}),ge.data=Ie)),Wx(ee,t,q,a,$)}V_(ee,r)})}function To(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Ac(t,r){for(var a=r+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Fn(t,a),h!=null&&o.unshift(To(t,h,d)),h=Fn(t,r),h!=null&&o.push(To(t,h,d))),t.tag===3)return o;t=t.return}return[]}function rw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function P_(t,r,a,o,h){for(var d=r._reactName,_=[];a!==null&&a!==o;){var x=a,I=x.alternate,q=x.stateNode;if(x=x.tag,I!==null&&I===o)break;x!==5&&x!==26&&x!==27||q===null||(I=q,h?(q=Fn(a,d),q!=null&&_.unshift(To(a,q,I))):h||(q=Fn(a,d),q!=null&&_.push(To(a,q,I)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var iw=/\r\n?/g,sw=/\u0000|\uFFFD/g;function L_(t){return(typeof t=="string"?t:""+t).replace(iw,`
`).replace(sw,"")}function U_(t,r){return r=L_(r),L_(t)===r}function We(t,r,a,o,h,d){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||sn(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&sn(t,""+o);break;case"className":mn(t,"class",o);break;case"tabIndex":mn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,a,o);break;case"style":zl(t,o,d);break;case"data":if(r!=="object"){mn(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ca(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(t,r,"name",h.name,h,null),We(t,r,"formEncType",h.formEncType,h,null),We(t,r,"formMethod",h.formMethod,h,null),We(t,r,"formTarget",h.formTarget,h,null)):(We(t,r,"encType",h.encType,h,null),We(t,r,"method",h.method,h,null),We(t,r,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ca(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Hn);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ca(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":ke("beforetoggle",t),ke("toggle",t),la(t,"popover",o);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":la(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Au.get(a)||a,la(t,a,o))}}function Dd(t,r,a,o,h,d){switch(a){case"style":zl(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?sn(t,o):(typeof o=="number"||typeof o=="bigint")&&sn(t,""+o);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[Vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):la(t,a,o)}}}function Ft(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,d,_,a,null)}}h&&We(t,r,"srcSet",a.srcSet,a,null),o&&We(t,r,"src",a.src,a,null);return;case"input":ke("invalid",t);var x=d=_=h=null,I=null,q=null;for(o in a)if(a.hasOwnProperty(o)){var $=a[o];if($!=null)switch(o){case"name":h=$;break;case"type":_=$;break;case"checked":I=$;break;case"defaultChecked":q=$;break;case"value":d=$;break;case"defaultValue":x=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:We(t,r,o,$,a,null)}}xu(t,d,x,I,q,_,h,!1);return;case"select":ke("invalid",t),o=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(x=a[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":_=x;break;case"multiple":o=x;default:We(t,r,h,x,a,null)}r=d,a=_,t.multiple=!!o,r!=null?di(t,!!o,r,!1):a!=null&&di(t,!!o,a,!0);return;case"textarea":ke("invalid",t),d=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(x=a[_],x!=null))switch(_){case"value":o=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:We(t,r,_,x,a,null)}mi(t,o,h,d);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:We(t,r,I,o,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(o=0;o<Eo.length;o++)ke(Eo[o],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(o=a[q],o!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,q,o,a,null)}return;default:if(ua(r)){for($ in a)a.hasOwnProperty($)&&(o=a[$],o!==void 0&&Dd(t,r,$,o,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(o=a[x],o!=null&&We(t,r,x,o,a,null))}function aw(t,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,x=null,I=null,q=null,$=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=ee;default:o.hasOwnProperty(K)||We(t,r,K,null,o,ee)}}for(var F in o){var K=o[F];if(ee=a[F],o.hasOwnProperty(F)&&(K!=null||ee!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":q=K;break;case"defaultChecked":$=K;break;case"value":_=K;break;case"defaultValue":x=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==ee&&We(t,r,F,K,o,ee)}}oa(t,_,x,I,q,$,d,h);return;case"select":K=_=x=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":K=I;default:o.hasOwnProperty(d)||We(t,r,d,null,o,I)}for(h in o)if(d=o[h],I=a[h],o.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":x=d;break;case"multiple":_=d;default:d!==I&&We(t,r,h,d,o,I)}r=x,a=_,o=K,F!=null?di(t,!!a,F,!1):!!o!=!!a&&(r!=null?di(t,!!a,r,!0):di(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(x in a)if(h=a[x],a.hasOwnProperty(x)&&h!=null&&!o.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:We(t,r,x,null,o,h)}for(_ in o)if(h=o[_],d=a[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,r,_,h,o,d)}wu(t,F,K);return;case"option":for(var de in a)if(F=a[de],a.hasOwnProperty(de)&&F!=null&&!o.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:We(t,r,de,null,o,F)}for(I in o)if(F=o[I],K=a[I],o.hasOwnProperty(I)&&F!==K&&(F!=null||K!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,r,I,F,o,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)F=a[ve],a.hasOwnProperty(ve)&&F!=null&&!o.hasOwnProperty(ve)&&We(t,r,ve,null,o,F);for(q in o)if(F=o[q],K=a[q],o.hasOwnProperty(q)&&F!==K&&(F!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:We(t,r,q,F,o,K)}return;default:if(ua(r)){for(var et in a)F=a[et],a.hasOwnProperty(et)&&F!==void 0&&!o.hasOwnProperty(et)&&Dd(t,r,et,void 0,o,F);for($ in o)F=o[$],K=a[$],!o.hasOwnProperty($)||F===K||F===void 0&&K===void 0||Dd(t,r,$,F,o,K);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!o.hasOwnProperty(P)&&We(t,r,P,null,o,F);for(ee in o)F=o[ee],K=a[ee],!o.hasOwnProperty(ee)||F===K||F==null&&K==null||We(t,r,ee,F,o,K)}function z_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,_=h.initiatorType,x=h.duration;if(d&&x&&z_(_)){for(_=0,x=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],q=I.startTime;if(q>x)break;var $=I.transferSize,ee=I.initiatorType;$&&z_(ee)&&(I=I.responseEnd,_+=$*(I<x?1:(x-q)/(I-q)))}if(--o,r+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Od=null,kd=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function B_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Md(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Vd=null;function ow(){var t=window.event;return t&&t.type==="popstate"?t===Vd?!1:(Vd=t,!0):(Vd=null,!1)}var H_=typeof setTimeout=="function"?setTimeout:void 0,uw=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,cw=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(t){return F_.resolve(null).then(t).catch(hw)}:H_;function hw(t){setTimeout(function(){throw t})}function Pi(t){return t==="head"}function G_(t,r){var a=r,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Fa(r);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")xo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,xo(a);for(var d=a.firstChild;d;){var _=d.nextSibling,x=d.nodeName;d[ur]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&xo(t.ownerDocument.body);a=h}while(a);Fa(r)}function Q_(t,r){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function jd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jd(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function fw(t,r,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ur])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function dw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function K_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=jn(t.nextSibling),t===null))return null;return t}function Pd(t){return t.data==="$?"||t.data==="$~"}function Ld(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function mw(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var o=function(){r(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function jn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Ud=null;function Y_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return jn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function X_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function $_(t,r,a){switch(r=Rc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xo(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);aa(t)}var Pn=new Map,J_=new Set;function Nc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zr=oe.d;oe.d={f:gw,r:pw,D:yw,C:_w,L:vw,m:bw,X:Tw,S:Ew,M:xw};function gw(){var t=Zr.f(),r=vc();return t||r}function pw(t){var r=An(t);r!==null&&r.tag===5&&r.type==="form"?my(r):Zr.r(t)}var Ba=typeof document>"u"?null:document;function Z_(t,r,a){var o=Ba;if(o&&typeof r=="string"&&r){var h=rn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),J_.has(h)||(J_.add(h),t={rel:t,crossOrigin:a,href:r},o.querySelector(h)===null&&(r=o.createElement("link"),Ft(r,"link",t),Tt(r),o.head.appendChild(r)))}}function yw(t){Zr.D(t),Z_("dns-prefetch",t,null)}function _w(t,r){Zr.C(t,r),Z_("preconnect",t,r)}function vw(t,r,a){Zr.L(t,r,a);var o=Ba;if(o&&t&&r){var h='link[rel="preload"][as="'+rn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(r){case"style":d=qa(t);break;case"script":d=Ha(t)}Pn.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Pn.set(d,t),o.querySelector(h)!==null||r==="style"&&o.querySelector(wo(d))||r==="script"&&o.querySelector(So(d))||(r=o.createElement("link"),Ft(r,"link",t),Tt(r),o.head.appendChild(r)))}}function bw(t,r){Zr.m(t,r);var a=Ba;if(a&&t){var o=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(t)}if(!Pn.has(d)&&(t=T({rel:"modulepreload",href:t},r),Pn.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(So(d)))return}o=a.createElement("link"),Ft(o,"link",t),Tt(o),a.head.appendChild(o)}}}function Ew(t,r,a){Zr.S(t,r,a);var o=Ba;if(o&&t){var h=hr(o).hoistableStyles,d=qa(t);r=r||"default";var _=h.get(d);if(!_){var x={loading:0,preload:null};if(_=o.querySelector(wo(d)))x.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Pn.get(d))&&zd(t,a);var I=_=o.createElement("link");Tt(I),Ft(I,"link",t),I._p=new Promise(function(q,$){I.onload=q,I.onerror=$}),I.addEventListener("load",function(){x.loading|=1}),I.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Cc(_,r,o)}_={type:"stylesheet",instance:_,count:1,state:x},h.set(d,_)}}}function Tw(t,r){Zr.X(t,r);var a=Ba;if(a&&t){var o=hr(a).hoistableScripts,h=Ha(t),d=o.get(h);d||(d=a.querySelector(So(h)),d||(t=T({src:t,async:!0},r),(r=Pn.get(h))&&Bd(t,r),d=a.createElement("script"),Tt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function xw(t,r){Zr.M(t,r);var a=Ba;if(a&&t){var o=hr(a).hoistableScripts,h=Ha(t),d=o.get(h);d||(d=a.querySelector(So(h)),d||(t=T({src:t,async:!0,type:"module"},r),(r=Pn.get(h))&&Bd(t,r),d=a.createElement("script"),Tt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function W_(t,r,a,o){var h=(h=be.current)?Nc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=qa(a.href),a=hr(h).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var d=hr(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(wo(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),d||ww(h,t,a,_.state))),r&&o===null)throw Error(s(528,""));return _}if(r&&o!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ha(a),a=hr(h).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function qa(t){return'href="'+rn(t)+'"'}function wo(t){return'link[rel="stylesheet"]['+t+"]"}function e0(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function ww(t,r,a,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),Ft(r,"link",a),Tt(r),t.head.appendChild(r))}function Ha(t){return'[src="'+rn(t)+'"]'}function So(t){return"script[async]"+t}function t0(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return r.instance=o,Tt(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Tt(o),Ft(o,"style",h),Cc(o,a.precedence,t),r.instance=o;case"stylesheet":h=qa(a.href);var d=t.querySelector(wo(h));if(d)return r.state.loading|=4,r.instance=d,Tt(d),d;o=e0(a),(h=Pn.get(h))&&zd(o,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(x,I){_.onload=x,_.onerror=I}),Ft(d,"link",o),r.state.loading|=4,Cc(d,a.precedence,t),r.instance=d;case"script":return d=Ha(a.src),(h=t.querySelector(So(d)))?(r.instance=h,Tt(h),h):(o=a,(h=Pn.get(d))&&(o=T({},a),Bd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Ft(h,"link",o),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Cc(o,a.precedence,t));return r.instance}function Cc(t,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var x=o[_];if(x.dataset.precedence===r)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function zd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Bd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Ic=null;function n0(t,r,a){if(Ic===null){var o=new Map,h=Ic=new Map;h.set(a,o)}else h=Ic,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ur]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var x=o.get(_);x?x.push(d):o.set(_,[d])}}return o}function r0(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Sw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function i0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Aw(t,r,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(o.href),d=r.querySelector(wo(h));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Dc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=r.ownerDocument||r,o=e0(o),(h=Pn.get(h))&&zd(o,h),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(x,I){_.onload=x,_.onerror=I}),Ft(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Dc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var qd=0;function Rw(t,r){return t.stylesheets&&t.count===0&&kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&qd===0&&(qd=62500*lw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>qd?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function kc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,r.forEach(Nw,t),Oc=null,Dc.call(t))}function Nw(t,r){if(!(r.state.loading&4)){var a=Oc.get(t);if(a)var o=a.get(null);else{a=new Map,Oc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=r.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||o,d===o&&a.set(null,h),a.set(_,h),this.count++,o=Dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Ao={$$typeof:J,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Cw(t,r,a,o,h,d,_,x,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lr(0),this.hiddenUpdates=lr(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function s0(t,r,a,o,h,d,_,x,I,q,$,ee){return t=new Cw(t,r,a,_,I,q,$,ee,x),r=1,d===!0&&(r|=24),d=pn(3,null,null,r),t.current=d,d.stateNode=t,r=Ef(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:r},Sf(d),t}function a0(t){return t?(t=ba,t):ba}function l0(t,r,a,o,h,d){h=a0(h),o.context===null?o.context=h:o.pendingContext=h,o=Ai(r),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Ri(t,o,r),a!==null&&(cn(a,t,r),ro(a,t,r))}function o0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Hd(t,r){o0(t,r),(t=t.alternate)&&o0(t,r)}function u0(t){if(t.tag===13||t.tag===31){var r=Cs(t,67108864);r!==null&&cn(r,t,67108864),Hd(t,67108864)}}function c0(t){if(t.tag===13||t.tag===31){var r=En();r=ys(r);var a=Cs(t,r);a!==null&&cn(a,t,r),Hd(t,r)}}var Mc=!0;function Iw(t,r,a,o){var h=X.T;X.T=null;var d=oe.p;try{oe.p=2,Fd(t,r,a,o)}finally{oe.p=d,X.T=h}}function Dw(t,r,a,o){var h=X.T;X.T=null;var d=oe.p;try{oe.p=8,Fd(t,r,a,o)}finally{oe.p=d,X.T=h}}function Fd(t,r,a,o){if(Mc){var h=Gd(o);if(h===null)Id(t,r,o,Vc,a),f0(t,o);else if(kw(h,t,r,a,o))o.stopPropagation();else if(f0(t,o),r&4&&-1<Ow.indexOf(t)){for(;h!==null;){var d=An(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=sr(d.pendingLanes);if(_!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var I=1<<31-mt(_);x.entanglements[1]|=I,_&=~I}wr(d),(Fe&6)===0&&(yc=en()+500,bo(0))}}break;case 31:case 13:x=Cs(d,2),x!==null&&cn(x,d,2),vc(),Hd(d,2)}if(d=Gd(o),d===null&&Id(t,r,o,Vc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Id(t,r,o,null,a)}}function Gd(t){return t=Rn(t),Qd(t)}var Vc=null;function Qd(t){if(Vc=null,t=cr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Vc=t,null}function h0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ds()){case Nl:return 2;case Cl:return 8;case hi:case Jh:return 32;case du:return 268435456;default:return 32}default:return 32}}var Kd=!1,Li=null,Ui=null,zi=null,Ro=new Map,No=new Map,Bi=[],Ow="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f0(t,r){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Ro.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(r.pointerId)}}function Co(t,r,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},r!==null&&(r=An(r),r!==null&&u0(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function kw(t,r,a,o,h){switch(r){case"focusin":return Li=Co(Li,t,r,a,o,h),!0;case"dragenter":return Ui=Co(Ui,t,r,a,o,h),!0;case"mouseover":return zi=Co(zi,t,r,a,o,h),!0;case"pointerover":var d=h.pointerId;return Ro.set(d,Co(Ro.get(d)||null,t,r,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,No.set(d,Co(No.get(d)||null,t,r,a,o,h)),!0}return!1}function d0(t){var r=cr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Bn(t.priority,function(){c0(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Bn(t.priority,function(){c0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Gd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Bl=o,a.target.dispatchEvent(o),Bl=null}else return r=An(a),r!==null&&u0(r),t.blockedOn=a,!1;r.shift()}return!0}function m0(t,r,a){jc(t)&&a.delete(r)}function Mw(){Kd=!1,Li!==null&&jc(Li)&&(Li=null),Ui!==null&&jc(Ui)&&(Ui=null),zi!==null&&jc(zi)&&(zi=null),Ro.forEach(m0),No.forEach(m0)}function Pc(t,r){t.blockedOn===r&&(t.blockedOn=null,Kd||(Kd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Mw)))}var Lc=null;function g0(t){Lc!==t&&(Lc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var r=0;r<t.length;r+=3){var a=t[r],o=t[r+1],h=t[r+2];if(typeof o!="function"){if(Qd(o||a)===null)continue;break}var d=An(a);d!==null&&(t.splice(r,3),r-=3,Gf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Fa(t){function r(I){return Pc(I,t)}Li!==null&&Pc(Li,t),Ui!==null&&Pc(Ui,t),zi!==null&&Pc(zi,t),Ro.forEach(r),No.forEach(r);for(var a=0;a<Bi.length;a++){var o=Bi[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Bi.length&&(a=Bi[0],a.blockedOn===null);)d0(a),a.blockedOn===null&&Bi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],_=h[Vt]||null;if(typeof d=="function")_||g0(a);else if(_){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Vt]||null)x=_.formAction;else if(Qd(h)!==null)continue}else x=_.action;typeof x=="function"?a[o+1]=x:(a.splice(o,3),o-=3),g0(a)}}}function p0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function Yd(t){this._internalRoot=t}Uc.prototype.render=Yd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,o=En();l0(a,o,t,r,null,null)},Uc.prototype.unmount=Yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;l0(t.current,2,null,t,null,null),vc(),r[or]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var r=vu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Bi.length&&r!==0&&r<Bi[a].priority;a++);Bi.splice(a,0,t),a===0&&d0(t)}};var y0=e.version;if(y0!=="19.2.3")throw Error(s(527,y0,"19.2.3"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Vw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{Un=zc.inject(Vw),Ut=zc}catch{}}return Do.createRoot=function(t,r){if(!l(t))throw Error(s(299));var a=!1,o="",h=wy,d=Sy,_=Ay;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=s0(t,1,!1,null,null,a,o,null,h,d,_,p0),t[or]=r.current,Cd(t),new Yd(r)},Do.hydrateRoot=function(t,r,a){if(!l(t))throw Error(s(299));var o=!1,h="",d=wy,_=Sy,x=Ay,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),r=s0(t,1,!0,r,a??null,o,h,I,d,_,x,p0),r.context=a0(null),a=r.current,o=En(),o=ys(o),h=Ai(o),h.callback=null,Ri(a,h,o),a=o,r.current.lanes=a,gs(r,a),wr(r),t[or]=r.current,Cd(t),new Uc(r)},Do.version="19.2.3",Do}var R0;function Gw(){if(R0)return Jd.exports;R0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jd.exports=Fw(),Jd.exports}var Qw=Gw();const Kw=mb(Qw);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N0="popstate";function Yw(i={}){function e(l,u){let{pathname:f="/",search:m="",hash:g=""}=Js(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),pm("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let f=l.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=l.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof u=="string"?u:Ho(u))}function s(l,u){xn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return $w(e,n,s,i)}function ct(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function xn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Xw(){return Math.random().toString(36).substring(2,10)}function C0(i,e){return{usr:i.state,key:i.key,idx:e}}function pm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Js(e):e,state:n,key:e&&e.key||s||Xw()}}function Ho({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Js(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function $w(i,e,n,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let z=E(),re=z==null?null:z-p;p=z,g&&g({action:m,location:G.location,delta:re})}function S(z,re){m="PUSH";let Y=pm(G.location,z,re);n&&n(Y,z),p=E()+1;let J=C0(Y,p),me=G.createHref(Y);try{f.pushState(J,"",me)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;l.location.assign(me)}u&&g&&g({action:m,location:G.location,delta:1})}function j(z,re){m="REPLACE";let Y=pm(G.location,z,re);n&&n(Y,z),p=E();let J=C0(Y,p),me=G.createHref(Y);f.replaceState(J,"",me),u&&g&&g({action:m,location:G.location,delta:0})}function L(z){return Jw(z)}let G={get action(){return m},get location(){return i(l,f)},listen(z){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(N0,T),g=z,()=>{l.removeEventListener(N0,T),g=null}},createHref(z){return e(l,z)},createURL:L,encodeLocation(z){let re=L(z);return{pathname:re.pathname,search:re.search,hash:re.hash}},push:S,replace:j,go(z){return f.go(z)}};return G}function Jw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Ho(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function pb(i,e,n="/"){return Zw(i,e,n,!1)}function Zw(i,e,n,s){let l=typeof e=="string"?Js(e):e,u=ni(l.pathname||"/",n);if(u==null)return null;let f=yb(i);Ww(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=c1(u);m=o1(f[g],p,s)}return m}function yb(i,e=[],n=[],s="",l=!1){let u=(f,m,g=l,p)=>{let E={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ct(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=ti([s,E.relativePath]),S=n.concat(E);f.children&&f.children.length>0&&(ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),yb(f.children,e,S,T,g)),!(f.path==null&&!f.index)&&e.push({path:T,score:a1(T,f.index),routesMeta:S})};return i.forEach((f,m)=>{var g;if(f.path===""||!((g=f.path)!=null&&g.includes("?")))u(f,m);else for(let p of _b(f.path))u(f,m,!0,p)}),e}function _b(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=_b(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),l&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function Ww(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:l1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var e1=/^:[\w-]+$/,t1=3,n1=2,r1=1,i1=10,s1=-2,I0=i=>i==="*";function a1(i,e){let n=i.split("/"),s=n.length;return n.some(I0)&&(s+=s1),e&&(s+=n1),n.filter(l=>!I0(l)).reduce((l,u)=>l+(e1.test(u)?t1:u===""?r1:i1),s)}function l1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,l)=>s===e[l])?i[i.length-1]-e[e.length-1]:0}function o1(i,e,n=!1){let{routesMeta:s}=i,l={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=ah({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),S=g.route;if(!T&&p&&n&&!s[s.length-1].route.index&&(T=ah({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!T)return null;Object.assign(l,T.params),f.push({params:l,pathname:ti([u,T.pathname]),pathnameBase:m1(ti([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=ti([u,T.pathnameBase]))}return f}function ah(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=u1(i.path,i.caseSensitive,i.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:T},S)=>{if(E==="*"){let L=m[S]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const j=m[S];return T&&!j?p[E]=void 0:p[E]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:i}}function u1(i,e=!1,n=!0){xn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function c1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ni(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var vb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h1=i=>vb.test(i);function f1(i,e="/"){let{pathname:n,search:s="",hash:l=""}=typeof i=="string"?Js(i):i,u;if(n)if(h1(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),xn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=D0(n.substring(1),"/"):u=D0(n,e)}else u=e;return{pathname:u,search:g1(s),hash:p1(l)}}function D0(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function tm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d1(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gm(i){let e=d1(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Qm(i,e,n,s=!1){let l;typeof i=="string"?l=Js(i):(l={...i},ct(!l.pathname||!l.pathname.includes("?"),tm("?","pathname","search",l)),ct(!l.pathname||!l.pathname.includes("#"),tm("#","pathname","hash",l)),ct(!l.search||!l.search.includes("#"),tm("#","search","hash",l)));let u=i===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),T-=1;l.pathname=S.join("/")}m=T>=0?e[T]:"/"}let g=f1(l,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var ti=i=>i.join("/").replace(/\/\/+/g,"/"),m1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),g1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,p1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,y1=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function _1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function v1(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var bb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Eb(i,e){let n=i;if(typeof n!="string"||!vb.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,l=!1;if(bb)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=ni(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:l=!0}catch{xn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Tb=["POST","PUT","PATCH","DELETE"];new Set(Tb);var b1=["GET",...Tb];new Set(b1);var fl=H.createContext(null);fl.displayName="DataRouter";var Ah=H.createContext(null);Ah.displayName="DataRouterState";var E1=H.createContext(!1),xb=H.createContext({isTransitioning:!1});xb.displayName="ViewTransition";var T1=H.createContext(new Map);T1.displayName="Fetchers";var x1=H.createContext(null);x1.displayName="Await";var wn=H.createContext(null);wn.displayName="Navigation";var Wo=H.createContext(null);Wo.displayName="Location";var kr=H.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var Km=H.createContext(null);Km.displayName="RouteError";var wb="REACT_ROUTER_ERROR",w1="REDIRECT",S1="ROUTE_ERROR_RESPONSE";function A1(i){if(i.startsWith(`${wb}:${w1}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function R1(i){if(i.startsWith(`${wb}:${S1}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new y1(e.status,e.statusText,e.data)}catch{}}function N1(i,{relative:e}={}){ct(dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(wn),{hash:l,pathname:u,search:f}=eu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ti([n,u])),s.createHref({pathname:m,search:f,hash:l})}function dl(){return H.useContext(Wo)!=null}function oi(){return ct(dl(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Wo).location}var Sb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ab(i){H.useContext(wn).static||H.useLayoutEffect(i)}function Rb(){let{isDataRoute:i}=H.useContext(kr);return i?B1():C1()}function C1(){ct(dl(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(fl),{basename:e,navigator:n}=H.useContext(wn),{matches:s}=H.useContext(kr),{pathname:l}=oi(),u=JSON.stringify(Gm(s)),f=H.useRef(!1);return Ab(()=>{f.current=!0}),H.useCallback((g,p={})=>{if(xn(f.current,Sb),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Qm(g,JSON.parse(u),l,p.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ti([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,l,i])}H.createContext(null);function eu(i,{relative:e}={}){let{matches:n}=H.useContext(kr),{pathname:s}=oi(),l=JSON.stringify(Gm(n));return H.useMemo(()=>Qm(i,JSON.parse(l),s,e==="path"),[i,l,s,e])}function I1(i,e){return Nb(i,e)}function Nb(i,e,n,s,l){var Y;ct(dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=H.useContext(wn),{matches:f}=H.useContext(kr),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let J=T&&T.path||"";Ib(p,!T||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let S=oi(),j;if(e){let J=typeof e=="string"?Js(e):e;ct(E==="/"||((Y=J.pathname)==null?void 0:Y.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${J.pathname}" was given in the \`location\` prop.`),j=J}else j=S;let L=j.pathname||"/",G=L;if(E!=="/"){let J=E.replace(/^\//,"").split("/");G="/"+L.replace(/^\//,"").split("/").slice(J.length).join("/")}let z=pb(i,{pathname:G});xn(T||z!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),xn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let re=V1(z&&z.map(J=>Object.assign({},J,{params:Object.assign({},g,J.params),pathname:ti([E,u.encodeLocation?u.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:ti([E,u.encodeLocation?u.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),f,n,s,l);return e&&re?H.createElement(Wo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},re):re}function D1(){let i=z1(),e=_1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:l},n):null,f)}var O1=H.createElement(D1,null),Cb=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=R1(i.digest);n&&(i=n)}let e=i!==void 0?H.createElement(kr.Provider,{value:this.props.routeContext},H.createElement(Km.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?H.createElement(k1,{error:i},e):e}};Cb.contextType=E1;var nm=new WeakMap;function k1({children:i,error:e}){let{basename:n}=H.useContext(wn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=A1(e.digest);if(s){let l=nm.get(e);if(l)throw l;let u=Eb(s.location,n);if(bb&&!nm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw nm.set(e,f),f}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function M1({routeContext:i,match:e,children:n}){let s=H.useContext(fl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(kr.Provider,{value:i},n)}function V1(i,e=[],n=null,s=null,l=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,f=n==null?void 0:n.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);ct(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=E),T.route.id){let{loaderData:S,errors:j}=n,L=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!j||j[T.route.id]===void 0);if(T.route.lazy||L){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(E,T)=>{var S,j;s(E,{location:n.location,params:((j=(S=n.matches)==null?void 0:S[0])==null?void 0:j.params)??{},unstable_pattern:v1(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,S)=>{let j,L=!1,G=null,z=null;n&&(j=f&&T.route.id?f[T.route.id]:void 0,G=T.route.errorElement||O1,m&&(g<0&&S===0?(Ib("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,z=null):g===S&&(L=!0,z=T.route.hydrateFallbackElement||null)));let re=e.concat(u.slice(0,S+1)),Y=()=>{let J;return j?J=G:L?J=z:T.route.Component?J=H.createElement(T.route.Component,null):T.route.element?J=T.route.element:J=E,H.createElement(M1,{match:T,routeContext:{outlet:E,matches:re,isDataRoute:n!=null},children:J})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?H.createElement(Cb,{location:n.location,revalidation:n.revalidation,component:G,error:j,children:Y(),routeContext:{outlet:null,matches:re,isDataRoute:!0},onError:p}):Y()},null)}function Ym(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j1(i){let e=H.useContext(fl);return ct(e,Ym(i)),e}function P1(i){let e=H.useContext(Ah);return ct(e,Ym(i)),e}function L1(i){let e=H.useContext(kr);return ct(e,Ym(i)),e}function Xm(i){let e=L1(i),n=e.matches[e.matches.length-1];return ct(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function U1(){return Xm("useRouteId")}function z1(){var s;let i=H.useContext(Km),e=P1("useRouteError"),n=Xm("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function B1(){let{router:i}=j1("useNavigate"),e=Xm("useNavigate"),n=H.useRef(!1);return Ab(()=>{n.current=!0}),H.useCallback(async(l,u={})=>{xn(n.current,Sb),n.current&&(typeof l=="number"?await i.navigate(l):await i.navigate(l,{fromRouteId:e,...u}))},[i,e])}var O0={};function Ib(i,e,n){!e&&!O0[i]&&(O0[i]=!0,xn(!1,n))}H.memo(q1);function q1({routes:i,future:e,state:n,onError:s}){return Nb(i,void 0,n,s,e)}function k0({to:i,replace:e,state:n,relative:s}){ct(dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=H.useContext(wn);xn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=H.useContext(kr),{pathname:f}=oi(),m=Rb(),g=Qm(i,Gm(u),f,s==="path"),p=JSON.stringify(g);return H.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function Fi(i){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H1({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:l,static:u=!1,unstable_useTransitions:f}){ct(!dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),g=H.useMemo(()=>({basename:m,navigator:l,static:u,unstable_useTransitions:f,future:{}}),[m,l,u,f]);typeof n=="string"&&(n=Js(n));let{pathname:p="/",search:E="",hash:T="",state:S=null,key:j="default"}=n,L=H.useMemo(()=>{let G=ni(p,m);return G==null?null:{location:{pathname:G,search:E,hash:T,state:S,key:j},navigationType:s}},[m,p,E,T,S,j,s]);return xn(L!=null,`<Router basename="${m}"> is not able to match the URL "${p}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:H.createElement(wn.Provider,{value:g},H.createElement(Wo.Provider,{children:e,value:L}))}function F1({children:i,location:e}){return I1(ym(i),e)}function ym(i,e=[]){let n=[];return H.Children.forEach(i,(s,l)=>{if(!H.isValidElement(s))return;let u=[...e,l];if(s.type===H.Fragment){n.push.apply(n,ym(s.props.children,u));return}ct(s.type===Fi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=ym(s.props.children,u)),n.push(f)}),n}var Yc="get",Xc="application/x-www-form-urlencoded";function Rh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function G1(i){return Rh(i)&&i.tagName.toLowerCase()==="button"}function Q1(i){return Rh(i)&&i.tagName.toLowerCase()==="form"}function K1(i){return Rh(i)&&i.tagName.toLowerCase()==="input"}function Y1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function X1(i,e){return i.button===0&&(!e||e==="_self")&&!Y1(i)}var Bc=null;function $1(){if(Bc===null)try{new FormData(document.createElement("form"),0),Bc=!1}catch{Bc=!0}return Bc}var J1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rm(i){return i!=null&&!J1.has(i)?(xn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xc}"`),null):i}function Z1(i,e){let n,s,l,u,f;if(Q1(i)){let m=i.getAttribute("action");s=m?ni(m,e):null,n=i.getAttribute("method")||Yc,l=rm(i.getAttribute("enctype"))||Xc,u=new FormData(i)}else if(G1(i)||K1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?ni(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Yc,l=rm(i.getAttribute("formenctype"))||rm(m.getAttribute("enctype"))||Xc,u=new FormData(m,i),!$1()){let{name:p,type:E,value:T}=i;if(E==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,T)}}else{if(Rh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yc,s=null,l=Xc,f=i}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $m(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function W1(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ni(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function eS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function nS(i,e,n){let s=await Promise.all(i.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await eS(u,n);return f.links?f.links():[]}return[]}));return aS(s.flat(1).filter(tS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function M0(i,e,n,s,l,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>{var E;return n[p].pathname!==g.pathname||((E=n[p].route.path)==null?void 0:E.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{var T;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function rS(i,e,{includeHydrateFallback:n}={}){return iS(i.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function iS(i){return[...new Set(i)]}function sS(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function aS(i,e){let n=new Set;return new Set(e),i.reduce((s,l)=>{let u=JSON.stringify(sS(l));return n.has(u)||(n.add(u),s.push({key:u,link:l})),s},[])}function Db(){let i=H.useContext(fl);return $m(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function lS(){let i=H.useContext(Ah);return $m(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Jm=H.createContext(void 0);Jm.displayName="FrameworkContext";function Ob(){let i=H.useContext(Jm);return $m(i,"You must render this element inside a <HydratedRouter> element"),i}function oS(i,e){let n=H.useContext(Jm),[s,l]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:T}=e,S=H.useRef(null);H.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let G=re=>{re.forEach(Y=>{f(Y.isIntersecting)})},z=new IntersectionObserver(G,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[i]),H.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let j=()=>{l(!0)},L=()=>{l(!1),f(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Oo(m,j),onBlur:Oo(g,L),onMouseEnter:Oo(p,j),onMouseLeave:Oo(E,L),onTouchStart:Oo(T,j)}]:[!1,S,{}]}function Oo(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function uS({page:i,...e}){let{router:n}=Db(),s=H.useMemo(()=>pb(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?H.createElement(hS,{page:i,matches:s,...e}):null}function cS(i){let{manifest:e,routeModules:n}=Ob(),[s,l]=H.useState([]);return H.useEffect(()=>{let u=!1;return nS(i,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[i,e,n]),s}function hS({page:i,matches:e,...n}){let s=oi(),{manifest:l,routeModules:u}=Ob(),{basename:f}=Db(),{loaderData:m,matches:g}=lS(),p=H.useMemo(()=>M0(i,e,g,l,s,"data"),[i,e,g,l,s]),E=H.useMemo(()=>M0(i,e,g,l,s,"assets"),[i,e,g,l,s]),T=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let L=new Set,G=!1;if(e.forEach(re=>{var J;let Y=l.routes[re.route.id];!Y||!Y.hasLoader||(!p.some(me=>me.route.id===re.route.id)&&re.route.id in m&&((J=u[re.route.id])!=null&&J.shouldRevalidate)||Y.hasClientLoader?G=!0:L.add(re.route.id))}),L.size===0)return[];let z=W1(i,f,"data");return G&&L.size>0&&z.searchParams.set("_routes",e.filter(re=>L.has(re.route.id)).map(re=>re.route.id).join(",")),[z.pathname+z.search]},[f,m,s,l,p,e,i,u]),S=H.useMemo(()=>rS(E,l),[E,l]),j=cS(E);return H.createElement(H.Fragment,null,T.map(L=>H.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),S.map(L=>H.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),j.map(({key:L,link:G})=>H.createElement("link",{key:L,nonce:n.nonce,...G})))}function fS(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dS&&(window.__reactRouterVersion="7.11.0")}catch{}function mS({basename:i,children:e,unstable_useTransitions:n,window:s}){let l=H.useRef();l.current==null&&(l.current=Yw({window:s,v5Compat:!0}));let u=l.current,[f,m]=H.useState({action:u.action,location:u.location}),g=H.useCallback(p=>{n===!1?m(p):H.startTransition(()=>m(p))},[n]);return H.useLayoutEffect(()=>u.listen(g),[u,g]),H.createElement(H1,{basename:i,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var kb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mb=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S,...j},L){let{basename:G,unstable_useTransitions:z}=H.useContext(wn),re=typeof p=="string"&&kb.test(p),Y=Eb(p,G);p=Y.to;let J=N1(p,{relative:l}),[me,se,le]=oS(s,j),R=yS(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:l,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:z});function A(V){e&&e(V),V.defaultPrevented||R(V)}let C=H.createElement("a",{...j,...le,href:Y.absoluteURL||J,onClick:Y.isExternal||u?e:A,ref:fS(L,se),target:g,"data-discover":!re&&n==="render"?"true":void 0});return me&&!re?H.createElement(H.Fragment,null,C,H.createElement(uS,{page:J})):C});Mb.displayName="Link";var Ga=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let T=eu(f,{relative:p.relative}),S=oi(),j=H.useContext(Ah),{navigator:L,basename:G}=H.useContext(wn),z=j!=null&&TS(T)&&m===!0,re=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,Y=S.pathname,J=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),J=J?J.toLowerCase():null,re=re.toLowerCase()),J&&G&&(J=ni(J,G)||J);const me=re!=="/"&&re.endsWith("/")?re.length-1:re.length;let se=Y===re||!l&&Y.startsWith(re)&&Y.charAt(me)==="/",le=J!=null&&(J===re||!l&&J.startsWith(re)&&J.charAt(re.length)==="/"),R={isActive:se,isPending:le,isTransitioning:z},A=se?e:void 0,C;typeof s=="function"?C=s(R):C=[s,se?"active":null,le?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(R):u;return H.createElement(Mb,{...p,"aria-current":A,className:C,ref:E,style:V,to:f,viewTransition:m},typeof g=="function"?g(R):g)});Ga.displayName="NavLink";var gS=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:l,state:u,method:f=Yc,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S,...j},L)=>{let{unstable_useTransitions:G}=H.useContext(wn),z=bS(),re=ES(m,{relative:p}),Y=f.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&kb.test(m),me=se=>{if(g&&g(se),se.defaultPrevented)return;se.preventDefault();let le=se.nativeEvent.submitter,R=(le==null?void 0:le.getAttribute("formmethod"))||f,A=()=>z(le||se.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:l,state:u,relative:p,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S});G&&n!==!1?H.startTransition(()=>A()):A()};return H.createElement("form",{ref:L,method:Y,action:re,onSubmit:s?g:me,...j,"data-discover":!J&&i==="render"?"true":void 0})});gS.displayName="Form";function pS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vb(i){let e=H.useContext(fl);return ct(e,pS(i)),e}function yS(i,{target:e,replace:n,state:s,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=Rb(),E=oi(),T=eu(i,{relative:u});return H.useCallback(S=>{if(X1(S,e)){S.preventDefault();let j=n!==void 0?n:Ho(E)===Ho(T),L=()=>p(i,{replace:j,state:s,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?H.startTransition(()=>L()):L()}},[E,p,T,n,s,e,i,l,u,f,m,g])}var _S=0,vS=()=>`__${String(++_S)}__`;function bS(){let{router:i}=Vb("useSubmit"),{basename:e}=H.useContext(wn),n=U1(),s=i.fetch,l=i.navigate;return H.useCallback(async(u,f={})=>{let{action:m,method:g,encType:p,formData:E,body:T}=Z1(u,e);if(f.navigate===!1){let S=f.fetcherKey||vS();await s(S,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||g,formEncType:f.encType||p,flushSync:f.flushSync})}else await l(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||g,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,l,e,n])}function ES(i,{relative:e}={}){let{basename:n}=H.useContext(wn),s=H.useContext(kr);ct(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...eu(i||".",{relative:e})},f=oi();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ti([n,u.pathname])),Ho(u)}function TS(i,{relative:e}={}){let n=H.useContext(xb);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Vb("useViewTransitionState"),l=eu(i,{relative:e});if(!n.isTransitioning)return!1;let u=ni(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ni(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ah(l.pathname,f)!=null||ah(l.pathname,u)!=null}const xS=()=>{};var V0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},wS=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const l=i[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[n++],f=i[n++],m=i[n++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Pb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const u=i[l],f=l+1<i.length,m=f?i[l+1]:0,g=l+2<i.length,p=g?i[l+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|p>>6,j=p&63;g||(j=64,f||(S=64)),s.push(n[E],n[T],n[S],n[j])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(jb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):wS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const u=n[i.charAt(l++)],m=l<i.length?n[i.charAt(l)]:0;++l;const p=l<i.length?n[i.charAt(l)]:64;++l;const T=l<i.length?n[i.charAt(l)]:64;if(++l,u==null||m==null||p==null||T==null)throw new SS;const S=u<<2|m>>4;if(s.push(S),p!==64){const j=m<<4&240|p>>2;if(s.push(j),T!==64){const L=p<<6&192|T;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class SS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AS=function(i){const e=jb(i);return Pb.encodeByteArray(e,!0)},lh=function(i){return AS(i).replace(/\./g,"")},Lb=function(i){try{return Pb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=()=>RS().__FIREBASE_DEFAULTS__,CS=()=>{if(typeof process>"u"||typeof V0>"u")return;const i=V0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},IS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Lb(i[1]);return e&&JSON.parse(e)},Nh=()=>{try{return xS()||NS()||CS()||IS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Ub=i=>{var e,n;return(n=(e=Nh())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},DS=i=>{const e=Ub(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},zb=()=>{var i;return(i=Nh())==null?void 0:i.config},Bb=i=>{var e;return(e=Nh())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qb(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}const Po={};function MS(){const i={prod:[],emulator:[]};for(const e of Object.keys(Po))Po[e]?i.emulator.push(e):i.prod.push(e);return i}function VS(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let j0=!1;function Hb(i,e){if(typeof window>"u"||typeof document>"u"||!ml(window.location.host)||Po[i]===e||Po[i]||j0)return;Po[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=MS().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,j){S.setAttribute("width","24"),S.setAttribute("id",j),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{j0=!0,f()},S}function E(S,j){S.setAttribute("id",j),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=VS(s),j=n("text"),L=document.getElementById(j)||document.createElement("span"),G=n("learnmore"),z=document.getElementById(G)||document.createElement("a"),re=n("preprendIcon"),Y=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const J=S.element;m(J),E(z,G);const me=p();g(Y,re),J.append(Y,L,z,me),document.body.appendChild(J)}u?(L.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function PS(){var e;const i=(e=Nh())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function US(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BS(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function qS(){return!PS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HS(){try{return typeof indexedDB=="object"}catch{return!1}}function FS(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="FirebaseError";class ui extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=GS,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?QS(u,s):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new ui(l,m,s)}}function QS(i,e){return i.replace(KS,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const KS=/\{\$([^}]+)}/g;function YS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Qs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=i[l],f=e[l];if(P0(u)&&P0(f)){if(!Qs(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function P0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function XS(i,e){const n=new $S(i,e);return n.subscribe.bind(n)}class $S{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");JS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=im),l.error===void 0&&(l.error=im),l.complete===void 0&&(l.complete=im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JS(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(i){return i&&i._delegate?i._delegate:i}class Ks{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new OS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eA(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WS(i){return i===qs?void 0:i}function eA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(je||(je={}));const nA={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},rA=je.INFO,iA={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},sA=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),l=iA[e];if(l)console[l](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zm{constructor(e){this.name=e,this._logLevel=rA,this._logHandler=sA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const aA=(i,e)=>e.some(n=>i instanceof n);let L0,U0;function lA(){return L0||(L0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oA(){return U0||(U0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fb=new WeakMap,_m=new WeakMap,Gb=new WeakMap,sm=new WeakMap,Wm=new WeakMap;function uA(i){const e=new Promise((n,s)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n($i(i.result)),l()},f=()=>{s(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Fb.set(n,i)}).catch(()=>{}),Wm.set(e,i),e}function cA(i){if(_m.has(i))return;const e=new Promise((n,s)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});_m.set(i,e)}let vm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return _m.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Gb.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function hA(i){vm=i(vm)}function fA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(am(this),e,...n);return Gb.set(s,e.sort?e.sort():[e]),$i(s)}:oA().includes(i)?function(...e){return i.apply(am(this),e),$i(Fb.get(this))}:function(...e){return $i(i.apply(am(this),e))}}function dA(i){return typeof i=="function"?fA(i):(i instanceof IDBTransaction&&cA(i),aA(i,lA())?new Proxy(i,vm):i)}function $i(i){if(i instanceof IDBRequest)return uA(i);if(sm.has(i))return sm.get(i);const e=dA(i);return e!==i&&(sm.set(i,e),Wm.set(e,i)),e}const am=i=>Wm.get(i);function mA(i,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(i,e),m=$i(f);return s&&f.addEventListener("upgradeneeded",g=>{s($i(f.result),g.oldVersion,g.newVersion,$i(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const gA=["get","getKey","getAll","getAllKeys","count"],pA=["put","add","delete","clear"],lm=new Map;function z0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=pA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||gA.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,l?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),l&&g.done]))[0]};return lm.set(e,u),u}hA(i=>({...i,get:(e,n,s)=>z0(e,n)||i.get(e,n,s),has:(e,n)=>!!z0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_A(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function _A(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bm="@firebase/app",B0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new Zm("@firebase/app"),vA="@firebase/app-compat",bA="@firebase/analytics-compat",EA="@firebase/analytics",TA="@firebase/app-check-compat",xA="@firebase/app-check",wA="@firebase/auth",SA="@firebase/auth-compat",AA="@firebase/database",RA="@firebase/data-connect",NA="@firebase/database-compat",CA="@firebase/functions",IA="@firebase/functions-compat",DA="@firebase/installations",OA="@firebase/installations-compat",kA="@firebase/messaging",MA="@firebase/messaging-compat",VA="@firebase/performance",jA="@firebase/performance-compat",PA="@firebase/remote-config",LA="@firebase/remote-config-compat",UA="@firebase/storage",zA="@firebase/storage-compat",BA="@firebase/firestore",qA="@firebase/ai",HA="@firebase/firestore-compat",FA="firebase",GA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",QA={[bm]:"fire-core",[vA]:"fire-core-compat",[EA]:"fire-analytics",[bA]:"fire-analytics-compat",[xA]:"fire-app-check",[TA]:"fire-app-check-compat",[wA]:"fire-auth",[SA]:"fire-auth-compat",[AA]:"fire-rtdb",[RA]:"fire-data-connect",[NA]:"fire-rtdb-compat",[CA]:"fire-fn",[IA]:"fire-fn-compat",[DA]:"fire-iid",[OA]:"fire-iid-compat",[kA]:"fire-fcm",[MA]:"fire-fcm-compat",[VA]:"fire-perf",[jA]:"fire-perf-compat",[PA]:"fire-rc",[LA]:"fire-rc-compat",[UA]:"fire-gcs",[zA]:"fire-gcs-compat",[BA]:"fire-fst",[HA]:"fire-fst-compat",[qA]:"fire-vertex","fire-js":"fire-js",[FA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Map,KA=new Map,Tm=new Map;function q0(i,e){try{i.container.addComponent(e)}catch(n){ri.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function il(i){const e=i.name;if(Tm.has(e))return ri.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,i);for(const n of oh.values())q0(n,i);for(const n of KA.values())q0(n,i);return!0}function eg(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Jn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new tu("app","Firebase",YA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=GA;function Qb(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Em,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Ji.create("bad-app-name",{appName:String(l)});if(n||(n=zb()),!n)throw Ji.create("no-options");const u=oh.get(l);if(u){if(Qs(n,u.options)&&Qs(s,u.config))return u;throw Ji.create("duplicate-app",{appName:l})}const f=new tA(l);for(const g of Tm.values())f.addComponent(g);const m=new XA(n,s,f);return oh.set(l,m),m}function Kb(i=Em){const e=oh.get(i);if(!e&&i===Em&&zb())return Qb();if(!e)throw Ji.create("no-app",{appName:i});return e}function Zi(i,e,n){let s=QA[i]??i;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ri.warn(f.join(" "));return}il(new Ks(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firebase-heartbeat-database",JA=1,Fo="firebase-heartbeat-store";let om=null;function Yb(){return om||(om=mA($A,JA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Fo)}catch(n){console.warn(n)}}}}).catch(i=>{throw Ji.create("idb-open",{originalErrorMessage:i.message})})),om}async function ZA(i){try{const n=(await Yb()).transaction(Fo),s=await n.objectStore(Fo).get(Xb(i));return await n.done,s}catch(e){if(e instanceof ui)ri.warn(e.message);else{const n=Ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ri.warn(n.message)}}}async function H0(i,e){try{const s=(await Yb()).transaction(Fo,"readwrite");await s.objectStore(Fo).put(e,Xb(i)),await s.done}catch(n){if(n instanceof ui)ri.warn(n.message);else{const s=Ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ri.warn(s.message)}}}function Xb(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=1024,eR=30;class tR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=F0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>eR){const f=iR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ri.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=F0(),{heartbeatsToSend:s,unsentEntries:l}=nR(this._heartbeatsCache.heartbeats),u=lh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ri.warn(n),""}}}function F0(){return new Date().toISOString().substring(0,10)}function nR(i,e=WA){const n=[];let s=i.slice();for(const l of i){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),G0(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),G0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class rR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HS()?FS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return H0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return H0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function G0(i){return lh(JSON.stringify({version:2,heartbeats:i})).length}function iR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(i){il(new Ks("platform-logger",e=>new yA(e),"PRIVATE")),il(new Ks("heartbeat",e=>new tR(e),"PRIVATE")),Zi(bm,B0,i),Zi(bm,B0,"esm2020"),Zi("fire-js","")}sR("");var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,$b;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function C(){}C.prototype=A.prototype,R.F=A.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(V,O,D){for(var N=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)N[Qe-2]=arguments[Qe];return A.prototype[O].apply(V,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,A,C){C||(C=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(O=0;O<16;++O)V[O]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=R.g[0],C=R.g[1],O=R.g[2];let D=R.g[3],N;N=A+(D^C&(O^D))+V[0]+3614090360&4294967295,A=C+(N<<7&4294967295|N>>>25),N=D+(O^A&(C^O))+V[1]+3905402710&4294967295,D=A+(N<<12&4294967295|N>>>20),N=O+(C^D&(A^C))+V[2]+606105819&4294967295,O=D+(N<<17&4294967295|N>>>15),N=C+(A^O&(D^A))+V[3]+3250441966&4294967295,C=O+(N<<22&4294967295|N>>>10),N=A+(D^C&(O^D))+V[4]+4118548399&4294967295,A=C+(N<<7&4294967295|N>>>25),N=D+(O^A&(C^O))+V[5]+1200080426&4294967295,D=A+(N<<12&4294967295|N>>>20),N=O+(C^D&(A^C))+V[6]+2821735955&4294967295,O=D+(N<<17&4294967295|N>>>15),N=C+(A^O&(D^A))+V[7]+4249261313&4294967295,C=O+(N<<22&4294967295|N>>>10),N=A+(D^C&(O^D))+V[8]+1770035416&4294967295,A=C+(N<<7&4294967295|N>>>25),N=D+(O^A&(C^O))+V[9]+2336552879&4294967295,D=A+(N<<12&4294967295|N>>>20),N=O+(C^D&(A^C))+V[10]+4294925233&4294967295,O=D+(N<<17&4294967295|N>>>15),N=C+(A^O&(D^A))+V[11]+2304563134&4294967295,C=O+(N<<22&4294967295|N>>>10),N=A+(D^C&(O^D))+V[12]+1804603682&4294967295,A=C+(N<<7&4294967295|N>>>25),N=D+(O^A&(C^O))+V[13]+4254626195&4294967295,D=A+(N<<12&4294967295|N>>>20),N=O+(C^D&(A^C))+V[14]+2792965006&4294967295,O=D+(N<<17&4294967295|N>>>15),N=C+(A^O&(D^A))+V[15]+1236535329&4294967295,C=O+(N<<22&4294967295|N>>>10),N=A+(O^D&(C^O))+V[1]+4129170786&4294967295,A=C+(N<<5&4294967295|N>>>27),N=D+(C^O&(A^C))+V[6]+3225465664&4294967295,D=A+(N<<9&4294967295|N>>>23),N=O+(A^C&(D^A))+V[11]+643717713&4294967295,O=D+(N<<14&4294967295|N>>>18),N=C+(D^A&(O^D))+V[0]+3921069994&4294967295,C=O+(N<<20&4294967295|N>>>12),N=A+(O^D&(C^O))+V[5]+3593408605&4294967295,A=C+(N<<5&4294967295|N>>>27),N=D+(C^O&(A^C))+V[10]+38016083&4294967295,D=A+(N<<9&4294967295|N>>>23),N=O+(A^C&(D^A))+V[15]+3634488961&4294967295,O=D+(N<<14&4294967295|N>>>18),N=C+(D^A&(O^D))+V[4]+3889429448&4294967295,C=O+(N<<20&4294967295|N>>>12),N=A+(O^D&(C^O))+V[9]+568446438&4294967295,A=C+(N<<5&4294967295|N>>>27),N=D+(C^O&(A^C))+V[14]+3275163606&4294967295,D=A+(N<<9&4294967295|N>>>23),N=O+(A^C&(D^A))+V[3]+4107603335&4294967295,O=D+(N<<14&4294967295|N>>>18),N=C+(D^A&(O^D))+V[8]+1163531501&4294967295,C=O+(N<<20&4294967295|N>>>12),N=A+(O^D&(C^O))+V[13]+2850285829&4294967295,A=C+(N<<5&4294967295|N>>>27),N=D+(C^O&(A^C))+V[2]+4243563512&4294967295,D=A+(N<<9&4294967295|N>>>23),N=O+(A^C&(D^A))+V[7]+1735328473&4294967295,O=D+(N<<14&4294967295|N>>>18),N=C+(D^A&(O^D))+V[12]+2368359562&4294967295,C=O+(N<<20&4294967295|N>>>12),N=A+(C^O^D)+V[5]+4294588738&4294967295,A=C+(N<<4&4294967295|N>>>28),N=D+(A^C^O)+V[8]+2272392833&4294967295,D=A+(N<<11&4294967295|N>>>21),N=O+(D^A^C)+V[11]+1839030562&4294967295,O=D+(N<<16&4294967295|N>>>16),N=C+(O^D^A)+V[14]+4259657740&4294967295,C=O+(N<<23&4294967295|N>>>9),N=A+(C^O^D)+V[1]+2763975236&4294967295,A=C+(N<<4&4294967295|N>>>28),N=D+(A^C^O)+V[4]+1272893353&4294967295,D=A+(N<<11&4294967295|N>>>21),N=O+(D^A^C)+V[7]+4139469664&4294967295,O=D+(N<<16&4294967295|N>>>16),N=C+(O^D^A)+V[10]+3200236656&4294967295,C=O+(N<<23&4294967295|N>>>9),N=A+(C^O^D)+V[13]+681279174&4294967295,A=C+(N<<4&4294967295|N>>>28),N=D+(A^C^O)+V[0]+3936430074&4294967295,D=A+(N<<11&4294967295|N>>>21),N=O+(D^A^C)+V[3]+3572445317&4294967295,O=D+(N<<16&4294967295|N>>>16),N=C+(O^D^A)+V[6]+76029189&4294967295,C=O+(N<<23&4294967295|N>>>9),N=A+(C^O^D)+V[9]+3654602809&4294967295,A=C+(N<<4&4294967295|N>>>28),N=D+(A^C^O)+V[12]+3873151461&4294967295,D=A+(N<<11&4294967295|N>>>21),N=O+(D^A^C)+V[15]+530742520&4294967295,O=D+(N<<16&4294967295|N>>>16),N=C+(O^D^A)+V[2]+3299628645&4294967295,C=O+(N<<23&4294967295|N>>>9),N=A+(O^(C|~D))+V[0]+4096336452&4294967295,A=C+(N<<6&4294967295|N>>>26),N=D+(C^(A|~O))+V[7]+1126891415&4294967295,D=A+(N<<10&4294967295|N>>>22),N=O+(A^(D|~C))+V[14]+2878612391&4294967295,O=D+(N<<15&4294967295|N>>>17),N=C+(D^(O|~A))+V[5]+4237533241&4294967295,C=O+(N<<21&4294967295|N>>>11),N=A+(O^(C|~D))+V[12]+1700485571&4294967295,A=C+(N<<6&4294967295|N>>>26),N=D+(C^(A|~O))+V[3]+2399980690&4294967295,D=A+(N<<10&4294967295|N>>>22),N=O+(A^(D|~C))+V[10]+4293915773&4294967295,O=D+(N<<15&4294967295|N>>>17),N=C+(D^(O|~A))+V[1]+2240044497&4294967295,C=O+(N<<21&4294967295|N>>>11),N=A+(O^(C|~D))+V[8]+1873313359&4294967295,A=C+(N<<6&4294967295|N>>>26),N=D+(C^(A|~O))+V[15]+4264355552&4294967295,D=A+(N<<10&4294967295|N>>>22),N=O+(A^(D|~C))+V[6]+2734768916&4294967295,O=D+(N<<15&4294967295|N>>>17),N=C+(D^(O|~A))+V[13]+1309151649&4294967295,C=O+(N<<21&4294967295|N>>>11),N=A+(O^(C|~D))+V[4]+4149444226&4294967295,A=C+(N<<6&4294967295|N>>>26),N=D+(C^(A|~O))+V[11]+3174756917&4294967295,D=A+(N<<10&4294967295|N>>>22),N=O+(A^(D|~C))+V[2]+718787259&4294967295,O=D+(N<<15&4294967295|N>>>17),N=C+(D^(O|~A))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+D&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const C=A-this.blockSize,V=this.C;let O=this.h,D=0;for(;D<A;){if(O==0)for(;D<=C;)l(this,R,D),D+=this.blockSize;if(typeof R=="string"){for(;D<A;)if(V[O++]=R.charCodeAt(D++),O==this.blockSize){l(this,V),O=0;break}}else for(;D<A;)if(V[O++]=R[D++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)R[A++]=this.g[C]>>>V&255;return R};function u(R,A){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=A(R)}function f(R,A){this.h=A;const C=[];let V=!0;for(let O=R.length-1;O>=0;O--){const D=R[O]|0;V&&D==A||(C[O]=D,V=!1)}this.g=C}var m={};function g(R){return-128<=R&&R<128?u(R,function(A){return new f([A|0],A<0?-1:0)}):new f([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return z(p(-R));const A=[];let C=1;for(let V=0;R>=C;V++)A[V]=R/C|0,C*=4294967296;return new f(A,0)}function E(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return z(E(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(A,8));let V=T;for(let D=0;D<R.length;D+=8){var O=Math.min(8,R.length-D);const N=parseInt(R.substring(D,D+O),A);O<8?(O=p(Math.pow(A,O)),V=V.j(O).add(p(N))):(V=V.j(C),V=V.add(p(N)))}return V}var T=g(0),S=g(1),j=g(16777216);i=f.prototype,i.m=function(){if(G(this))return-z(this).m();let R=0,A=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);R+=(V>=0?V:4294967296+V)*A,A*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(L(this))return"0";if(G(this))return"-"+z(this).toString(R);const A=p(Math.pow(R,6));var C=this;let V="";for(;;){const O=me(C,A).g;C=re(C,O.j(A));let D=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=O,L(C))return D+V;for(;D.length<6;)D="0"+D;V=D+V}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function L(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function G(R){return R.h==-1}i.l=function(R){return R=re(this,R),G(R)?-1:L(R)?0:1};function z(R){const A=R.g.length,C=[];for(let V=0;V<A;V++)C[V]=~R.g[V];return new f(C,~R.h).add(S)}i.abs=function(){return G(this)?z(this):this},i.add=function(R){const A=Math.max(this.g.length,R.g.length),C=[];let V=0;for(let O=0;O<=A;O++){let D=V+(this.i(O)&65535)+(R.i(O)&65535),N=(D>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);V=N>>>16,D&=65535,N&=65535,C[O]=N<<16|D}return new f(C,C[C.length-1]&-2147483648?-1:0)};function re(R,A){return R.add(z(A))}i.j=function(R){if(L(this)||L(R))return T;if(G(this))return G(R)?z(this).j(z(R)):z(z(this).j(R));if(G(R))return z(this.j(z(R)));if(this.l(j)<0&&R.l(j)<0)return p(this.m()*R.m());const A=this.g.length+R.g.length,C=[];for(var V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<R.g.length;O++){const D=this.i(V)>>>16,N=this.i(V)&65535,Qe=R.i(O)>>>16,lt=R.i(O)&65535;C[2*V+2*O]+=N*lt,Y(C,2*V+2*O),C[2*V+2*O+1]+=D*lt,Y(C,2*V+2*O+1),C[2*V+2*O+1]+=N*Qe,Y(C,2*V+2*O+1),C[2*V+2*O+2]+=D*Qe,Y(C,2*V+2*O+2)}for(R=0;R<A;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=A;R<2*A;R++)C[R]=0;return new f(C,0)};function Y(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function J(R,A){this.g=R,this.h=A}function me(R,A){if(L(A))throw Error("division by zero");if(L(R))return new J(T,T);if(G(R))return A=me(z(R),A),new J(z(A.g),z(A.h));if(G(A))return A=me(R,z(A)),new J(z(A.g),A.h);if(R.g.length>30){if(G(R)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var C=S,V=A;V.l(R)<=0;)C=se(C),V=se(V);var O=le(C,1),D=le(V,1);for(V=le(V,2),C=le(C,2);!L(V);){var N=D.add(V);N.l(R)<=0&&(O=O.add(C),D=N),V=le(V,1),C=le(C,1)}return A=re(R,O.j(A)),new J(O,A)}for(O=T;R.l(A)>=0;){for(C=Math.max(1,Math.floor(R.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),D=p(C),N=D.j(A);G(N)||N.l(R)>0;)C-=V,D=p(C),N=D.j(A);L(D)&&(D=S),O=O.add(D),R=re(R,N)}return new J(O,R)}i.B=function(R){return me(this,R).h},i.and=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)&R.i(V);return new f(C,this.h&R.h)},i.or=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)|R.i(V);return new f(C,this.h|R.h)},i.xor=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)^R.i(V);return new f(C,this.h^R.h)};function se(R){const A=R.g.length+1,C=[];for(let V=0;V<A;V++)C[V]=R.i(V)<<1|R.i(V-1)>>>31;return new f(C,R.h)}function le(R,A){const C=A>>5;A%=32;const V=R.g.length-C,O=[];for(let D=0;D<V;D++)O[D]=A>0?R.i(D+C)>>>A|R.i(D+C+1)<<32-A:R.i(D+C);return new f(O,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,$b=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Wi=f}).apply(typeof Q0<"u"?Q0:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jb,ko,Zb,$c,xm,Wb,eE,tE;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function l(c,y){if(y)e:{var b=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var U=c[w];if(!(U in b))break e;b=b[U]}c=c[c.length-1],w=b[c],y=y(w),y!=w&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(y){var b=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&b.push([w,y[w]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,b){return c.call.apply(c.bind,arguments)}function p(c,y,b){return p=g,p.apply(null,arguments)}function E(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function T(c,y){function b(){}b.prototype=y.prototype,c.Z=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(w,U,Q){for(var ue=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ue[Ne-2]=arguments[Ne];return y.prototype[U].apply(w,ue)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const y=c.length;if(y>0){const b=Array(y);for(let w=0;w<y;w++)b[w]=c[w];return b}return[]}function L(c,y){for(let w=1;w<arguments.length;w++){const U=arguments[w];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=c.length||0;const Q=U.length||0;c.length=b+Q;for(let ue=0;ue<Q;ue++)c[b+ue]=U[ue]}else c.push(U)}}class G{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(c){f.setTimeout(()=>{throw c},0)}function re(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Y{constructor(){this.h=this.g=null}add(y,b){const w=J.get();w.set(y,b),this.h?this.h.next=w:this.g=w,this.h=w}}var J=new G(()=>new me,c=>c.reset());class me{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let se,le=!1,R=new Y,A=()=>{const c=Promise.resolve(void 0);se=()=>{c.then(C)}};function C(){for(var c;c=re();){try{c.h.call(c.g)}catch(b){z(b)}var y=J;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}le=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,y),f.removeEventListener("test",b,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Qe(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Qe,O),Qe.prototype.init=function(c,y){const b=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var lt="closure_listenable_"+(Math.random()*1e6|0),X=0;function oe(c,y,b,w,U){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!w,this.ha=U,this.key=++X,this.da=this.fa=!1}function te(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Te(c,y,b){for(const w in c)y.call(b,c[w],w,c)}function De(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function k(c){const y={};for(const b in c)y[b]=c[b];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let b,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(b in w)c[b]=w[b];for(let Q=0;Q<Z.length;Q++)b=Z[Q],Object.prototype.hasOwnProperty.call(w,b)&&(c[b]=w[b])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,b,w,U){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ue=be(c,y,w,U);return ue>-1?(y=c[ue],b||(y.fa=!1)):(y=new oe(y,this.src,Q,!!w,U),y.fa=b,c.push(y)),y};function _e(c,y){const b=y.type;if(b in c.g){var w=c.g[b],U=Array.prototype.indexOf.call(w,y,void 0),Q;(Q=U>=0)&&Array.prototype.splice.call(w,U,1),Q&&(te(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function be(c,y,b,w){for(let U=0;U<c.length;++U){const Q=c[U];if(!Q.da&&Q.listener==y&&Q.capture==!!b&&Q.ha==w)return U}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),nt={};function $e(c,y,b,w,U){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)$e(c,y[Q],b,w,U);return null}return b=Rl(b),c&&c[lt]?c.J(y,b,m(w)?!!w.capture:!1,U):nr(c,y,b,!1,w,U)}function nr(c,y,b,w,U,Q){if(!y)throw Error("Invalid event type");const ue=m(U)?!!U.capture:!!U;let Ne=fs(c);if(Ne||(c[Re]=Ne=new ce(c)),b=Ne.add(y,b,w,ue,Q),b.proxy)return b;if(w=ta(),b.proxy=w,w.src=c,w.listener=b,c.addEventListener)D||(U=ue),U===void 0&&(U=!1),c.addEventListener(y.toString(),w,U);else if(c.attachEvent)c.attachEvent(rr(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ta(){function c(b){return y.call(c.src,c.listener,b)}const y=Sl;return c}function na(c,y,b,w,U){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)na(c,y[Q],b,w,U);else w=m(w)?!!w.capture:!!w,b=Rl(b),c&&c[lt]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],b=be(y,b,w,U),b>-1&&(te(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=fs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=be(y,b,w,U)),(b=c>-1?y[c]:null)&&ra(b))}function ra(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[lt])_e(y.i,c);else{var b=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(b,w,c.capture):y.detachEvent?y.detachEvent(rr(b),w):y.addListener&&y.removeListener&&y.removeListener(w),(b=fs(y))?(_e(b,c),b.h==0&&(b.src=null,y[Re]=null)):te(c)}}}function rr(c){return c in nt?nt[c]:nt[c]="on"+c}function Sl(c,y){if(c.da)c=!0;else{y=new Qe(y,this);const b=c.listener,w=c.ha||c.src;c.fa&&ra(c),c=b.call(w,y)}return c}function fs(c){return c=c[Re],c instanceof ce?c:null}var Al="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rl(c){return typeof c=="function"?c:(c[Al]||(c[Al]=function(y){return c.handleEvent(y)}),c[Al])}function vt(){V.call(this),this.i=new ce(this),this.M=this,this.G=null}T(vt,V),vt.prototype[lt]=!0,vt.prototype.removeEventListener=function(c,y,b,w){na(this,c,y,b,w)};function Ot(c,y){var b,w=c.G;if(w)for(b=[];w;w=w.G)b.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var U=y;y=new O(w,c),ae(y,U)}U=!0;let Q,ue;if(b)for(ue=b.length-1;ue>=0;ue--)Q=y.g=b[ue],U=ci(Q,w,!0,y)&&U;if(Q=y.g=c,U=ci(Q,w,!0,y)&&U,U=ci(Q,w,!1,y)&&U,b)for(ue=0;ue<b.length;ue++)Q=y.g=b[ue],U=ci(Q,w,!1,y)&&U}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const b=c.g[y];for(let w=0;w<b.length;w++)te(b[w]);delete c.g[y],c.h--}}this.G=null},vt.prototype.J=function(c,y,b,w){return this.i.add(String(c),y,!1,b,w)},vt.prototype.K=function(c,y,b,w){return this.i.add(String(c),y,!0,b,w)};function ci(c,y,b,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let Q=0;Q<y.length;++Q){const ue=y[Q];if(ue&&!ue.da&&ue.capture==b){const Ne=ue.listener,gt=ue.ha||ue.src;ue.fa&&_e(c.i,ue),U=Ne.call(gt,w)!==!1&&U}}return U&&!w.defaultPrevented}function $h(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function fu(c){c.g=$h(()=>{c.g=null,c.i&&(c.i=!1,fu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends V{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){V.call(this),this.h=c,this.g={}}T(ds,V);var Nl=[];function Cl(c){Te(c.g,function(y,b){this.g.hasOwnProperty(b)&&ra(y)},c),c.g={}}ds.prototype.N=function(){ds.Z.N.call(this),Cl(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hi=f.JSON.stringify,Jh=f.JSON.parse,du=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function mu(){}function gu(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ut(){O.call(this,"d")}T(Ut,O);function Sn(){O.call(this,"c")}T(Sn,O);var mt={},pu=null;function ia(){return pu=pu||new vt}mt.Ia="serverreachability";function yu(c){O.call(this,mt.Ia,c)}T(yu,O);function ir(c){const y=ia();Ot(y,new yu(y))}mt.STAT_EVENT="statevent";function ms(c,y){O.call(this,mt.STAT_EVENT,c),this.stat=y}T(ms,O);function bt(c){const y=ia();Ot(y,new ms(y,c))}mt.Ja="timingevent";function sr(c,y){O.call(this,mt.Ja,c),this.size=y}T(sr,O);function ar(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Zh(c,y,b,w,U,Q){c.info(function(){if(c.g)if(Q){var ue="",Ne=Q.split("&");for(let He=0;He<Ne.length;He++){var gt=Ne[He].split("=");if(gt.length>1){const ot=gt[0];gt=gt[1];const Cn=ot.split("_");ue=Cn.length>=2&&Cn[1]=="type"?ue+(ot+"="+gt+"&"):ue+(ot+"=redacted&")}}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+y+`
`+b+`
`+ue})}function _u(c,y,b,w,U,Q,ue){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+y+`
`+b+`
`+Q+" "+ue})}function lr(c,y,b,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Wh(c,b)+(w?" "+w:"")})}function gs(c,y){c.info(function(){return"TIMEOUT: "+y})}zn.prototype.info=function(){};function Wh(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var b=Q[c];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var U=w[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ue=1;ue<w.length;ue++)w[ue]=""}}}}return hi(Q)}catch{return y}}var ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Dl;function ys(){}T(ys,mu),ys.prototype.g=function(){return new XMLHttpRequest},Dl=new ys;function Mr(c){return encodeURIComponent(String(c))}function vu(c){var y=1;c=c.split(":");const b=[];for(;y>0&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function Bn(c,y,b,w){this.j=c,this.i=y,this.l=b,this.S=w||1,this.V=new ds(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Et={},Vt={};function or(c,y,b){c.M=1,c.A=_s(xt(y)),c.u=b,c.R=!0,sa(c,null)}function sa(c,y){c.F=Date.now(),ur(c),c.B=xt(c.A);var b=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),ua(b.i,"t",w),c.C=0,b=c.j.L,c.h=new qn,c.g=Mu(c.j,b?y:null,!c.u),c.P>0&&(c.O=new en(p(c.Y,c,c.g),c.P)),y=c.V,b=c.g,w=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Nl[0]=U.toString()),U=Nl);for(let Q=0;Q<U.length;Q++){const ue=$e(b,U[Q],w||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ir(),Zh(c.i,c.v,c.B,c.l,c.S,c.u)}Bn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Gn(c)==3?y.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=Gn(this.g),gt=this.g.ya(),He=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||Ne!=4||gt==7||(gt==8||He<=0?ir(3):ir(2)),cr(this);var y=this.g.ca();this.X=y;var b=ef(this);if(this.o=y==200,_u(this.i,this.v,this.B,this.l,this.S,Ne,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,U=this.g;if((w=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var Q=w;break t}}Q=null}if(c=Q)lr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hr(this,c);else{this.o=!1,this.m=3,bt(12),dn(this),An(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<b.length;)if(ot=Eu(this,b),ot==Vt){Ne==4&&(this.m=4,bt(14),c=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Et){this.m=4,bt(15),lr(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else lr(this.i,this.l,ot,null),hr(this,ot);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||b.length!=0||this.h.h||(this.m=1,bt(16),c=!1),this.o=this.o&&c,!c)lr(this.i,this.l,b,"[Invalid Chunked Response]"),dn(this),An(this);else if(b.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Ql(ue),ue.P=!0,bt(11))}}else lr(this.i,this.l,b,null),hr(this,b);Ne==4&&dn(this),this.o&&!this.K&&(Ne==4?Iu(this.j,this):(this.o=!1,ur(this)))}else jr(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),dn(this),An(this)}}}catch{}finally{}};function ef(c){if(!bu(c))return c.g.la();const y=zt(c.g);if(y==="")return"";let b="";const w=y.length,U=Gn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),An(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<w;Q++)c.h.h=!0,b+=c.h.i.decode(y[Q],{stream:!(U&&Q==w-1)});return y.length=0,c.h.g+=b,c.C=0,c.h.g}function bu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Eu(c,y){var b=c.C,w=y.indexOf(`
`,b);return w==-1?Vt:(b=Number(y.substring(b,w)),isNaN(b)?Et:(w+=1,w+b>y.length?Vt:(y=y.slice(w,w+b),c.C=w+b,y)))}Bn.prototype.cancel=function(){this.K=!0,dn(this)};function ur(c){c.T=Date.now()+c.H,aa(c,c.H)}function aa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ar(p(c.aa,c),y)}function cr(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Bn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gs(this.i,this.B),this.M!=2&&(ir(),bt(17)),dn(this),this.m=2,An(this)):aa(this,this.T-c)};function An(c){c.j.I==0||c.K||Iu(c.j,c)}function dn(c){cr(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Cl(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function hr(c,y){try{var b=c.j;if(b.I!=0&&(b.g==c||dr(b.h,c))){if(!c.L&&dr(b.h,c)&&b.I==3){try{var w=b.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)ma(b),vi(b);else break e;Ss(b),bt(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ar(p(b.Va,b),6e3));fr(b.h)<=1&&b.ta&&(b.ta=void 0)}else vr(b,11)}else if((c.L||b.g==c)&&ma(b),!N(y))for(U=b.Ba.g.parse(y),y=0;y<U.length;y++){let He=U[y];const ot=He[0];if(!(ot<=b.K))if(b.K=ot,He=He[1],b.I==2)if(He[0]=="c"){b.M=He[1],b.ba=He[2];const Cn=He[3];Cn!=null&&(b.ka=Cn,b.j.info("VER="+b.ka));const br=He[4];br!=null&&(b.za=br,b.j.info("SVER="+b.za));const Qn=He[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(w=1.5*Qn,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const Kn=c.g;if(Kn){const As=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var Q=w.h;Q.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ml(Q,Q.h),Q.h=null))}if(w.G){const ga=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(w.wa=ga,Ke(w.J,w.G,ga))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ue=c;if(w.na=ku(w,w.L?w.ba:null,w.W),ue.L){Vl(w.h,ue);var Ne=ue,gt=w.O;gt&&(Ne.H=gt),Ne.D&&(cr(Ne),ur(Ne)),w.g=ue}else Nu(w);b.i.length>0&&_r(b)}else He[0]!="stop"&&He[0]!="close"||vr(b,7);else b.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?vr(b,7):Fl(b):He[0]!="noop"&&b.l&&b.l.qa(He),b.A=0)}}ir(4)}catch{}}var Tt=class{constructor(c,y){this.g=c,this.map=y}};function Ol(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fr(c){return c.h?1:c.g?c.g.size:0}function dr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ml(c,y){c.g?c.g.add(y):c.h=y}function Vl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ol.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.G);return y}return j(c.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(c,y){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const w=c[b].indexOf("=");let U,Q=null;w>=0?(U=c[b].substring(0,w),Q=c[b].substring(w+1)):U=c[b],y(U,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof mn?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,fi(this,c.u),this.h=c.h,Pl(this,Au(c.i)),this.m=c.m):c&&(y=String(c).match(Tu))?(this.l=!1,jt(this,y[1]||"",!0),this.o=mr(y[2]||""),this.g=mr(y[3]||"",!0),fi(this,y[4]),this.h=mr(y[5]||"",!0),Pl(this,y[6]||"",!0),this.m=mr(y[7]||"")):(this.l=!1,this.i=new mi(null,this.l))}mn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(vs(y,oa,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(vs(y,oa,!0),"@"),c.push(Mr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(vs(b,b.charAt(0)=="/"?Ll:xu,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",vs(b,wu)),c.join("")},mn.prototype.resolve=function(c){const y=xt(this);let b=!!c.j;b?jt(y,c.j):b=!!c.o,b?y.o=c.o:b=!!c.g,b?y.g=c.g:b=c.u!=null;var w=c.h;if(b)fi(y,c.u);else if(b=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var U=y.h.lastIndexOf("/");U!=-1&&(w=y.h.slice(0,U+1)+w)}if(U=w,U==".."||U==".")w="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){w=U.lastIndexOf("/",0)==0,U=U.split("/");const Q=[];for(let ue=0;ue<U.length;){const Ne=U[ue++];Ne=="."?w&&ue==U.length&&Q.push(""):Ne==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&ue==U.length&&Q.push("")):(Q.push(Ne),w=!0)}w=Q.join("/")}else w=U}return b?y.h=w:b=c.i.toString()!=="",b?Pl(y,Au(c.i)):b=!!c.m,b&&(y.m=c.m),y};function xt(c){return new mn(c)}function jt(c,y,b){c.j=b?mr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function fi(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Pl(c,y,b){y instanceof mi?(c.i=y,ca(c.i,c.l)):(b||(y=vs(y,di)),c.i=new mi(y,c.l))}function Ke(c,y,b){c.i.set(y,b)}function _s(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function mr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vs(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,rn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var oa=/[#\/\?@]/g,xu=/[#\?:]/g,Ll=/[#\?]/g,di=/[#\?@]/g,wu=/#/g;function mi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&la(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}i=mi.prototype,i.add=function(c,y){sn(this),this.i=null,c=gi(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function Su(c,y){sn(c),y=gi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ul(c,y){return sn(c),y=gi(c,y),c.g.has(y)}i.forEach=function(c,y){sn(this),this.g.forEach(function(b,w){b.forEach(function(U){c.call(y,U,w,this)},this)},this)};function zl(c,y){sn(c);let b=[];if(typeof y=="string")Ul(c,y)&&(b=b.concat(c.g.get(gi(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)b=b.concat(c[y]);return b}i.set=function(c,y){return sn(this),this.i=null,c=gi(this,c),Ul(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=zl(this,c),c.length>0?String(c[0]):y):y};function ua(c,y,b){Su(c,y),b.length>0&&(c.i=null,c.g.set(gi(c,y),j(b)),c.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var b=y[w];const U=Mr(b);b=zl(this,b);for(let Q=0;Q<b.length;Q++){let ue=U;b[Q]!==""&&(ue+="="+Mr(b[Q])),c.push(ue)}}return this.i=c.join("&")};function Au(c){const y=new mi;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function gi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ca(c,y){y&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(b,w){const U=w.toLowerCase();w!=U&&(Su(this,w),ua(this,U,b))},c)),c.j=y}function Hn(c,y){const b=new zn;if(f.Image){const w=new Image;w.onload=E(Rn,b,"TestLoadImage: loaded",!0,y,w),w.onerror=E(Rn,b,"TestLoadImage: error",!1,y,w),w.onabort=E(Rn,b,"TestLoadImage: abort",!1,y,w),w.ontimeout=E(Rn,b,"TestLoadImage: timeout",!1,y,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Bl(c,y){const b=new zn,w=new AbortController,U=setTimeout(()=>{w.abort(),Rn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Q=>{clearTimeout(U),Q.ok?Rn(b,"TestPingServer: ok",!0,y):Rn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Rn(b,"TestPingServer: error",!1,y)})}function Rn(c,y,b,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(b)}catch{}}function pi(){this.g=new du}function gr(c){this.i=c.Sb||null,this.h=c.ab||!1}T(gr,mu),gr.prototype.g=function(){return new bs(this.i,this.h)};function bs(c,y){vt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(bs,vt),i=bs.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Fn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?yi(this):Fn(this),this.readyState==3&&ha(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,yi(this))},i.Na=function(c){this.g&&(this.response=c,yi(this))},i.ga=function(){this.g&&yi(this)};function yi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let y="";return Te(c,function(b,w){y+=w,y+=":",y+=b,y+=`\r
`}),y}function Es(c,y,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=Nn(b),typeof c=="string"?b!=null&&Mr(b):Ke(c,y,b))}function Je(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Je,vt);var pr=/^https?$/i,ql=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Dl.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Ts(this,Q);return}if(c=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)b.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())b.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(ql,y,void 0)>=0)||w||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of b)this.g.setRequestHeader(Q,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Ts(this,Q)}};function Ts(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Hl(c),Vr(c)}function Hl(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Vr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vr(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?xs(this):this.Xa())},i.Xa=function(){xs(this)};function xs(c){if(c.h&&typeof u<"u"){if(c.v&&Gn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var w;if(w=Q===0){let ue=String(c.D).match(Tu)[1]||null;!ue&&f.self&&f.self.location&&(ue=f.self.location.protocol.slice(0,-1)),w=!pr.test(ue?ue.toLowerCase():"")}b=w}if(b)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var U=Gn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Hl(c)}}finally{Vr(c)}}}}function Vr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,y||Ot(c,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Jh(y)}};function zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jr(c){const y={};c=(c.g&&Gn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(N(c[w]))continue;var b=vu(c[w]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=y[U]||[];y[U]=Q,Q.push(b)}De(y,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yr(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function _i(c){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yr("baseRetryDelayMs",5e3,c),this.Za=yr("retryDelaySeedMs",1e4,c),this.Ta=yr("forwardChannelMaxRetries",2,c),this.va=yr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ol(c&&c.concurrentRequestLimit),this.Ba=new pi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=_i.prototype,i.ka=8,i.I=1,i.connect=function(c,y,b,w){bt(0),this.W=c,this.H=y||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=ku(this,null,this.W),_r(this)};function Fl(c){if(fa(c),c.I==3){var y=c.V++,b=xt(c.J);if(Ke(b,"SID",c.M),Ke(b,"RID",y),Ke(b,"TYPE","terminate"),ws(c,b),y=new Bn(c,c.j,y),y.M=2,y.A=_s(xt(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=y.A,b=!0),b||(y.g=Mu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ur(y)}Ou(c)}function vi(c){c.g&&(Ql(c),c.g.cancel(),c.g=null)}function fa(c){vi(c),c.v&&(f.clearTimeout(c.v),c.v=null),ma(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function _r(c){if(!kl(c.h)&&!c.m){c.m=!0;var y=c.Ea;se||A(),le||(se(),le=!0),R.add(y,c),c.D=0}}function da(c,y){return fr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ar(p(c.Ea,c,y),Du(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Bn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=k(Q),ae(Q,this.U)):Q=this.U),this.u!==null||this.R||(U.J=Q,Q=null),this.S)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Ru(this,U,y),b=xt(this.J),Ke(b,"RID",c),Ke(b,"CVER",22),this.G&&Ke(b,"X-HTTP-Session-Id",this.G),ws(this,b),Q&&(this.R?y="headers="+Mr(Nn(Q))+"&"+y:this.u&&Es(b,this.u,Q)),Ml(this.h,U),this.Ra&&Ke(b,"TYPE","init"),this.S?(Ke(b,"$req",y),Ke(b,"SID","null"),U.U=!0,or(U,b,null)):or(U,b,y),this.I=2}}else this.I==3&&(c?Gl(this,c):this.i.length==0||kl(this.h)||Gl(this))};function Gl(c,y){var b;y?b=y.l:b=c.V++;const w=xt(c.J);Ke(w,"SID",c.M),Ke(w,"RID",b),Ke(w,"AID",c.K),ws(c,w),c.u&&c.o&&Es(w,c.u,c.o),b=new Bn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ru(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ml(c.h,b),or(b,w,y)}function ws(c,y){c.H&&Te(c.H,function(b,w){Ke(y,w,b)}),c.l&&Te({},function(b,w){Ke(y,w,b)})}function Ru(c,y,b){b=Math.min(c.i.length,b);const w=c.l?p(c.l.Ka,c.l,c):null;e:{var U=c.i;let Ne=-1;for(;;){const gt=["count="+b];Ne==-1?b>0?(Ne=U[0].g,gt.push("ofs="+Ne)):Ne=0:gt.push("ofs="+Ne);let He=!0;for(let ot=0;ot<b;ot++){var Q=U[ot].g;const Cn=U[ot].map;if(Q-=Ne,Q<0)Ne=Math.max(0,U[ot].g-100),He=!1;else try{Q="req"+Q+"_"||"";try{var ue=Cn instanceof Map?Cn:Object.entries(Cn);for(const[br,Qn]of ue){let Kn=Qn;m(Qn)&&(Kn=hi(Qn)),gt.push(Q+br+"="+encodeURIComponent(Kn))}}catch(br){throw gt.push(Q+"type="+encodeURIComponent("_badmap")),br}}catch{w&&w(Cn)}}if(He){ue=gt.join("&");break e}}ue=void 0}return c=c.i.splice(0,b),y.G=c,ue}function Nu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;se||A(),le||(se(),le=!0),R.add(y,c),c.A=0}}function Ss(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ar(p(c.Da,c),Du(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ar(p(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),vi(this),Cu(this))};function Ql(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Cu(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=xt(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),ws(c,y),c.u&&c.o&&Es(y,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=_s(xt(y)),b.u=null,b.R=!0,sa(b,c)}i.Va=function(){this.C!=null&&(this.C=null,vi(this),Ss(this),bt(19))};function ma(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Iu(c,y){var b=null;if(c.g==y){ma(c),Ql(c),c.g=null;var w=2}else if(dr(c.h,y))b=y.G,Vl(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var U=c.D;w=ia(),Ot(w,new sr(w,b)),_r(c)}else Nu(c);else if(U=y.m,U==3||U==0&&y.X>0||!(w==1&&da(c,y)||w==2&&Ss(c)))switch(b&&b.length>0&&(y=c.h,y.i=y.i.concat(b)),U){case 1:vr(c,5);break;case 4:vr(c,10);break;case 3:vr(c,6);break;default:vr(c,2)}}}function Du(c,y){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*y}function vr(c,y){if(c.j.info("Error code "+y),y==2){var b=p(c.bb,c),w=c.Ua;const U=!w;w=new mn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||jt(w,"https"),_s(w),U?Hn(w.toString(),b):Bl(w.toString(),b)}else bt(2);c.I=0,c.l&&c.l.pa(y),Ou(c),fa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Ou(c){if(c.I=0,c.ja=[],c.l){const y=jl(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ja,y),L(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function ku(c,y,b){var w=b instanceof mn?xt(b):new mn(b);if(w.g!="")y&&(w.g=y+"."+w.g),fi(w,w.u);else{var U=f.location;w=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const Q=new mn(null);w&&jt(Q,w),y&&(Q.g=y),U&&fi(Q,U),b&&(Q.h=b),w=Q}return b=c.G,y=c.wa,b&&y&&Ke(w,b,y),Ke(w,"VER",c.ka),ws(c,w),w}function Mu(c,y,b){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Je(new gr({ab:b})):new Je(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}i=Vu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function bi(){}bi.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){vt.call(this),this.g=new _i(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Pr(this)}T(tn,vt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Fl(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=hi(c),c=b);y.i.push(new Tt(y.Ya++,c)),y.I==3&&_r(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Fl(this.g),delete this.g,tn.Z.N.call(this)};function ju(c){Ut.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(ju,Ut);function Pu(){Sn.call(this),this.status=1}T(Pu,Sn);function Pr(c){this.g=c}T(Pr,Vu),Pr.prototype.ra=function(){Ot(this.g,"a")},Pr.prototype.qa=function(c){Ot(this.g,new ju(c))},Pr.prototype.pa=function(c){Ot(this.g,new Pu)},Pr.prototype.oa=function(){Ot(this.g,"b")},bi.prototype.createWebChannel=bi.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,tE=function(){return new bi},eE=function(){return ia()},Wb=mt,xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,$c=ps,Il.COMPLETE="complete",Zb=Il,gu.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",vt.prototype.listen=vt.prototype.J,ko=gu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Jb=Je}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const K0="@firebase/firestore",Y0="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Zm("@firebase/firestore");function Qa(){return Ys.logLevel}function fe(i,...e){if(Ys.logLevel<=je.DEBUG){const n=e.map(tg);Ys.debug(`Firestore (${pl}): ${i}`,...n)}}function ii(i,...e){if(Ys.logLevel<=je.ERROR){const n=e.map(tg);Ys.error(`Firestore (${pl}): ${i}`,...n)}}function sl(i,...e){if(Ys.logLevel<=je.WARN){const n=e.map(tg);Ys.warn(`Firestore (${pl}): ${i}`,...n)}}function tg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,nE(i,s,n)}function nE(i,e,n){let s=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ii(s),new Error(s)}function Ge(i,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,i||nE(e,l,s)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class lR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oR{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fs,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},m=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new rE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class uR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new uR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class X0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const l=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new X0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new X0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=fR(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function wm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const l=i.charAt(s),u=e.charAt(s);if(l!==u)return um(l)===um(u)?Pe(l,u):um(l)?1:-1}return Pe(i.length,e.length)}const dR=55296,mR=57343;function um(i){const e=i.charCodeAt(0);return e>=dR&&e<=mR}function al(i,e,n){return i.length===e.length&&i.every(((s,l)=>n(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="__name__";class Sr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=Sr.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Sr.isNumericId(e),l=Sr.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Sr.extractNumericId(e).compare(Sr.extractNumericId(n)):wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wi.fromString(e.substring(4,e.length-2))}}class rt extends Sr{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const gR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Sr{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return gR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$0}static keyField(){return new Qt([$0])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(s+=m,l++):(u(),l++)}if(u(),f)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(i,e,n){if(!n)throw new he(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function pR(i,e,n,s){if(e===!0&&s===!0)throw new he(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function J0(i){if(!ye.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Z0(i){if(ye.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function sE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ch(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function es(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ch(i);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(i,e){const n={typeString:i};return e&&(n.value=e),n}function ru(i,e){if(!sE(i))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=-62135596800,ev=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*ev);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<W0)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ev}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-W0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:It("string",at._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new at(0,0))}static max(){return new we(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=-1;function yR(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=we.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new rs(l,ye.empty(),e)}function _R(i){return new rs(i.readTime,i.key,Go)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(we.min(),ye.empty(),Go)}static max(){return new rs(we.max(),ye.empty(),Go)}}function vR(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ER{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==bR)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let l=0,u=0,f=!1;e.forEach((m=>{++l,m.next((()=>{++u,f&&u===l&&n()}),(g=>s(g)))})),f=!0,u===l&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((l=>l?ie.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,l)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((E=>{f[p]=E,++m,m===u&&s(f)}),(E=>l(E)))}}))}static doWhile(e,n){return new ie(((s,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):s()};u()}))}}function TR(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _l(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=-1;function Dh(i){return i==null}function uh(i){return i===0&&1/i==-1/0}function xR(i){return typeof i=="number"&&Number.isInteger(i)&&!uh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="";function wR(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=tv(e)),e=SR(i.get(n),e);return tv(e)}function SR(i,e){let n=e;const s=i.length;for(let l=0;l<s;l++){const u=i.charAt(l);switch(u){case"\0":n+="";break;case aE:n+="";break;default:n+=u}}return n}function tv(i){return i+aE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function cs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function lE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=l??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new Gt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,l,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rv(this.data.getIterator())}getIteratorFrom(e){return new rv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class rv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Mt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return al(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new oE("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const AR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=AR.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ss(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="server_timestamp",cE="__type__",hE="__previous_value__",fE="__local_write_time__";function ig(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[cE])==null?void 0:s.stringValue)===uE}function Oh(i){const e=i.mapValue.fields[hE];return ig(e)?Oh(e):e}function Qo(i){const e=is(i.mapValue.fields[fE].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n,s,l,u,f,m,g,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const ch="(default)";class Ko{constructor(e,n){this.projectId=e,this.database=n||ch}static empty(){return new Ko("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof Ko&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="__type__",NR="__max__",Fc={mapValue:{}},mE="__vector__",hh="value";function as(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ig(i)?4:IR(i)?9007199254740991:CR(i)?10:11:Ee(28295,{value:i})}function Or(i,e){if(i===e)return!0;const n=as(i);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Qo(i).isEqual(Qo(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=is(l.timestampValue),m=is(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,u){return ss(l.bytesValue).isEqual(ss(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,u){return _t(l.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(l.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(i,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return _t(l.integerValue)===_t(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=_t(l.doubleValue),m=_t(u.doubleValue);return f===m?uh(f)===uh(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return al(i.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(nv(f)!==nv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Or(f[g],m[g])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function Yo(i,e){return(i.values||[]).find((n=>Or(n,e)))!==void 0}function ll(i,e){if(i===e)return 0;const n=as(i),s=as(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=_t(u.integerValue||u.doubleValue),g=_t(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return iv(i.timestampValue,e.timestampValue);case 4:return iv(Qo(i),Qo(e));case 5:return wm(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=ss(u),g=ss(f);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Pe(m[p],g[p]);if(E!==0)return E}return Pe(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Pe(_t(u.latitude),_t(f.latitude));return m!==0?m:Pe(_t(u.longitude),_t(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return sv(i.arrayValue,e.arrayValue);case 10:return(function(u,f){var S,j,L,G;const m=u.fields||{},g=f.fields||{},p=(S=m[hh])==null?void 0:S.arrayValue,E=(j=g[hh])==null?void 0:j.arrayValue,T=Pe(((L=p==null?void 0:p.values)==null?void 0:L.length)||0,((G=E==null?void 0:E.values)==null?void 0:G.length)||0);return T!==0?T:sv(p,E)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const S=wm(g[T],E[T]);if(S!==0)return S;const j=ll(m[g[T]],p[E[T]]);if(j!==0)return j}return Pe(g.length,E.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function iv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=is(i),s=is(e),l=Pe(n.seconds,s.seconds);return l!==0?l:Pe(n.nanos,s.nanos)}function sv(i,e){const n=i.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=ll(n[l],s[l]);if(u)return u}return Pe(n.length,s.length)}function ol(i){return Sm(i)}function Sm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=is(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ss(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=Sm(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${Sm(n.fields[f])}`;return l+"}"})(i.mapValue):Ee(61005,{value:i})}function Jc(i){switch(as(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(i);return e?16+Jc(e):16;case 5:return 2*i.stringValue.length;case 6:return ss(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+Jc(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let l=0;return cs(s.fields,((u,f)=>{l+=u.length+Jc(f)})),l})(i.mapValue);default:throw Ee(13486,{value:i})}}function av(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Am(i){return!!i&&"integerValue"in i}function sg(i){return!!i&&"arrayValue"in i}function lv(i){return!!i&&"nullValue"in i}function ov(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Zc(i){return!!i&&"mapValue"in i}function CR(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[dE])==null?void 0:s.stringValue)===mE}function Lo(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return cs(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Lo(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lo(i.arrayValue.values[n]);return e}return{...i}}function IR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===NR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Zc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(n)}setAll(e){let n=Qt.emptyPath(),s={},l=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,l),s={},l=[],n=m.popLast()}f?s[m.lastSegment()]=Lo(f):l.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());Zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){cs(n,((l,u)=>e[l]=u));for(const l of s)delete e[l]}clone(){return new fn(Lo(this.value))}}function gE(i){const e=[];return cs(i.fields,((n,s)=>{const l=new Qt([n]);if(Zc(s)){const u=gE(s.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,l,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,we.min(),we.min(),we.min(),fn.empty(),0)}static newFoundDocument(e,n,s,l){return new Zt(e,1,n,we.min(),s,l,0)}static newNoDocument(e,n){return new Zt(e,2,n,we.min(),we.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,we.min(),we.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function uv(i,e,n){let s=0;for(let l=0;l<i.position.length;l++){const u=e[l],f=i.position[l];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=ll(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function cv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Or(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n="asc"){this.field=e,this.dir=n}}function DR(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{}class Ct extends pE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new kR(e,n,s):n==="array-contains"?new jR(e,s):n==="in"?new PR(e,s):n==="not-in"?new LR(e,s):n==="array-contains-any"?new UR(e,s):new Ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new MR(e,s):new VR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ll(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(ll(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends pE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new er(e,n)}matches(e){return yE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yE(i){return i.op==="and"}function _E(i){return OR(i)&&yE(i)}function OR(i){for(const e of i.filters)if(e instanceof er)return!1;return!0}function Rm(i){if(i instanceof Ct)return i.field.canonicalString()+i.op.toString()+ol(i.value);if(_E(i))return i.filters.map((e=>Rm(e))).join(",");{const e=i.filters.map((n=>Rm(n))).join(",");return`${i.op}(${e})`}}function vE(i,e){return i instanceof Ct?(function(s,l){return l instanceof Ct&&s.op===l.op&&s.field.isEqual(l.field)&&Or(s.value,l.value)})(i,e):i instanceof er?(function(s,l){return l instanceof er&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,m)=>u&&vE(f,l.filters[m])),!0):!1})(i,e):void Ee(19439)}function bE(i){return i instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${ol(n.value)}`})(i):i instanceof er?(function(n){return n.op.toString()+" {"+n.getFilters().map(bE).join(" ,")+"}"})(i):"Filter"}class kR extends Ct{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class MR extends Ct{constructor(e,n){super(e,"in",n),this.keys=EE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class VR extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=EE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function EE(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>ye.fromName(s.referenceValue)))}class jR extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sg(n)&&Yo(n.arrayValue,this.value)}}class PR extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yo(this.value.arrayValue,n)}}class LR extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yo(this.value.arrayValue,n)}}class UR extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Yo(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n=null,s=[],l=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function hv(i,e=null,n=[],s=[],l=null,u=null,f=null){return new zR(i,e,n,s,l,u,f)}function ag(i){const e=Ae(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Rm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ol(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ol(s))).join(",")),e.Te=n}return e.Te}function lg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!DR(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!vE(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!cv(i.startAt,e.startAt)&&cv(i.endAt,e.endAt)}function Nm(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n=null,s=[],l=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BR(i,e,n,s,l,u,f,m){return new vl(i,e,n,s,l,u,f,m)}function og(i){return new vl(i)}function fv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function TE(i){return i.collectionGroup!==null}function Uo(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Mt(Qt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Xo(u,s))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new Xo(Qt.keyField(),s))}return e.Ie}function Ar(i){const e=Ae(i);return e.Ee||(e.Ee=qR(e,Uo(i))),e.Ee}function qR(i,e){if(i.limitType==="F")return hv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Xo(l.field,u)}));const n=i.endAt?new fh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new fh(i.startAt.position,i.startAt.inclusive):null;return hv(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Cm(i,e){const n=i.filters.concat([e]);return new vl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Im(i,e,n){return new vl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function kh(i,e){return lg(Ar(i),Ar(e))&&i.limitType===e.limitType}function xE(i){return`${ag(Ar(i))}|lt:${i.limitType}`}function Ka(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>bE(l))).join(", ")}]`),Dh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>ol(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>ol(l))).join(",")),`Target(${s})`})(Ar(i))}; limitType=${i.limitType})`}function Mh(i,e){return e.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,l){for(const u of Uo(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(i,e)&&(function(s,l){return!(s.startAt&&!(function(f,m,g){const p=uv(f,m,g);return f.inclusive?p<=0:p<0})(s.startAt,Uo(s),l)||s.endAt&&!(function(f,m,g){const p=uv(f,m,g);return f.inclusive?p>=0:p>0})(s.endAt,Uo(s),l))})(i,e)}function HR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function wE(i){return(e,n)=>{let s=!1;for(const l of Uo(i)){const u=FR(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function FR(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?ll(g,p):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,((n,s)=>{for(const[l,u]of s)e(l,u)}))}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new ht(ye.comparator);function si(){return GR}const SE=new ht(ye.comparator);function Mo(...i){let e=SE;for(const n of i)e=e.insert(n.key,n);return e}function AE(i){let e=SE;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Hs(){return zo()}function RE(){return zo()}function zo(){return new Zs((i=>i.toString()),((i,e)=>i.isEqual(e)))}const QR=new ht(ye.comparator),KR=new Mt(ye.comparator);function Le(...i){let e=KR;for(const n of i)e=e.add(n);return e}const YR=new Mt(Pe);function XR(){return YR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function NE(i){return{integerValue:""+i}}function $R(i,e){return xR(e)?NE(e):ug(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function JR(i,e,n){return i instanceof dh?(function(l,u){const f={fields:{[cE]:{stringValue:uE},[fE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&ig(u)&&(u=Oh(u)),u&&(f.fields[hE]=u),{mapValue:f}})(n,e):i instanceof $o?IE(i,e):i instanceof Jo?DE(i,e):(function(l,u){const f=CE(l,u),m=dv(f)+dv(l.Ae);return Am(f)&&Am(l.Ae)?NE(m):ug(l.serializer,m)})(i,e)}function ZR(i,e,n){return i instanceof $o?IE(i,e):i instanceof Jo?DE(i,e):n}function CE(i,e){return i instanceof mh?(function(s){return Am(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class dh extends Vh{}class $o extends Vh{constructor(e){super(),this.elements=e}}function IE(i,e){const n=OE(e);for(const s of i.elements)n.some((l=>Or(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Jo extends Vh{constructor(e){super(),this.elements=e}}function DE(i,e){let n=OE(e);for(const s of i.elements)n=n.filter((l=>!Or(l,s)));return{arrayValue:{values:n}}}class mh extends Vh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function dv(i){return _t(i.integerValue||i.doubleValue)}function OE(i){return sg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function WR(i,e){return i.field.isEqual(e.field)&&(function(s,l){return s instanceof $o&&l instanceof $o||s instanceof Jo&&l instanceof Jo?al(s.elements,l.elements,Or):s instanceof mh&&l instanceof mh?Or(s.Ae,l.Ae):s instanceof dh&&l instanceof dh})(i.transform,e.transform)}class e2{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class jh{}function kE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new cg(i.key,Wn.none()):new iu(i.key,i.data,Wn.none());{const n=i.data,s=fn.empty();let l=new Mt(Qt.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new hs(i.key,s,new Tn(l.toArray()),Wn.none())}}function t2(i,e,n){i instanceof iu?(function(l,u,f){const m=l.value.clone(),g=gv(l.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,n):i instanceof hs?(function(l,u,f){if(!Wc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=gv(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(ME(l)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(i,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Bo(i,e,n,s){return i instanceof iu?(function(u,f,m,g){if(!Wc(u.precondition,f))return m;const p=u.value.clone(),E=pv(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(i,e,n,s):i instanceof hs?(function(u,f,m,g){if(!Wc(u.precondition,f))return m;const p=pv(u.fieldTransforms,g,f),E=f.data;return E.setAll(ME(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,f,m){return Wc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,n)}function n2(i,e){let n=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),u=CE(s.transform,l||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function mv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&al(s,l,((u,f)=>WR(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class iu extends jh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hs extends jh{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ME(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function gv(i,e,n){const s=new Map;Ge(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let l=0;l<n.length;l++){const u=i[l],f=u.transform,m=e.data.field(u.field);s.set(u.field,ZR(f,m,n[l]))}return s}function pv(i,e,n){const s=new Map;for(const l of i){const u=l.transform,f=n.data.field(l.field);s.set(l.field,JR(u,f,e))}return s}class cg extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r2 extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&t2(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Bo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Bo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=RE();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const g=kE(f,m);g!==null&&s.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&al(this.mutations,e.mutations,((n,s)=>mv(n,s)))&&al(this.baseMutations,e.baseMutations,((n,s)=>mv(n,s)))}}class hg{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return QR})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new hg(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,ze;function l2(i){switch(i){case ne.OK:return Ee(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function VE(i){if(i===void 0)return ii("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Nt.OK:return ne.OK;case Nt.CANCELLED:return ne.CANCELLED;case Nt.UNKNOWN:return ne.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return ne.INTERNAL;case Nt.UNAVAILABLE:return ne.UNAVAILABLE;case Nt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Nt.NOT_FOUND:return ne.NOT_FOUND;case Nt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Nt.ABORTED:return ne.ABORTED;case Nt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Nt.DATA_LOSS:return ne.DATA_LOSS;default:return Ee(39323,{code:i})}}(ze=Nt||(Nt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new Wi([4294967295,4294967295],0);function yv(i){const e=o2().encode(i),n=new $b;return n.update(e),new Uint8Array(n.digest())}function _v(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wi([n,s],0),new Wi([l,u],0)]}class fg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Vo(`Invalid padding: ${n}`);if(s<0)throw new Vo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Vo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Vo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wi.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(Wi.fromNumber(s)));return l.compare(u2)===1&&(l=new Wi([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yv(e),[s,l]=_v(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new fg(u,l,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=yv(e),[s,l]=_v(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ph(we.min(),l,new ht(Pe),si(),Le())}}class su{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new su(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,s,l){this.be=e,this.removedTargetIds=n,this.key=s,this.De=l}}class jE{constructor(e,n){this.targetId=e,this.Ce=n}}class PE{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class vv{constructor(){this.ve=0,this.Fe=bv(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Ee(38017,{changeType:u})}})),new su(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=bv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class c2{constructor(e){this.Ge=e,this.ze=new Map,this.je=si(),this.Je=Gc(),this.He=Gc(),this.Ye=new ht(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Nm(u))if(s===0){const f=new ye(u.path);this.et(n,f,Zt.newNoDocument(f,we.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=ss(s).toUint8Array()}catch(g){if(g instanceof oE)return sl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new fg(f,l,u)}catch(g){return sl(g instanceof Vo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Nm(m.target)){const g=new ye(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Zt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Le();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new Ph(e,n,this.Ye,this.je,s);return this.je=si(),this.Je=Gc(),this.He=Gc(),this.Ye=new ht(Pe),l}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new vv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new ht(ye.comparator)}function bv(){return new ht(ye.comparator)}const h2={asc:"ASCENDING",desc:"DESCENDING"},f2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d2={and:"AND",or:"OR"};class m2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dm(i,e){return i.useProto3Json||Dh(e)?e:{value:e}}function gh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function g2(i,e){return gh(i,e.toTimestamp())}function Rr(i){return Ge(!!i,49232),we.fromTimestamp((function(n){const s=is(n);return new at(s.seconds,s.nanos)})(i))}function dg(i,e){return Om(i,e).canonicalString()}function Om(i,e){const n=(function(l){return new rt(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?n:n.child(e)}function UE(i){const e=rt.fromString(i);return Ge(FE(e),10190,{key:e.toString()}),e}function km(i,e){return dg(i.databaseId,e.path)}function cm(i,e){const n=UE(e);if(n.get(1)!==i.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(BE(n))}function zE(i,e){return dg(i.databaseId,e)}function p2(i){const e=UE(i);return e.length===4?rt.emptyPath():BE(e)}function Mm(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function BE(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Ev(i,e,n){return{name:km(i,e),fields:n.value.mapValue.fields}}function y2(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?ne.UNKNOWN:VE(p.code);return new he(E,p.message||"")})(f);n=new PE(s,l,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=cm(i,s.document.name),u=Rr(s.document.updateTime),f=s.document.createTime?Rr(s.document.createTime):we.min(),m=new fn({mapValue:{fields:s.document.fields}}),g=Zt.newFoundDocument(l,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new eh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=cm(i,s.document),u=s.readTime?Rr(s.readTime):we.min(),f=Zt.newNoDocument(l,u),m=s.removedTargetIds||[];n=new eh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=cm(i,s.document),u=s.removedTargetIds||[];n=new eh([],u,l,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new a2(l,u),m=s.targetId;n=new jE(m,f)}}return n}function _2(i,e){let n;if(e instanceof iu)n={update:Ev(i,e.key,e.value)};else if(e instanceof cg)n={delete:km(i,e.key)};else if(e instanceof hs)n={update:Ev(i,e.key,e.data),updateMask:R2(e.fieldMask)};else{if(!(e instanceof r2))return Ee(16599,{Vt:e.type});n={verify:km(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof dh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $o)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Jo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof mh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:g2(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),n}function v2(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map((n=>(function(l,u){let f=l.updateTime?Rr(l.updateTime):Rr(u);return f.isEqual(we.min())&&(f=Rr(u)),new e2(f,l.transformResults||[])})(n,e)))):[]}function b2(i,e){return{documents:[zE(i,e.path)]}}function E2(i,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=zE(i,l);const u=(function(p){if(p.length!==0)return HE(er.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(S){return{field:Ya(S.field),direction:w2(S.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Dm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:l}}function T2(i){let e=p2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const S=qE(T);return S instanceof er&&_E(S)?S.getFilters():[S]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((S=>(function(L){return new Xo(Xa(L.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,Dh(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(T){const S=!!T.before,j=T.values||[];return new fh(j,S)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const S=!T.before,j=T.values||[];return new fh(j,S)})(n.endAt)),BR(e,l,f,u,m,"F",g,p)}function x2(i,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qE(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Xa(n.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Xa(n.unaryFilter.field);return Ct.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xa(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Xa(n.unaryFilter.field);return Ct.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ct.create(Xa(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return er.create(n.compositeFilter.filters.map((s=>qE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function w2(i){return h2[i]}function S2(i){return f2[i]}function A2(i){return d2[i]}function Ya(i){return{fieldPath:i.canonicalString()}}function Xa(i){return Qt.fromServerFormat(i.fieldPath)}function HE(i){return i instanceof Ct?(function(n){if(n.op==="=="){if(ov(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if(lv(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ov(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if(lv(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:S2(n.op),value:n.value}}})(i):i instanceof er?(function(n){const s=n.getFilters().map((l=>HE(l)));return s.length===1?s[0]:{compositeFilter:{op:A2(n.op),filters:s}}})(i):Ee(54877,{filter:i})}function R2(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function FE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,s,l,u=we.min(),f=we.min(),m=Yt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.yt=e}}function C2(i){const e=T2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.Cn=new D2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(rs.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class D2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Mt(rt.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Mt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GE=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(GE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ul(0)}static cr(){return new ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="LruGarbageCollector",O2=1048576;function wv([i,e],[n,s]){const l=Pe(i,n);return l===0?Pe(e,s):l}class k2{constructor(e){this.Ir=e,this.buffer=new Mt(wv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();wv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class M2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(xv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_l(n)?fe(xv,"Ignoring IndexedDB error during garbage collection: ",n):await yl(n)}await this.Vr(3e5)}))}}class V2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Ih.ce);const s=new k2(n);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Tv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,l,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),l=this.params.maximumSequenceNumbersToCollect):l=T,f=Date.now(),this.nthSequenceNumber(e,l)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),Qa()<=je.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:T}))))}}function j2(i,e){return new V2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.changes=new Zs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&Bo(s.mutation,l,Tn.empty(),at.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const l=Hs();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((u=>{let f=Mo();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Hs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,l){let u=si();const f=zo(),m=(function(){return zo()})();return n.forEach(((g,p)=>{const E=s.get(p.key);l.has(p.key)&&(E===void 0||E.mutation instanceof hs)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),Bo(E.mutation,p,E.mutation.getFieldMask(),at.now())):f.set(p.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new L2(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=zo();let l=new ht(((f,m)=>f-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||Tn.empty();E=m.applyToLocalView(p,E),s.set(g,E);const T=(l.get(m.batchId)||Le()).add(g);l=l.insert(m.batchId,T)}))})).next((()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,T=RE();E.forEach((S=>{if(!u.has(S)){const j=kE(n.get(S),s.get(S));j!==null&&T.set(S,j),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ie.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):ie.resolve(Hs());let m=Go,g=u;return f.next((p=>ie.forEach(p,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{g=g.insert(E,S)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Le()))).next((E=>({batchId:m,changes:AE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let l=Mo();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let f=Mo();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(g=>{const p=(function(T,S){return new vl(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,l).next((E=>{E.forEach(((T,S)=>{f=f.insert(T,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l)))).next((f=>{u.forEach(((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let m=Mo();return f.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&Bo(E.mutation,p,Tn.empty(),at.now()),Mh(n,p)&&(m=m.insert(g,p))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Rr(l.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:C2(l.bundledQuery),readTime:Rr(l.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.overlays=new ht(ye.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Hs();return ie.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const l=Hs(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&l.set(g.getKey(),g)}return ie.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new ht(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=Hs(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Hs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=l)););return ie.resolve(m)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new s2(n,s));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.Qr=new Mt(Lt.$r),this.Ur=new Mt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Lt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Lt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new rt([])),s=new Lt(n,e),l=new Lt(n,e+1),u=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new rt([])),s=new Lt(n,e),l=new Lt(n,e+1);let u=Le();return this.Ur.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Lt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(Lt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new i2(u,n,s,l);this.mutationQueue.push(f);for(const m of l)this.Zr=this.Zr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?rg:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Lt(n,0),l=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(Pe);return n.forEach((l=>{const u=new Lt(l,0),f=new Lt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new ye(u),0);let m=new Mt(Pe);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===l&&(m=m.add(g.Yr)),!0)}),f),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(l=>{const u=new Lt(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Lt(n,0),l=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.ri=e,this.docs=(function(){return new ht(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=si();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Zt.newInvalidDocument(l))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=si();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||vR(_R(E),s)<=0||(l.has(E.key)||Mh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,l){Ee(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new G2(this)}getSize(e){return ie.resolve(this.size)}}class G2 extends P2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.persistence=e,this.si=new Zs((n=>ag(n)),lg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new mg,this.targetCount=0,this.ai=ul.ur()}forEachTarget(e,n){return this.si.forEach(((s,l)=>n(l))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ul(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)})),ie.waitFor(u).next((()=>l))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ih(0),this.li=!1,this.li=!0,this.hi=new q2,this.referenceDelegate=e(this),this.Pi=new Q2(this),this.indexManager=new I2,this.remoteDocumentCache=(function(l){return new F2(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new N2(n),this.Ii=new z2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new B2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new H2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const l=new K2(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class K2 extends ER{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.Ri=new mg,this.Vi=null}static mi(e){return new gg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const l=ye.fromPath(s);return this.gi(e,l).next((u=>{u||n.removeEntry(l,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ph{constructor(e,n){this.persistence=e,this.pi=new Zs((s=>wR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=j2(this,n)}static mi(e,n){return new ph(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,l)=>this.br(e,s,l).next((u=>u?ie.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jc(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return ie.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=l}static As(e,n){let s=Le(),l=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new pg(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qS()?8:TR(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new Y2;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,l){return s.documentReadCount<this.fs?(Qa()<=je.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Qa()<=je.DEBUG&&fe("QueryEngine","Query:",Ka(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Qa()<=je.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(n))):ie.resolve())}ys(e,n){if(fv(n))return ie.resolve(null);let s=Ar(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Im(n,null,"F"),s=Ar(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Le(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,f,g.readTime)?this.ys(e,Im(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,l){return fv(n)||l.isEqual(we.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,l)?ie.resolve(null):(Qa()<=je.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ka(n)),this.vs(e,f,n,yR(l,Go)).next((m=>m)))}))}Ds(e,n){let s=new Mt(wE(e));return n.forEach(((l,u)=>{Mh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,s){return Qa()<=je.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ka(n)),this.ps.getDocumentsMatchingQuery(e,n,rs.min(),s)}vs(e,n,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="LocalStore",$2=3e8;class J2{constructor(e,n,s,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ht(Pe),this.xs=new Zs((u=>ag(u)),lg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Z2(i,e,n,s){return new J2(i,e,n,s)}async function KE(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Le();for(const p of l){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function W2(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const T=p.batch,S=T.keys();let j=ie.resolve();return S.forEach((L=>{j=j.next((()=>E.getEntry(g,L))).next((G=>{const z=p.docVersions.get(L);Ge(z!==null,48541),G.version.compareTo(z)<0&&(T.applyToRemoteDocument(G,p),G.isValidDocument()&&(G.setReadTime(p.commitVersion),E.addEntry(G)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Le();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function YE(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function eN(i,e){const n=Ae(i),s=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const S=l.get(T);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let j=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?j=j.withResumeToken(Yt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,s)),l=l.insert(T,j),(function(G,z,re){return G.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=$2?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(S,j,E)&&m.push(n.Pi.updateTargetData(u,j))}));let g=si(),p=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(tN(u,f,e.documentUpdates).next((E=>{g=E.ks,p=E.qs}))),!s.isEqual(we.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=l,u)))}function tN(i,e,n){let s=Le(),l=Le();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let f=si();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):fe(yg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:f,qs:l}}))}function nN(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=rg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function rN(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,e).next((u=>u?(l=u,ie.resolve(l)):n.Pi.allocateTargetId(s).next((f=>(l=new Xi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Vm(i,e,n){const s=Ae(i),l=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!_l(f))throw f;fe(yg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function Sv(i,e,n){const s=Ae(i);let l=we.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,E){const T=Ae(g),S=T.xs.get(E);return S!==void 0?ie.resolve(T.Ms.get(S)):T.Pi.getTargetData(p,E)})(s,f,Ar(e)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?l:we.min(),n?u:Le()))).next((m=>(iN(s,HR(e),m),{documents:m,Qs:u})))))}function iN(i,e,n){let s=i.Os.get(e)||we.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class Av{constructor(){this.activeTargetIds=XR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sN{constructor(){this.Mo=new Av,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Av,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="ConnectivityMonitor";class Nv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(Rv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(Rv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function jm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="RestConnection",lN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===ch?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,n,s,l,u){const f=jm(),m=this.zo(e,n.toUriEncodedString());fe(hm,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:p}=new URL(m),E=ml(p);return this.Jo(e,m,g,s,E).then((T=>(fe(hm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw sl(hm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,l,u,f){return this.Go(e,n,s,l,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),s&&s.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const s=lN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class cN extends oN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,u){const f=jm();return new Promise(((m,g)=>{const p=new Jb;p.setWithCredentials(!0),p.listenOnce(Zb.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case $c.NO_ERROR:const T=p.getResponseJson();fe($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case $c.TIMEOUT:fe($t,`RPC '${e}' ${f} timed out`),g(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const S=p.getStatus();if(fe($t,`RPC '${e}' ${f} failed with status:`,S,"response text:",p.getResponseText()),S>0){let j=p.getResponseJson();Array.isArray(j)&&(j=j[0]);const L=j==null?void 0:j.error;if(L&&L.status&&L.message){const G=(function(re){const Y=re.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Y)>=0?Y:ne.UNKNOWN})(L.status);g(new he(G,L.message))}else g(new he(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe($t,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(l);fe($t,`RPC '${e}' ${f} sending request:`,l),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const l=jm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=tE(),m=eE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");fe($t,`Creating RPC '${e}' stream ${l}: ${E}`,g);const T=f.createWebChannel(E,g);this.I_(T);let S=!1,j=!1;const L=new uN({Yo:z=>{j?fe($t,`Not sending because RPC '${e}' stream ${l} is closed:`,z):(S||(fe($t,`Opening RPC '${e}' stream ${l} transport.`),T.open(),S=!0),fe($t,`RPC '${e}' stream ${l} sending:`,z),T.send(z))},Zo:()=>T.close()}),G=(z,re,Y)=>{z.listen(re,(J=>{try{Y(J)}catch(me){setTimeout((()=>{throw me}),0)}}))};return G(T,ko.EventType.OPEN,(()=>{j||(fe($t,`RPC '${e}' stream ${l} transport opened.`),L.o_())})),G(T,ko.EventType.CLOSE,(()=>{j||(j=!0,fe($t,`RPC '${e}' stream ${l} transport closed`),L.a_(),this.E_(T))})),G(T,ko.EventType.ERROR,(z=>{j||(j=!0,sl($t,`RPC '${e}' stream ${l} transport errored. Name:`,z.name,"Message:",z.message),L.a_(new he(ne.UNAVAILABLE,"The operation could not be completed")))})),G(T,ko.EventType.MESSAGE,(z=>{var re;if(!j){const Y=z.data[0];Ge(!!Y,16349);const J=Y,me=(J==null?void 0:J.error)||((re=J[0])==null?void 0:re.error);if(me){fe($t,`RPC '${e}' stream ${l} received error:`,me);const se=me.status;let le=(function(C){const V=Nt[C];if(V!==void 0)return VE(V)})(se),R=me.message;le===void 0&&(le=ne.INTERNAL,R="Unknown error status: "+se+" with message "+me.message),j=!0,L.a_(new he(le,R)),T.close()}else fe($t,`RPC '${e}' stream ${l} received:`,Y),L.u_(Y)}})),G(m,Wb.STAT_EVENT,(z=>{z.stat===xm.PROXY?fe($t,`RPC '${e}' stream ${l} detected buffering proxy`):z.stat===xm.NOPROXY&&fe($t,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(i){return new m2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n,s=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&fe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="PersistentStream";class $E{constructor(e,n,s,l,u,f,m,g){this.Mi=e,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ii(n.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new he(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(Cv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(Cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hN extends $E{constructor(e,n,s,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=y2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Rr(f.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Mm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Nm(g)?{documents:b2(u,g)}:{query:E2(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=LE(u,f.resumeToken);const p=Dm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=gh(u,f.snapshotVersion.toTimestamp());const p=Dm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=x2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Mm(this.serializer),n.removeTarget=e,this.q_(n)}}class fN extends $E{constructor(e,n,s,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=v2(e.writeResults,e.commitTime),s=Rr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Mm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>_2(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{}class mN extends dN{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Om(n,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())}))}Ho(e,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Om(n,s),l,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ne.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ii(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="RemoteStore";class pN{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Ws(this)&&(fe(Xs,"Restarting streams for network reachability change."),await(async function(g){const p=Ae(g);p.Ea.add(4),await au(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Uh(p)})(this))}))})),this.Ra=new gN(s,l)}}async function Uh(i){if(Ws(i))for(const e of i.da)await e(!0)}async function au(i){for(const e of i.da)await e(!1)}function JE(i,e){const n=Ae(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Eg(n)?bg(n):bl(n).O_()&&vg(n,e))}function _g(i,e){const n=Ae(i),s=bl(n);n.Ia.delete(e),s.O_()&&ZE(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ws(n)&&n.Ra.set("Unknown"))}function vg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bl(i).Y_(e)}function ZE(i,e){i.Va.Ue(e),bl(i).Z_(e)}function bg(i){i.Va=new c2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),bl(i).start(),i.Ra.ua()}function Eg(i){return Ws(i)&&!bl(i).x_()&&i.Ia.size>0}function Ws(i){return Ae(i).Ea.size===0}function WE(i){i.Va=void 0}async function yN(i){i.Ra.set("Online")}async function _N(i){i.Ia.forEach(((e,n)=>{vg(i,e)}))}async function vN(i,e){WE(i),Eg(i)?(i.Ra.ha(e),bg(i)):i.Ra.set("Unknown")}async function bN(i,e,n){if(i.Ra.set("Online"),e instanceof PE&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.Ia.delete(m),l.Va.removeTarget(m))})(i,e)}catch(s){fe(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await yh(i,s)}else if(e instanceof eh?i.Va.Ze(e):e instanceof jE?i.Va.st(e):i.Va.tt(e),!n.isEqual(we.min()))try{const s=await YE(i.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),ZE(u,g);const T=new Xi(E.target,g,p,E.sequenceNumber);vg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){fe(Xs,"Failed to raise snapshot:",s),await yh(i,s)}}async function yh(i,e,n){if(!_l(e))throw e;i.Ea.add(1),await au(i),i.Ra.set("Offline"),n||(n=()=>YE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(Xs,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Uh(i)}))}function eT(i,e){return e().catch((n=>yh(i,n,e)))}async function zh(i){const e=Ae(i),n=ls(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rg;for(;EN(e);)try{const l=await nN(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,TN(e,l)}catch(l){await yh(e,l)}tT(e)&&nT(e)}function EN(i){return Ws(i)&&i.Ta.length<10}function TN(i,e){i.Ta.push(e);const n=ls(i);n.O_()&&n.X_&&n.ea(e.mutations)}function tT(i){return Ws(i)&&!ls(i).x_()&&i.Ta.length>0}function nT(i){ls(i).start()}async function xN(i){ls(i).ra()}async function wN(i){const e=ls(i);for(const n of i.Ta)e.ea(n.mutations)}async function SN(i,e,n){const s=i.Ta.shift(),l=hg.from(s,e,n);await eT(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await zh(i)}async function AN(i,e){e&&ls(i).X_&&await(async function(s,l){if((function(f){return l2(f)&&f!==ne.ABORTED})(l.code)){const u=s.Ta.shift();ls(s).B_(),await eT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await zh(s)}})(i,e),tT(i)&&nT(i)}async function Iv(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),fe(Xs,"RemoteStore received new credentials");const s=Ws(n);n.Ea.add(3),await au(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Uh(n)}async function RN(i,e){const n=Ae(i);e?(n.Ea.delete(2),await Uh(n)):e||(n.Ea.add(2),await au(n),n.Ra.set("Unknown"))}function bl(i){return i.ma||(i.ma=(function(n,s,l){const u=Ae(n);return u.sa(),new hN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Xo:yN.bind(null,i),t_:_N.bind(null,i),r_:vN.bind(null,i),H_:bN.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Eg(i)?bg(i):i.Ra.set("Unknown")):(await i.ma.stop(),WE(i))}))),i.ma}function ls(i){return i.fa||(i.fa=(function(n,s,l){const u=Ae(n);return u.sa(),new fN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:xN.bind(null,i),r_:AN.bind(null,i),ta:wN.bind(null,i),na:SN.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await zh(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(Xs,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const f=Date.now()+s,m=new Tg(e,n,f,l,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(i,e){if(ii("AsyncQueue",`${e}: ${i}`),_l(i))return new he(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Mo(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Za;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.ga=new ht(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class cl{constructor(e,n,s,l,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,l,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new cl(e,n,Za.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CN{constructor(){this.queries=Ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Ae(n),u=l.queries;l.queries=Ov(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function Ov(){return new Zs((i=>xE(i)),kh)}async function IN(i,e){const n=Ae(i);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(s=2):(u=new NN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=xg(f,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&wg(n)}async function DN(i,e){const n=Ae(i),s=e.query;let l=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ON(i,e){const n=Ae(i);let s=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(l)&&(s=!0);f.wa=l}}s&&wg(n)}function kN(i,e,n){const s=Ae(i),l=s.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(e)}function wg(i){i.Ca.forEach((e=>{e.next()}))}var Pm,kv;(kv=Pm||(Pm={})).Ma="default",kv.Cache="cache";class MN{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new cl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.key=e}}class iT{constructor(e){this.key=e}}class VN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=wE(e),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Dv,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,T)=>{const S=l.get(E),j=Mh(this.query,T)?T:null,L=!!S&&this.mutatedKeys.has(S.key),G=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let z=!1;S&&j?S.data.isEqual(j.data)?L!==G&&(s.track({type:3,doc:j}),z=!0):this.su(S,j)||(s.track({type:2,doc:j}),z=!0,(g&&this.eu(j,g)>0||p&&this.eu(j,p)<0)&&(m=!0)):!S&&j?(s.track({type:0,doc:j}),z=!0):S&&!j&&(s.track({type:1,doc:S}),z=!0,(g||p)&&(m=!0)),z&&(j?(f=f.add(j),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(j,L){const G=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:z})}};return G(j)-G(L)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),l=l??!1;const m=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,p=g!==this.Za;return this.Za=g,f.length!==0||p?{snapshot:new cl(this.query,e.tu,u,f,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Dv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new iT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new rT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sg="SyncEngine";class jN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class PN{constructor(e){this.key=e,this.hu=!1}}class LN{constructor(e,n,s,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Zs((m=>xE(m)),kh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ye.comparator),this.Au=new Map,this.Ru=new mg,this.Vu={},this.mu=new Map,this.fu=ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UN(i,e,n=!0){const s=cT(i);let l;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await sT(s,e,n,!0),l}async function zN(i,e){const n=cT(i);await sT(n,e,!0,!1)}async function sT(i,e,n,s){const l=await rN(i.localStore,Ar(e)),u=l.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await BN(i,e,u,f==="current",l.resumeToken)),i.isPrimaryClient&&n&&JE(i.remoteStore,l),m}async function BN(i,e,n,s,l){i.pu=(T,S,j)=>(async function(G,z,re,Y){let J=z.view.ru(re);J.Cs&&(J=await Sv(G.localStore,z.query,!1).then((({documents:R})=>z.view.ru(R,J))));const me=Y&&Y.targetChanges.get(z.targetId),se=Y&&Y.targetMismatches.get(z.targetId)!=null,le=z.view.applyChanges(J,G.isPrimaryClient,me,se);return Vv(G,z.targetId,le.au),le.snapshot})(i,T,S,j);const u=await Sv(i.localStore,e,!0),f=new VN(e,u.Qs),m=f.ru(u.documents),g=su.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",l),p=f.applyChanges(m,i.isPrimaryClient,g);Vv(i,n,p.au);const E=new jN(e,n,f);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function qN(i,e,n){const s=Ae(i),l=s.Tu.get(e),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((f=>!kh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Vm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&_g(s.remoteStore,l.targetId),Lm(s,l.targetId)})).catch(yl)):(Lm(s,l.targetId),await Vm(s.localStore,l.targetId,!0))}async function HN(i,e){const n=Ae(i),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),_g(n.remoteStore,s.targetId))}async function FN(i,e,n){const s=JN(i);try{const l=await(function(f,m){const g=Ae(f),p=at.now(),E=m.reduce(((j,L)=>j.add(L.key)),Le());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let L=si(),G=Le();return g.Ns.getEntries(j,E).next((z=>{L=z,L.forEach(((re,Y)=>{Y.isValidDocument()||(G=G.add(re))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,L))).next((z=>{T=z;const re=[];for(const Y of m){const J=n2(Y,T.get(Y.key).overlayedDocument);J!=null&&re.push(new hs(Y.key,J,gE(J.value.mapValue),Wn.exists(!0)))}return g.mutationQueue.addMutationBatch(j,p,re,m)})).next((z=>{S=z;const re=z.applyToLocalDocumentSet(T,G);return g.documentOverlayCache.saveOverlays(j,z.batchId,re)}))})).then((()=>({batchId:S.batchId,changes:AE(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,m,g){let p=f.Vu[f.currentUser.toKey()];p||(p=new ht(Pe)),p=p.insert(m,g),f.Vu[f.currentUser.toKey()]=p})(s,l.batchId,n),await lu(s,l.changes),await zh(s.remoteStore)}catch(l){const u=xg(l,"Failed to persist write");n.reject(u)}}async function aT(i,e){const n=Ae(i);try{const s=await eN(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Ge(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Ge(f.hu,14607):l.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))})),await lu(n,s,e)}catch(s){await yl(s)}}function Mv(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&l.push(m.snapshot)})),(function(f,m){const g=Ae(f);g.onlineState=m;let p=!1;g.queries.forEach(((E,T)=>{for(const S of T.Sa)S.va(m)&&(p=!0)})),p&&wg(g)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function GN(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),u=l&&l.key;if(u){let f=new ht(ye.comparator);f=f.insert(u,Zt.newNoDocument(u,we.min()));const m=Le().add(u),g=new Ph(we.min(),new Map,new ht(Pe),f,m);await aT(s,g),s.du=s.du.remove(u),s.Au.delete(e),Ag(s)}else await Vm(s.localStore,e,!1).then((()=>Lm(s,e,n))).catch(yl)}async function QN(i,e){const n=Ae(i),s=e.batch.batchId;try{const l=await W2(n.localStore,e);oT(n,s,null),lT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await lu(n,l)}catch(l){await yl(l)}}async function KN(i,e,n){const s=Ae(i);try{const l=await(function(f,m){const g=Ae(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((T=>(Ge(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(p,T)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);oT(s,e,n),lT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await lu(s,l)}catch(l){await yl(l)}}function lT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function oT(i,e,n){const s=Ae(i);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function Lm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||uT(i,s)}))}function uT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(_g(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Ag(i))}function Vv(i,e,n){for(const s of n)s instanceof rT?(i.Ru.addReference(s.key,e),YN(i,s)):s instanceof iT?(fe(Sg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||uT(i,s.key)):Ee(19791,{wu:s})}function YN(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(fe(Sg,"New document in limbo: "+n),i.Eu.add(s),Ag(i))}function Ag(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(rt.fromString(e)),s=i.fu.next();i.Au.set(s,new PN(n)),i.du=i.du.insert(n,s),JE(i.remoteStore,new Xi(Ar(og(n.path)),s,"TargetPurposeLimboResolution",Ih.ce))}}async function lu(i,e,n){const s=Ae(i),l=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((p=>{var E;if((p||n)&&s.isPrimaryClient){const T=p?!p.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){l.push(p);const T=pg.As(g.targetId,p);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(g,p){const E=Ae(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(p,(S=>ie.forEach(S.Es,(j=>E.persistence.referenceDelegate.addReference(T,S.targetId,j))).next((()=>ie.forEach(S.ds,(j=>E.persistence.referenceDelegate.removeReference(T,S.targetId,j)))))))))}catch(T){if(!_l(T))throw T;fe(yg,"Failed to update sequence numbers: "+T)}for(const T of p){const S=T.targetId;if(!T.fromCache){const j=E.Ms.get(S),L=j.snapshotVersion,G=j.withLastLimboFreeSnapshotVersion(L);E.Ms=E.Ms.insert(S,G)}}})(s.localStore,u))}async function XN(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){fe(Sg,"User change. New user:",e.toKey());const s=await KE(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new he(ne.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await lu(n,s.Ls)}}function $N(i,e){const n=Ae(i),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let l=Le();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const m=n.Tu.get(f);l=l.unionWith(m.view.nu)}return l}}function cT(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=aT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$N.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GN.bind(null,e),e.Pu.H_=ON.bind(null,e.eventManager),e.Pu.yu=kN.bind(null,e.eventManager),e}function JN(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KN.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Z2(this.persistence,new X2,e.initialUser,this.serializer)}Cu(e){return new QE(gg.mi,this.serializer)}Du(e){return new sN}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class ZN extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new M2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new QE((s=>ph.mi(s,n)),this.serializer)}}class Um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Mv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=XN.bind(null,this.syncEngine),await RN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CN})()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),s=(function(u){return new cN(u)})(e.databaseInfo);return(function(u,f,m,g){return new mN(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,u,f,m){return new pN(s,l,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Mv(this.syncEngine,n,0)),(function(){return Nv.v()?new Nv:new aN})())}createSyncEngine(e,n){return(function(l,u,f,m,g,p,E){const T=new LN(l,u,f,m,g,p);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const u=Ae(l);fe(Xs,"RemoteStore shutting down."),u.Ea.add(5),await au(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class eC{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Jt.UNAUTHENTICATED,this.clientId=ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{fe(os,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(fe(os,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=xg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function dm(i,e){i.asyncQueue.verifyOperationInProgress(),fe(os,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async l=>{s.isEqual(l)||(await KE(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function jv(i,e){i.asyncQueue.verifyOperationInProgress();const n=await tC(i);fe(os,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>Iv(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,l)=>Iv(e.remoteStore,l))),i._onlineComponents=e}async function tC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(os,"Using user provided OfflineComponentProvider");try{await dm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ne.FAILED_PRECONDITION||l.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;sl("Error using user provided cache. Falling back to memory cache: "+n),await dm(i,new _h)}}else fe(os,"Using default OfflineComponentProvider"),await dm(i,new ZN(void 0));return i._offlineComponents}async function hT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(os,"Using user provided OnlineComponentProvider"),await jv(i,i._uninitializedComponentsProvider._online)):(fe(os,"Using default OnlineComponentProvider"),await jv(i,new Um))),i._onlineComponents}function nC(i){return hT(i).then((e=>e.syncEngine))}async function Pv(i){const e=await hT(i),n=e.eventManager;return n.onListen=UN.bind(null,e.syncEngine),n.onUnlisten=qN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=HN.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firestore.googleapis.com",Uv=!0;class zv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dT,this.ssl=Uv}else this.host=e.host,this.ssl=e.ssl??Uv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<O2)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new aR;switch(s.type){case"firstParty":return new cR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Lv.get(n);s&&(fe("ComponentProvider","Removing Datastore"),Lv.delete(n),s.terminate())})(this),Promise.resolve()}}function rC(i,e,n,s={}){var p;i=es(i,Bh);const l=ml(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;l&&(qb(`https://${m}`),Hb("Firestore",!0)),u.host!==dT&&u.host!==m&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:l,emulatorOptions:s};if(!Qs(g,f)&&(i._setSettings(g),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=Jt.MOCK_USER;else{E=kS(s.mockUserToken,(p=i._app)==null?void 0:p.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Jt(S)}i._authCredentials=new lR(new rE(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class Dt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ru(n,Dt._jsonSchema))return new Dt(e,s||null,new ye(rt.fromString(n.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:It("string",Dt._jsonSchemaVersion),referencePath:It("string")};class ts extends ea{constructor(e,n,s){super(e,n,og(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new ye(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function El(i,e,...n){if(i=Kt(i),iE("collection","path",e),i instanceof Bh){const s=rt.fromString(e,...n);return Z0(s),new ts(i,null,s)}{if(!(i instanceof Dt||i instanceof ts))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return Z0(s),new ts(i.firestore,null,s)}}function Tl(i,e,...n){if(i=Kt(i),arguments.length===1&&(e=ng.newId()),iE("doc","path",e),i instanceof Bh){const s=rt.fromString(e,...n);return J0(s),new Dt(i,null,new ye(s))}{if(!(i instanceof Dt||i instanceof ts))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return J0(s),new Dt(i.firestore,i instanceof ts?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="AsyncQueue";class qv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XE(this,"async_queue_retry"),this._c=()=>{const s=fm();s&&fe(Bv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;fe(Bv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ii("INTERNAL UNHANDLED ERROR: ",Hv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Tg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:Hv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Hv(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(i,["next","error","complete"])}class hl extends Bh{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new qv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qv(e),this._firestoreClient=void 0,await e}}}function iC(i,e){const n=typeof i=="object"?i:Kb(),s=typeof i=="string"?i:ch,l=eg(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=DS("firestore");u&&rC(l,...u)}return l}function mT(i){if(i._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||sC(i),i._firestoreClient}function sC(i){var s,l,u;const e=i._freezeSettings(),n=(function(m,g,p,E){return new RR(m,g,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,fT(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new eC(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Yt.fromBase64String(e))}catch(n){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:It("string",Ln._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nr._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Nr._jsonSchema))return new Nr(e.latitude,e.longitude)}}Nr._jsonSchemaVersion="firestore/geoPoint/1.0",Nr._jsonSchema={type:It("string",Nr._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,Cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Cr(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cr._jsonSchemaVersion="firestore/vectorValue/1.0",Cr._jsonSchema={type:It("string",Cr._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=/^__.*__$/;class lC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}class gT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class Ng{constructor(e,n,s,l,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(pT(this.Ac)&&aC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class oC{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Lh(e)}Cc(e,n,s,l=!1){return new Ng({Ac:e,methodName:n,Dc:s,path:Qt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cg(i){const e=i._freezeSettings(),n=Lh(i._databaseId);return new oC(i._databaseId,!!e.ignoreUndefinedProperties,n)}function uC(i,e,n,s,l,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,l);Ig("Data must be an object, but it was:",f,s);const m=yT(s,f);let g,p;if(u.merge)g=new Tn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const S=zm(e,T,n);if(!f.contains(S))throw new he(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);vT(E,S)||E.push(S)}g=new Tn(E),p=f.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,p=f.fieldTransforms;return new lC(new fn(m),g,p)}class Hh extends Rg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}function cC(i,e,n,s){const l=i.Cc(1,e,n);Ig("Data must be an object, but it was:",l,s);const u=[],f=fn.empty();cs(s,((g,p)=>{const E=Dg(e,g,n);p=Kt(p);const T=l.yc(E);if(p instanceof Hh)u.push(E);else{const S=ou(p,T);S!=null&&(u.push(E),f.set(E,S))}}));const m=new Tn(u);return new gT(f,m,l.fieldTransforms)}function hC(i,e,n,s,l,u){const f=i.Cc(1,e,n),m=[zm(e,s,n)],g=[l];if(u.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(zm(e,u[S])),g.push(u[S+1]);const p=[],E=fn.empty();for(let S=m.length-1;S>=0;--S)if(!vT(p,m[S])){const j=m[S];let L=g[S];L=Kt(L);const G=f.yc(j);if(L instanceof Hh)p.push(j);else{const z=ou(L,G);z!=null&&(p.push(j),E.set(j,z))}}const T=new Tn(p);return new gT(E,T,f.fieldTransforms)}function fC(i,e,n,s=!1){return ou(n,i.Cc(s?4:3,e))}function ou(i,e){if(_T(i=Kt(i)))return Ig("Unsupported field value:",e,i),yT(i,e);if(i instanceof Rg)return(function(s,l){if(!pT(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let f=0;for(const m of s){let g=ou(m,l.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(i,e)}return(function(s,l){if((s=Kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $R(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:gh(l.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gh(l.serializer,u)}}if(s instanceof Nr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:LE(l.serializer,s._byteString)};if(s instanceof Dt){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dg(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Cr)return(function(f,m){return{mapValue:{fields:{[dE]:{stringValue:mE},[hh]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return ug(m.serializer,p)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Ch(s)}`)})(i,e)}function yT(i,e){const n={};return lE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(i,((s,l)=>{const u=ou(l,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function _T(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof Nr||i instanceof Ln||i instanceof Dt||i instanceof Rg||i instanceof Cr)}function Ig(i,e,n){if(!_T(n)||!sE(n)){const s=Ch(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function zm(i,e,n){if((e=Kt(e))instanceof qh)return e._internalPath;if(typeof e=="string")return Dg(i,e);throw vh("Field path arguments must be of type string or ",i,!1,void 0,n)}const dC=new RegExp("[~\\*/\\[\\]]");function Dg(i,e,n){if(e.search(dC)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new qh(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function vh(i,e,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${l}`),g+=")"),new he(ne.INVALID_ARGUMENT,m+i+g)}function vT(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Og("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mC extends bT{data(){return super.data()}}function Og(i,e){return typeof e=="string"?Dg(i,e):e instanceof qh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kg{}class ET extends kg{}function Mg(i,e,...n){let s=[];e instanceof kg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof jg)).length,m=u.filter((g=>g instanceof Vg)).length;if(f>1||f>0&&m>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)i=l._apply(i);return i}class Vg extends ET{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Vg(e,n,s)}_apply(e){const n=this._parse(e);return TT(e._query,n),new ea(e.firestore,e.converter,Cm(e._query,n))}_parse(e){const n=Cg(e.firestore);return(function(u,f,m,g,p,E,T){let S;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Qv(T,E);const L=[];for(const G of T)L.push(Gv(g,u,G));S={arrayValue:{values:L}}}else S=Gv(g,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Qv(T,E),S=fC(m,f,T,E==="in"||E==="not-in");return Ct.create(p,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class jg extends kg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const m=u.getFlattenedFilters();for(const g of m)TT(f,g),f=Cm(f,g)})(e._query,n),new ea(e.firestore,e.converter,Cm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pg extends ET{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Pg(e,n)}_apply(e){const n=(function(l,u,f){if(l.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xo(u,f)})(e._query,this._field,this._direction);return new ea(e.firestore,e.converter,(function(l,u){const f=l.explicitOrderBy.concat([u]);return new vl(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function Lg(i,e="asc"){const n=e,s=Og("orderBy",i);return Pg._create(s,n)}function Gv(i,e,n){if(typeof(n=Kt(n))=="string"){if(n==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TE(e)&&n.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ye.isDocumentKey(s))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return av(i,new ye(s))}if(n instanceof Dt)return av(i,n._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ch(n)}.`)}function Qv(i,e){if(!Array.isArray(i)||i.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TT(i,e){const n=(function(l,u){for(const f of l)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pC{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return cs(e,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,l,u;const n=(u=(l=(s=e.fields)==null?void 0:s[hh].arrayValue)==null?void 0:l.values)==null?void 0:u.map((f=>_t(f.doubleValue)));return new Cr(n)}convertGeoPoint(e){return new Nr(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Oh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Qo(e));default:return null}}convertTimestamp(e){const n=is(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Ge(FE(s),9688,{name:e});const l=new Ko(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return l.isEqual(n)||ii(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends bT{constructor(e,n,s,l,u,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Og("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:It("string",Gs._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class th extends Gs{data(e={}){return super.data(e)}}class Wa{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new jo(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new th(this._firestore,this._userDataWriter,s.key,s,new jo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((m=>{const g=new th(l._firestore,l._userDataWriter,m.doc.key,m.doc,new jo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new th(l._firestore,l._userDataWriter,m.doc.key,m.doc,new jo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:_C(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _C(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:It("string",Wa._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class xT extends pC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function wT(i,e,n,...s){i=es(i,Dt);const l=es(i.firestore,hl),u=Cg(l);let f;return f=typeof(e=Kt(e))=="string"||e instanceof qh?hC(u,"updateDoc",i._key,e,n,s):cC(u,"updateDoc",i._key,e),qg(l,[f.toMutation(i._key,Wn.exists(!0))])}function Ug(i){return qg(es(i.firestore,hl),[new cg(i._key,Wn.none())])}function zg(i,e){const n=es(i.firestore,hl),s=Tl(i),l=yC(i.converter,e);return qg(n,[uC(Cg(i.firestore),"addDoc",s._key,l,i.converter!==null,{}).toMutation(s._key,Wn.exists(!1))]).then((()=>s))}function Bg(i,...e){var g,p,E;i=Kt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Fv(e[s])||(n=e[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Fv(e[s])){const T=e[s];e[s]=(g=T.next)==null?void 0:g.bind(T),e[s+1]=(p=T.error)==null?void 0:p.bind(T),e[s+2]=(E=T.complete)==null?void 0:E.bind(T)}let u,f,m;if(i instanceof Dt)f=es(i.firestore,hl),m=og(i._key.path),u={next:T=>{e[s]&&e[s](vC(f,i,T))},error:e[s+1],complete:e[s+2]};else{const T=es(i,ea);f=es(T.firestore,hl),m=T._query;const S=new xT(f);u={next:j=>{e[s]&&e[s](new Wa(f,S,T,j))},error:e[s+1],complete:e[s+2]},gC(i._query)}return(function(S,j,L,G){const z=new WN(G),re=new MN(j,z,L);return S.asyncQueue.enqueueAndForget((async()=>IN(await Pv(S),re))),()=>{z.Nu(),S.asyncQueue.enqueueAndForget((async()=>DN(await Pv(S),re)))}})(mT(f),m,l,u)}function qg(i,e){return(function(s,l){const u=new Fs;return s.asyncQueue.enqueueAndForget((async()=>FN(await nC(s),l,u))),u.promise})(mT(i),e)}function vC(i,e,n){const s=n.docs.get(e._key),l=new xT(i);return new Gs(i,l,e._key,s,new jo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){pl=l})(gl),il(new Ks("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new hl(new oR(s.getProvider("auth-internal")),new hR(f,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(p.options.projectId,E)})(f,l),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Zi(K0,Y0,e),Zi(K0,Y0,"esm2020")})();var bC="firebase",EC="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi(bC,EC,"app");const TC={apiKey:"AIzaSyBhARjdGj5RyXrS7OBT8HUp_roR2ctx2t0",authDomain:"yolo-loot.firebaseapp.com",projectId:"yolo-loot",storageBucket:"yolo-loot.firebasestorage.app",messagingSenderId:"10096967658",appId:"1:10096967658:web:9ce445d16fac2c"},xC=Qb(TC),tr=iC(xC),Fh="players",Gh="items",Hg="history",wC=i=>{const e=Mg(El(tr,Fh),Lg("name"));return Bg(e,n=>{const s=n.docs.map(l=>({id:l.id,...l.data()}));i(s)})},SC=async i=>await zg(El(tr,Fh),i),Kv=async i=>await Ug(Tl(tr,Fh,i)),Yv=async(i,e)=>await wT(Tl(tr,Fh,i),e),AC=i=>{const e=Mg(El(tr,Gh),Lg("name"));return Bg(e,n=>{const s=n.docs.map(l=>({id:l.id,...l.data()}));i(s)})},RC=async i=>await zg(El(tr,Gh),i),Xv=async(i,e)=>await wT(Tl(tr,Gh,i),e),$v=async i=>await Ug(Tl(tr,Gh,i)),NC=i=>{const e=Mg(El(tr,Hg),Lg("date","desc"));return Bg(e,n=>{const s=n.docs.map(l=>({id:l.id,...l.data()}));i(s)})},CC=async i=>await zg(El(tr,Hg),i),IC=async i=>await Ug(Tl(tr,Hg,i)),ST=H.createContext(void 0),DC=({children:i})=>{const[e,n]=H.useState([]),[s,l]=H.useState([]),[u,f]=H.useState([]),[m,g]=H.useState([]);H.useEffect(()=>{const L=wC(n),G=AC(l),z=NC(f);return()=>{L(),G(),z()}},[]);const p=async L=>{const G={...L,dkp:0,avatarUrl:`https://api.dicebear.com/7.x/avataaars/svg?seed=${L.name}`,status:"Online"};await SC(G)},E=async L=>{await RC(L)},T=(L,G)=>{g(z=>[...z,{id:Math.random().toString(36).substr(2,9),name:L,quantity:G}])},S=L=>{g(G=>G.filter(z=>z.id!==L))},j=async(L,G,z,re=!0)=>{const Y=z==="Acquired"?50:0,J=s.find(se=>se.name.toLowerCase().includes(G.name.toLowerCase()))||s[0]||{id:"unknown",name:G.name},me={itemId:J.id,playerId:L,status:z,date:new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}),raidName:"Raid Manual",cost:Y};if(await CC(me),z==="Acquired"){const se=e.find(le=>le.id===L);if(se){const le=Math.max(0,se.dkp-Y);await Yv(L,{dkp:le})}await Xv(J.id,{lastRecipientId:L})}re&&(G.quantity>1?g(se=>se.map(le=>le.id===G.id?{...le,quantity:le.quantity-1}:le)):S(G.id))};return v.jsx(ST.Provider,{value:{players:e,items:s,lootHistory:u,distributionQueue:m,addPlayer:p,addItem:E,addToDistributionQueue:T,removeFromDistributionQueue:S,distributeItem:j,deletePlayer:async L=>await Kv(L),updatePlayer:async(L,G)=>await Yv(L,G),deleteItem:async L=>await $v(L),updateItem:async(L,G)=>await Xv(L,G),clearPlayers:async()=>{const L=e.map(G=>Kv(G.id));await Promise.all(L)},clearItems:async()=>{const L=s.map(G=>$v(G.id));await Promise.all(L)},clearHistory:async()=>{const L=u.map(G=>IC(G.id));await Promise.all(L)}},children:i})},xl=()=>{const i=H.useContext(ST);if(!i)throw new Error("useGame must be used within a GameProvider");return i},OC=({children:i})=>(oi().pathname.includes("admin"),v.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-text-main font-display min-h-screen flex flex-col md:flex-row transition-colors duration-300",children:[v.jsxs("div",{className:"lg:hidden flex items-center justify-between p-4 bg-surface-light dark:bg-surface-dark border-b border-border-light dark:border-border-dark sticky top-0 z-30",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"bg-primary/10 p-2 rounded-lg text-primary",children:v.jsx("span",{className:"material-symbols-outlined",children:"swords"})}),v.jsx("h1",{className:"font-bold text-lg text-text-main dark:text-white",children:"YOLO Loot"})]}),v.jsx("button",{className:"p-2 text-text-muted",children:v.jsx("span",{className:"material-symbols-outlined",children:"menu"})})]}),v.jsxs("aside",{className:"hidden lg:flex w-72 flex-col justify-between border-r border-border-light dark:border-border-dark bg-white dark:bg-[#1e140d] p-6 h-screen fixed top-0 left-0 z-40 overflow-y-auto",children:[v.jsxs("div",{className:"flex flex-col gap-8",children:[v.jsxs("div",{className:"flex items-center gap-3 px-2",children:[v.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-primary text-white shadow-lg shadow-orange-500/30",children:v.jsx("span",{className:"material-symbols-outlined",children:"diamond"})}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("h1",{className:"text-xl font-bold leading-tight dark:text-white",children:"YOLO Loot"}),v.jsx("span",{className:"text-xs font-medium text-primary uppercase tracking-wider",children:"v2.0"})]})]}),v.jsxs("nav",{className:"flex flex-col gap-2",children:[v.jsxs(Ga,{to:"/",className:({isActive:n})=>`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n?"bg-primary/10 text-primary font-bold":"text-gray-500 hover:bg-gray-50 hover:text-primary"}`,children:[v.jsx("span",{className:"material-symbols-outlined fill-1",children:"dashboard"}),v.jsx("span",{children:"Dashboard"})]}),v.jsxs(Ga,{to:"/history",className:({isActive:n})=>`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n?"bg-primary/10 text-primary font-bold":"text-gray-500 hover:bg-gray-50 hover:text-primary"}`,children:[v.jsx("span",{className:"material-symbols-outlined",children:"history"}),v.jsx("span",{children:"History"})]}),v.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-800 my-2 mx-4"}),v.jsxs(Ga,{to:"/register",className:({isActive:n})=>`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n?"bg-primary/10 text-primary font-bold":"text-gray-500 hover:bg-gray-50 hover:text-primary"}`,children:[v.jsx("span",{className:"material-symbols-outlined",children:"person_add"}),v.jsx("span",{children:"Players"})]}),v.jsxs(Ga,{to:"/items",className:({isActive:n})=>`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n?"bg-primary/10 text-primary font-bold":"text-gray-500 hover:bg-gray-50 hover:text-primary"}`,children:[v.jsx("span",{className:"material-symbols-outlined",children:"add_circle"}),v.jsx("span",{children:"New Item"})]}),v.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-800 my-2 mx-4"}),v.jsxs(Ga,{to:"/admin",className:({isActive:n})=>`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n?"bg-primary/10 text-primary font-bold":"text-gray-500 hover:bg-gray-50 hover:text-primary"}`,children:[v.jsx("span",{className:"material-symbols-outlined",children:"admin_panel_settings"}),v.jsx("span",{children:"Admin"})]})]})]}),v.jsxs("div",{className:"flex items-center gap-3 px-3 py-3 rounded-2xl bg-gray-50 dark:bg-surface-dark border border-gray-100 dark:border-gray-800",children:[v.jsx("div",{className:"size-10 rounded-full bg-cover bg-center border-2 border-white shadow-sm",style:{backgroundImage:"url('https://lh3.googleusercontent.com/aida-public/AB6AXuA05cVfzyEIZj7ZKTbBmXOmyHBz1Jz6J6Gh9vv6gycs2tA2M7vRNaC0ynjkoaC6K3l_vjdhiOXBcZ79jMAl8wEJl9Q1YAUGBBScF60CW2EPpQcsbIFdD6tbowuJrSTcKXb4iCl6uvmT9BKs62Y3S8uBSXFm2m1j0o3EJyXyJ0fsvifJES0XV5mVWZBHWJ4NDU5xpioBlo269_TWNn9Ib-eRVSu0We1tDPOULBMKhMTBJn5002wfoY9Hb6d7qK9EYAzWu5oS0zhQp0EK')"}}),v.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[v.jsx("p",{className:"text-sm font-bold truncate dark:text-white",children:"Alex Hunter"}),v.jsx("p",{className:"text-xs text-gray-500 truncate",children:"Lvl 42 Paladin"})]}),v.jsx("button",{className:"text-gray-400 hover:text-red-500 transition-colors",children:v.jsx("span",{className:"material-symbols-outlined",children:"logout"})})]})]}),v.jsx("main",{className:"flex-1 w-full overflow-y-auto lg:ml-72",children:i})]})),$a=i=>{if(!i)return 0;const e=i.toUpperCase().replace(/[^0-9.KMB]/g,"");let n=1;e.endsWith("K")?n=1e3:e.endsWith("M")?n=1e6:e.endsWith("B")&&(n=1e9);const s=parseFloat(e.replace(/[KMB]/g,""));return isNaN(s)?0:s*n},Fg=(i,e)=>{let n=[...e].sort((s,l)=>$a(l.cp)-$a(s.cp));if(i.limitToTop5&&(n=n.slice(0,5)),i.lastRecipientId){const s=n.findIndex(l=>l.id===i.lastRecipientId);if(s!==-1){const l=(s+1)%n.length;if(l===0)return n;const u=n.slice(l),f=n.slice(0,l);return[...u,...f]}}return n},kC=()=>{const{items:i,players:e}=xl(),n="1",s=u=>Fg(u,e),l=u=>{switch(u){case"Legendary":return"text-orange-500 bg-orange-500/10 border-orange-500/20";case"Epic":return"text-purple-500 bg-purple-500/10 border-purple-500/20";case"Rare":return"text-blue-500 bg-blue-500/10 border-blue-500/20";case"Uncommon":return"text-green-500 bg-green-500/10 border-green-500/20";default:return"text-gray-500 bg-gray-500/10 border-gray-500/20"}};return v.jsxs("div",{className:"w-full max-w-[1400px] mx-auto p-4 md:p-8 lg:p-12 flex flex-col gap-8 pb-24",children:[v.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4 animate-fade-in",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-primary font-bold tracking-wider text-sm uppercase mb-1",children:"Overview"}),v.jsx("h2",{className:"text-3xl md:text-4xl font-black text-[#1c130d] dark:text-white tracking-tight",children:"Loot Dashboard"})]}),v.jsxs("div",{className:"flex items-center gap-3 bg-white dark:bg-surface-dark px-4 py-2 rounded-full shadow-sm border border-gray-100 dark:border-gray-800",children:[v.jsxs("div",{className:"flex items-center gap-1.5",children:[v.jsx("span",{className:"block size-2.5 rounded-full bg-green-500 animate-pulse"}),v.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Registered Players"})]}),v.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:"|"}),v.jsxs("span",{className:"text-sm font-bold text-[#1c130d] dark:text-white",children:[i.length," Active Items"]})]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:i.map(u=>{let f=s(u);u.limitToTop5&&(f=f.slice(0,5));const m=f.findIndex(p=>p.id===n),g=m!==-1?m+1:null;return v.jsxs("article",{className:"flex flex-col gap-6 p-6 rounded-2xl bg-surface-light dark:bg-surface-dark border border-gray-100 dark:border-gray-800 shadow-sm hover:shadow-lg transition-all duration-300",children:[v.jsxs("div",{className:"flex flex-col items-center text-center gap-4 w-full",children:[v.jsx("div",{className:"relative shrink-0 size-32 rounded-2xl overflow-hidden bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm",children:v.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-500 hover:scale-110",style:{backgroundImage:`url('${u.iconUrl}')`}})}),v.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[v.jsx("div",{className:"flex items-center justify-center gap-2",children:v.jsx("span",{className:`px-2.5 py-1 rounded-md text-[10px] font-bold uppercase tracking-wide border ${l(u.rarity)}`,children:u.rarity})}),v.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white leading-tight truncate",children:u.name}),v.jsxs("div",{className:"flex items-center justify-center gap-2",children:[v.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Cost:"}),v.jsxs("span",{className:"text-lg font-black text-primary",children:[u.cost," Garnet"]})]}),v.jsx("div",{className:"text-xs text-gray-500 truncate max-w-full px-4",children:u.stats})]})]}),v.jsx("div",{className:"w-full h-px bg-gray-100 dark:bg-gray-800"}),v.jsxs("div",{className:"w-full flex flex-col gap-4 bg-gray-50/50 dark:bg-white/5 rounded-2xl p-4 border border-gray-100 dark:border-gray-800/50 flex-1",children:[v.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-gray-200 dark:border-gray-700",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-gray-400 text-lg",children:"group"}),v.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Priority"})]}),g&&v.jsx("div",{className:"flex items-center gap-1 bg-primary/10 text-primary px-2 py-0.5 rounded text-xs font-bold",children:v.jsxs("span",{children:["#",g]})})]}),v.jsx("div",{className:"flex flex-col gap-2",children:f.length>0?f.map((p,E)=>{const T=p.id===n;return v.jsxs("div",{className:`flex items-center justify-between p-2 rounded-xl transition-all ${T?"bg-white dark:bg-surface-dark border-2 border-primary shadow-md z-10":"bg-white dark:bg-surface-dark border border-transparent hover:border-gray-200 dark:hover:border-gray-700"}`,children:[v.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[v.jsx("div",{className:`flex items-center justify-center size-6 rounded-lg text-xs font-bold shrink-0 ${E===0?"bg-yellow-100 text-yellow-700":E===1?"bg-gray-200 text-gray-600":E===2?"bg-orange-100 text-orange-700":"bg-gray-100 dark:bg-gray-800 text-gray-400"}`,children:E+1}),v.jsx("div",{className:"size-7 rounded-lg bg-cover bg-center border border-gray-200 dark:border-gray-700 shrink-0",style:{backgroundImage:`url('${p.avatarUrl}')`}}),v.jsxs("div",{className:"flex flex-col min-w-0",children:[v.jsx("span",{className:`text-xs font-bold leading-none truncate max-w-[100px] ${T?"text-primary":"text-gray-900 dark:text-white"}`,children:p.name}),v.jsx("span",{className:"text-[9px] text-gray-500 truncate",children:p.class})]})]}),v.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-gray-500 bg-gray-100 dark:bg-black/20 px-1.5 py-1 rounded shrink-0",children:[v.jsx("span",{className:"material-symbols-outlined text-[12px] text-primary",children:"bolt"}),p.cp]})]},p.id)}):v.jsx("div",{className:"text-center py-4 text-xs text-gray-400",children:"No one in queue"})})]})]},u.id)})})]})},MC=["Elf","Dark Wizard","Dark Lord","Dark Knight"],AT={Elf:"","Dark Wizard":"","Dark Lord":"","Dark Knight":""},RT=({player:i,onClose:e})=>{const{items:n,lootHistory:s,players:l}=xl(),u=H.useMemo(()=>{const m=[];return n.forEach(g=>{const E=Fg(g,l).findIndex(T=>T.id===i.id);E!==-1&&E<5&&m.push({item:g,rank:E+1})}),m.sort((g,p)=>g.rank-p.rank)},[n,l,i.id]),f=H.useMemo(()=>{const m={};return s.filter(g=>g.playerId===i.id&&g.status==="Conquistado").forEach(g=>{if(!m[g.itemId]){const p=n.find(E=>E.id===g.itemId);p&&(m[g.itemId]={count:0,item:p})}m[g.itemId]&&m[g.itemId].count++}),Object.values(m).sort((g,p)=>p.count-g.count)},[s,i.id,n]);return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:e,children:v.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark w-full max-w-2xl rounded-3xl shadow-2xl border border-white/20 overflow-hidden flex flex-col max-h-[90vh]",onClick:m=>m.stopPropagation(),children:[v.jsxs("div",{className:"relative p-8 pb-16 bg-gradient-to-br from-primary to-orange-600",children:[v.jsx("button",{onClick:e,className:"absolute right-4 top-4 p-2 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:v.jsx("span",{className:"material-symbols-outlined",children:"close"})}),v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("div",{className:"w-24 h-24 rounded-2xl bg-white shadow-xl border-4 border-white/20 overflow-hidden mb-4",children:v.jsx("img",{src:i.avatarUrl,alt:i.name,className:"w-full h-full object-cover"})}),v.jsx("h2",{className:"text-3xl font-black text-white drop-shadow-md",children:i.name}),v.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[v.jsxs("span",{className:"px-3 py-1 rounded-lg bg-black/30 border border-white/10 text-white text-xs font-bold uppercase tracking-wider flex items-center gap-1 backdrop-blur-md",children:[AT[i.class]," ",i.class]}),v.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/20 border border-white/10 text-white text-xs font-bold uppercase tracking-wider backdrop-blur-md",children:i.role}),v.jsxs("span",{className:"px-3 py-1 rounded-lg bg-yellow-400/20 border border-yellow-400/30 text-yellow-200 text-xs font-bold uppercase tracking-wider backdrop-blur-md",children:[i.cp," CP"]})]})]})]}),v.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-8 -mt-8 bg-surface-light dark:bg-surface-dark rounded-t-3xl relative",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("h3",{className:"flex items-center gap-2 text-lg font-bold text-gray-900 dark:text-white",children:[v.jsx("span",{className:"material-symbols-outlined text-primary",children:"upcoming"}),"Prximos Itens (Top 5)"]}),u.length>0?v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:u.map(({item:m,rank:g})=>v.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-50 dark:bg-black/20 border border-gray-100 dark:border-gray-800",children:[v.jsx("div",{className:"size-10 rounded-lg bg-cover bg-center shrink-0 border border-gray-200 dark:border-gray-700",style:{backgroundImage:`url('${m.iconUrl}')`}}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white truncate",children:m.name}),v.jsx("div",{className:"text-xs text-gray-500",children:m.rarity})]}),v.jsxs("div",{className:`px-2.5 py-1 rounded-lg text-xs font-bold ${g===1?"bg-yellow-100 text-yellow-700":g===2?"bg-gray-200 text-gray-600":g===3?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-500"}`,children:["#",g]})]},m.id))}):v.jsx("p",{className:"text-gray-500 text-sm italic",children:"Este jogador no est no Top 5 de nenhum item no momento."})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("h3",{className:"flex items-center gap-2 text-lg font-bold text-gray-900 dark:text-white",children:[v.jsx("span",{className:"material-symbols-outlined text-primary",children:"history"}),"Histrico de Loot"]}),f.length>0?v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:f.map(({item:m,count:g})=>v.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-xl bg-gray-50 dark:bg-black/20 border border-gray-100 dark:border-gray-800 text-center",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"size-12 rounded-xl bg-cover bg-center border border-gray-200 dark:border-gray-700",style:{backgroundImage:`url('${m.iconUrl}')`}}),v.jsxs("div",{className:"absolute -top-2 -right-2 bg-primary text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full shadow-md",children:["x",g]})]}),v.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 truncate w-full",title:m.name,children:m.name})]},m.id))}):v.jsx("p",{className:"text-gray-500 text-sm italic",children:"Nenhum item conquistado ainda."})]})]})]})})},VC=()=>{const{lootHistory:i,items:e,players:n}=xl(),[s,l]=H.useState("All"),[u,f]=H.useState(""),[m,g]=H.useState("All"),[p,E]=H.useState("All"),[T,S]=H.useState(null),j=i.filter(se=>{const le=s==="All"||se.playerId===s;!u||se.date.includes(u.split("-").reverse().join("/"));let R=!0;if(u){const[V,O,D]=u.split("-");R=se.date.startsWith(D)}const A=p==="All"||se.itemId===p,C=m==="All"||se.status===m;return le&&(u?R:!0)&&C&&A}),L=i.filter(se=>se.status==="Acquired").length,G=j.length,z=se=>{var le;return((le=e.find(R=>R.id===se))==null?void 0:le.iconUrl)||""},re=se=>{var le;return((le=e.find(R=>R.id===se))==null?void 0:le.rarity)||"Common"},Y=se=>{var le;return((le=e.find(R=>R.id===se))==null?void 0:le.name)||"Unknown Item"},J=se=>{var le;return((le=n.find(R=>R.id===se))==null?void 0:le.name)||"Unknown"},me=se=>{var le;return((le=n.find(R=>R.id===se))==null?void 0:le.avatarUrl)||""};return v.jsxs("div",{className:"mx-auto flex w-full max-w-[1200px] flex-col gap-8 px-4 py-8 md:px-10",children:[v.jsx("div",{className:"flex flex-col gap-4 animate-fade-in-up",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-3 bg-primary/10 rounded-2xl text-primary",children:v.jsx("span",{className:"material-symbols-outlined text-2xl",children:"history"})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-black text-text-main dark:text-white",children:"Drop History"}),v.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[v.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-0.5 rounded-md bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs font-bold uppercase tracking-wide",children:[v.jsx("span",{className:"material-symbols-outlined text-sm",children:"emoji_events"}),L," Distributed"]}),v.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-0.5 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-500 text-xs font-bold uppercase tracking-wide",children:[v.jsx("span",{className:"material-symbols-outlined text-sm",children:"list"}),G," Records"]})]})]})]})}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsx("label",{className:"text-sm font-bold text-text-muted uppercase px-1",children:"Filter by Item"}),v.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar px-1",children:[v.jsx("button",{onClick:()=>E("All"),className:`shrink-0 px-5 h-14 rounded-xl text-xs font-bold uppercase tracking-wider transition-all border ${p==="All"?"bg-primary text-white border-primary shadow-md shadow-primary/20":"bg-surface-light dark:bg-surface-dark text-gray-500 border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:"All"}),e.map(se=>v.jsxs("button",{onClick:()=>E(se.id===p?"All":se.id),className:`group relative shrink-0 size-14 rounded-xl border transition-all overflow-hidden ${p===se.id?"border-primary ring-2 ring-primary/30 shadow-lg scale-105 z-10":"border-gray-200 dark:border-gray-700 opacity-70 hover:opacity-100 hover:scale-105 hover:shadow-md"}`,title:se.name,children:[v.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url('${se.iconUrl}')`}}),p===se.id&&v.jsx("div",{className:"absolute inset-0 bg-primary/10 flex items-center justify-center",children:v.jsx("span",{className:"material-symbols-outlined text-white drop-shadow-md text-2xl",children:"check"})})]},se.id))]})]}),v.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 flex flex-col md:flex-row gap-6",children:[v.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[v.jsx("label",{className:"text-sm font-bold text-text-muted uppercase",children:"Filter by Player"}),v.jsxs("div",{className:"relative",children:[v.jsxs("select",{value:s,onChange:se=>l(se.target.value),className:"w-full h-12 pl-4 pr-10 rounded-xl bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-gray-700 outline-none focus:ring-2 focus:ring-primary appearance-none dark:text-white font-medium",children:[v.jsx("option",{value:"All",children:"All Players"}),n.map(se=>v.jsx("option",{value:se.id,children:se.name},se.id))]}),v.jsx("span",{className:"material-symbols-outlined absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:"expand_more"})]})]}),v.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[v.jsx("label",{className:"text-sm font-bold text-text-muted uppercase",children:"Filter by Date"}),v.jsx("input",{type:"date",value:u,onChange:se=>f(se.target.value),className:"w-full h-12 px-4 rounded-xl bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-gray-700 outline-none focus:ring-2 focus:ring-primary dark:text-white font-medium"})]}),v.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[v.jsx("label",{className:"text-sm font-bold text-text-muted uppercase",children:"Status"}),v.jsxs("div",{className:"flex bg-gray-50 dark:bg-black/20 p-1 rounded-xl border border-gray-200 dark:border-gray-700 h-12",children:[v.jsx("button",{onClick:()=>g("All"),className:`flex-1 rounded-lg text-sm font-bold transition-all ${m==="All"?"bg-white dark:bg-gray-700 shadow-sm text-text-main dark:text-white":"text-gray-500 hover:text-text-main"}`,children:"All"}),v.jsx("button",{onClick:()=>g("Acquired"),className:`flex-1 rounded-lg text-sm font-bold transition-all ${m==="Acquired"?"bg-white dark:bg-gray-700 shadow-sm text-primary":"text-gray-500 hover:text-text-main"}`,children:"Acquired"}),v.jsx("button",{onClick:()=>g("Skipped"),className:`flex-1 rounded-lg text-sm font-bold transition-all ${m==="Skipped"?"bg-white dark:bg-gray-700 shadow-sm text-red-500":"text-gray-500 hover:text-text-main"}`,children:"Skipped"})]})]})]}),j.length===0&&v.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center text-gray-400 border-2 border-dashed border-gray-200 dark:border-gray-800 rounded-2xl",children:[v.jsx("span",{className:"material-symbols-outlined text-4xl mb-4 opacity-30",children:"history_toggle_off"}),v.jsx("h3",{className:"text-lg font-bold text-text-main dark:text-gray-300",children:"No records found"}),v.jsx("p",{className:"max-w-xs mx-auto mt-2",children:"Try adjusting the filters to find what you're looking for."})]}),v.jsx("div",{className:"grid gap-4",children:j.map(se=>{const le=z(se.itemId),R=re(se.itemId),A=Y(se.itemId),C=J(se.playerId),V=me(se.playerId);return v.jsxs("div",{className:"group flex flex-col md:flex-row items-start md:items-center gap-6 p-4 rounded-2xl bg-surface-light dark:bg-surface-dark border border-gray-100 dark:border-gray-800 hover:border-primary/30 hover:shadow-lg transition-all",children:[v.jsxs("div",{className:"min-w-[100px] flex flex-row md:flex-col items-center md:items-start gap-2 md:gap-0",children:[v.jsxs("span",{className:"text-sm font-bold text-text-main dark:text-white",children:[se.date.split(" ")[0]," ",se.date.split(" ")[1]]}),v.jsx("span",{className:"text-xs font-medium text-text-muted",children:se.date.split(" ")[2]})]}),v.jsx("div",{className:"hidden md:block w-px h-10 bg-gray-200 dark:bg-gray-700"}),v.jsxs("div",{className:"flex items-center gap-3 min-w-[200px] cursor-pointer group/player",onClick:()=>{const O=n.find(D=>D.id===se.playerId);O&&S(O)},children:[v.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 bg-cover bg-center border border-white dark:border-gray-700 shadow-sm transition-transform group-hover/player:scale-110",style:{backgroundImage:`url('${V}')`}}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-sm font-bold text-text-main dark:text-white leading-tight group-hover/player:text-primary transition-colors",children:C}),v.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-500",children:"Player"})]})]}),v.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider flex items-center gap-1 ${se.status==="Conquistado"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":se.status==="Skipped"?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-gray-100 text-gray-500"}`,children:[v.jsx("span",{className:"material-symbols-outlined text-sm",children:se.status==="Acquired"?"emoji_events":se.status==="Skipped"?"close":"help"}),se.status]}),v.jsx("div",{className:"flex-1"}),v.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto p-3 rounded-xl bg-gray-50 dark:bg-black/20 border border-gray-100 dark:border-gray-700",children:[v.jsx("div",{className:"h-10 w-10 bg-contain bg-center bg-no-repeat",style:{backgroundImage:`url('${le}')`}}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:`text-sm font-bold ${R==="Legendary"?"text-orange-500":R==="Epic"?"text-purple-500":R==="Rare"?"text-blue-500":"text-gray-600 dark:text-gray-400"}`,children:A}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:R}),se.cost>0&&v.jsxs("span",{className:"text-[10px] font-bold text-primary",children:["-",se.cost," DKP"]})]})]})]})]},se.id)})}),T&&v.jsx(RT,{player:T,onClose:()=>S(null)})]})};function NT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jC=NT,CT=new tu("auth","Firebase",NT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Zm("@firebase/auth");function PC(i,...e){bh.logLevel<=je.WARN&&bh.warn(`Auth (${gl}): ${i}`,...e)}function nh(i,...e){bh.logLevel<=je.ERROR&&bh.error(`Auth (${gl}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(i,...e){throw Gg(i,...e)}function Ir(i,...e){return Gg(i,...e)}function IT(i,e,n){const s={...jC(),[e]:n};return new tu("auth","Firebase",s).create(e,{appName:i.name})}function ns(i){return IT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return CT.create(i,...e)}function xe(i,e,...n){if(!i)throw Gg(e,...n)}function Wr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw nh(e),new Error(e)}function li(i,e){i||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function LC(){return Jv()==="http:"||Jv()==="https:"}function Jv(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LC()||US()||"connection"in navigator)?navigator.onLine:!0}function zC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=jS()||zS()}get(){return UC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(i,e){li(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HC=new uu(3e4,6e4);function Qh(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function wl(i,e,n,s,l={}){return OT(i,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=nu({key:i.config.apiKey,...f}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...u};return LS()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&ml(i.emulatorConfig.host)&&(p.credentials="include"),DT.fetch()(await MT(i,i.config.apiHost,n,m),p)})}async function OT(i,e,n){i._canInitEmulator=!1;const s={...BC,...e};try{const l=new FC(i),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Kc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Kc(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw Kc(i,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw IT(i,E,p);ai(i,E)}}catch(l){if(l instanceof ui)throw l;ai(i,"network-request-failed",{message:String(l)})}}async function kT(i,e,n,s,l={}){const u=await wl(i,e,n,s,l);return"mfaPendingCredential"in u&&ai(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function MT(i,e,n,s){const l=`${e}${n}?${s}`,u=i,f=u.config.emulator?Qg(i.config,l):`${i.config.apiScheme}://${l}`;return qC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class FC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ir(this.auth,"network-request-failed")),HC.get())})}}function Kc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Ir(i,e,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(i,e){return wl(i,"POST","/v1/accounts:delete",e)}async function Eh(i,e){return wl(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QC(i,e=!1){const n=Kt(i),s=await n.getIdToken(e),l=Kg(s);xe(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:qo(mm(l.auth_time)),issuedAtTime:qo(mm(l.iat)),expirationTime:qo(mm(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function mm(i){return Number(i)*1e3}function Kg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const l=Lb(n);return l?JSON.parse(l):(nh("Failed to decode base64 JWT payload"),null)}catch(l){return nh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Zv(i){const e=Kg(i);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ui&&KC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function KC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qo(this.lastLoginAt),this.creationTime=qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(i){var T;const e=i.auth,n=await i.getIdToken(),s=await Zo(i,Eh(e,{idToken:n}));xe(s==null?void 0:s.users.length,e,"internal-error");const l=s.users[0];i._notifyReloadListener(l);const u=(T=l.providerUserInfo)!=null&&T.length?VT(l.providerUserInfo):[],f=$C(i.providerData,u),m=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!(f!=null&&f.length),p=m?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new qm(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(i,E)}async function XC(i){const e=Kt(i);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $C(i,e){return[...i.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function VT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(i,e){const n=await OT(i,{},async()=>{const s=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=i.config,f=await MT(i,l,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&ml(i.emulatorConfig.host)&&(g.credentials="include"),DT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZC(i,e){return wl(i,"POST","/v2/accounts:revokeToken",Qh(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=Zv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await JC(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new el;return s&&(xe(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(xe(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(xe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(i,e){xe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new YC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new qm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Zo(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QC(this,e)}reload(){return XC(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(ns(this.auth));const e=await this.getIdToken();return await Zo(this,GC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:j,providerData:L,stsTokenManager:G}=n;xe(T&&G,e,"internal-error");const z=el.fromJSON(this.name,G);xe(typeof T=="string",e,"internal-error"),Hi(s,e.name),Hi(l,e.name),xe(typeof S=="boolean",e,"internal-error"),xe(typeof j=="boolean",e,"internal-error"),Hi(u,e.name),Hi(f,e.name),Hi(m,e.name),Hi(g,e.name),Hi(p,e.name),Hi(E,e.name);const re=new Zn({uid:T,auth:e,email:l,emailVerified:S,displayName:s,isAnonymous:j,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:z,createdAt:p,lastLoginAt:E});return L&&Array.isArray(L)&&(re.providerData=L.map(Y=>({...Y}))),g&&(re._redirectEventId=g),re}static async _fromIdTokenResponse(e,n,s=!1){const l=new el;l.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Th(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];xe(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?VT(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),m=new el;m.updateFromIdToken(s);const g=new Zn({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new qm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=new Map;function ei(i){li(i instanceof Function,"Expected a class definition");let e=Wv.get(i);return e?(li(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Wv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jT.type="NONE";const eb=jT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(i,e,n){return`firebase:${i}:${e}:${n}`}class tl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=rh(this.userKey,l.apiKey,u),this.fullPersistenceKey=rh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Eh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new tl(ei(eb),e,s);const l=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||ei(eb);const f=rh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let T;if(typeof E=="string"){const S=await Eh(e,{idToken:E}).catch(()=>{});if(!S)break;T=await Zn._fromGetAccountInfoResponse(e,S,E)}else T=Zn._fromJSON(e,E);p!==u&&(m=T),u=p;break}}catch{}const g=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new tl(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new tl(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qT(e))return"Blackberry";if(HT(e))return"Webos";if(LT(e))return"Safari";if((e.includes("chrome/")||UT(e))&&!e.includes("edge/"))return"Chrome";if(BT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function PT(i=Wt()){return/firefox\//i.test(i)}function LT(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UT(i=Wt()){return/crios\//i.test(i)}function zT(i=Wt()){return/iemobile/i.test(i)}function BT(i=Wt()){return/android/i.test(i)}function qT(i=Wt()){return/blackberry/i.test(i)}function HT(i=Wt()){return/webos/i.test(i)}function Yg(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function WC(i=Wt()){var e;return Yg(i)&&!!((e=window.navigator)!=null&&e.standalone)}function eI(){return BS()&&document.documentMode===10}function FT(i=Wt()){return Yg(i)||BT(i)||HT(i)||qT(i)||/windows phone/i.test(i)||zT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(i,e=[]){let n;switch(i){case"Browser":n=tb(Wt());break;case"Worker":n=`${tb(Wt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(i,e={}){return wl(i,"GET","/v2/passwordPolicy",Qh(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=6;class iI{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nb(this),this.idTokenSubscription=new nb(this),this.beforeStateQueue=new tI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Eh(this,{idToken:e}),s=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Jn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(ns(this));const n=e?Kt(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nI(this),n=new iI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ZC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ei(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,l);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&PC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Kh(i){return Kt(i)}class nb{constructor(e){this.auth=e,this.observer=null,this.addObserver=XS(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aI(i){Xg=i}function lI(i){return Xg.loadJS(i)}function oI(){return Xg.gapiScript}function uI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(i,e){const n=eg(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Qs(u,e??{}))return l;ai(l,"already-initialized")}return n.initialize({options:e})}function hI(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ei);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function fI(i,e,n){const s=Kh(i);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=QT(e),{host:f,port:m}=dI(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(Qs(p,s.config.emulator)&&Qs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ml(f)?(qb(`${u}//${f}${g}`),Hb("Auth",!0)):mI()}function QT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function dI(i){const e=QT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:rb(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:rb(f)}}}function rb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function mI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,n){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(i,e){return kT(i,"POST","/v1/accounts:signInWithIdp",Qh(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="http://localhost";class $s extends KT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const f=new $s(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return nl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,nl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nl(e,n)}buildRequest(){const e={requestUri:gI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends YT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends cu{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Qi.credential(n,s)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends cu{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.GITHUB_SIGN_IN_METHOD="github.com";Ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends cu{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Yi.credential(n,s)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(i,e){return kT(i,"POST","/v1/accounts:signUp",Qh(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await Zn._fromIdTokenResponse(e,s,l),f=ib(s);return new us({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=ib(s);return new us({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function ib(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(i){var l;if(Jn(i.app))return Promise.reject(ns(i));const e=Kh(i);if(await e._initializationPromise,(l=e.currentUser)!=null&&l.isAnonymous)return new us({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await pI(e,{returnSecureToken:!0}),s=await us._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends ui{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new xh(e,n,s,l)}}function XT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(i,u,e,s):u})}async function _I(i,e,n=!1){const s=await Zo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return us._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(i,e,n=!1){const{auth:s}=i;if(Jn(s.app))return Promise.reject(ns(s));const l="reauthenticate";try{const u=await Zo(i,XT(s,l,e,i),n);xe(u.idToken,s,"internal-error");const f=Kg(u.idToken);xe(f,s,"internal-error");const{sub:m}=f;return xe(i.uid===m,s,"user-mismatch"),us._forOperation(i,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ai(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(i,e,n=!1){if(Jn(i.app))return Promise.reject(ns(i));const s="signIn",l=await XT(i,s,e),u=await us._fromIdTokenResponse(i,s,l);return n||await i._updateCurrentUser(u.user),u}function EI(i,e,n,s){return Kt(i).onIdTokenChanged(e,n,s)}function TI(i,e,n){return Kt(i).beforeAuthStateChanged(e,n)}function xI(i,e,n,s){return Kt(i).onAuthStateChanged(e,n,s)}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=1e3,SI=10;class JT extends $T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);eI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,SI):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},wI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JT.type="LOCAL";const AI=JT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT extends $T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZT.type="SESSION";const WT=ZT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new Yh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await RI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=$g("",20);l.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(T){const S=T;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function CI(i){Dr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function II(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function OI(){return ex()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="firebaseLocalStorageDb",kI=1,Sh="firebaseLocalStorage",nx="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(i,e){return i.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function MI(){const i=indexedDB.deleteDatabase(tx);return new hu(i).toPromise()}function Hm(){const i=indexedDB.open(tx,kI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Sh,{keyPath:nx})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Sh)?e(s):(s.close(),await MI(),e(await Hm()))})})}async function sb(i,e,n){const s=Xh(i,!0).put({[nx]:e,value:n});return new hu(s).toPromise()}async function VI(i,e){const n=Xh(i,!1).get(e),s=await new hu(n).toPromise();return s===void 0?null:s.value}function ab(i,e){const n=Xh(i,!0).delete(e);return new hu(n).toPromise()}const jI=800,PI=3;class rx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>PI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ex()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(OI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await II(),!this.activeServiceWorker)return;this.sender=new NI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await sb(e,wh,"1"),await ab(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>sb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>VI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ab(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Xh(l,!1).getAll();return new hu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rx.type="LOCAL";const LI=rx;new uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(i,e){return e?ei(e):(xe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends KT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zI(i){return bI(i.auth,new Jg(i),i.bypassAuthState)}function BI(i){const{auth:e,user:n}=i;return xe(n,e,"internal-error"),vI(n,new Jg(i),i.bypassAuthState)}async function qI(i){const{auth:e,user:n}=i;return xe(n,e,"internal-error"),_I(n,new Jg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zI;case"linkViaPopup":case"linkViaRedirect":return qI;case"reauthViaPopup":case"reauthViaRedirect":return BI;default:ai(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=new uu(2e3,1e4);class Ja extends ix{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=$g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HI.get())};e()}}Ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="pendingRedirect",ih=new Map;class GI extends ix{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const s=await QI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QI(i,e){const n=XI(e),s=YI(i);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function KI(i,e){ih.set(i._key(),e)}function YI(i){return ei(i._redirectPersistence)}function XI(i){return rh(FI,i.config.apiKey,i.name)}async function $I(i,e,n=!1){if(Jn(i.app))return Promise.reject(ns(i));const s=Kh(i),l=UI(s,e),f=await new GI(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=600*1e3;class ZI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!sx(e)){const l=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ir(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JI&&this.cachedEventUids.clear(),this.cachedEventUids.has(lb(e))}saveEventToCache(e){this.cachedEventUids.add(lb(e)),this.lastProcessedEventTime=Date.now()}}function lb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function sx({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sx(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(i,e={}){return wl(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nD=/^https?/;async function rD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await eD(i);for(const n of e)try{if(iD(n))return}catch{}ai(i,"unauthorized-domain")}function iD(i){const e=Bm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!nD.test(n))return!1;if(tD.test(i))return s===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new uu(3e4,6e4);function ob(){const i=Dr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function aD(i){return new Promise((e,n)=>{var l,u,f;function s(){ob(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ob(),n(Ir(i,"network-request-failed"))},timeout:sD.get()})}if((u=(l=Dr().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=Dr().gapi)!=null&&f.load)s();else{const m=uI("iframefcb");return Dr()[m]=()=>{gapi.load?s():n(Ir(i,"network-request-failed"))},lI(`${oI()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw sh=null,e})}let sh=null;function lD(i){return sh=sh||aD(i),sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new uu(5e3,15e3),uD="__/auth/iframe",cD="emulator/auth/iframe",hD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dD(i){const e=i.config;xe(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Qg(e,cD):`https://${i.config.authDomain}/${uD}`,s={apiKey:e.apiKey,appName:i.name,v:gl},l=fD.get(i.config.apiHost);l&&(s.eid=l);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${nu(s).slice(1)}`}async function mD(i){const e=await lD(i),n=Dr().gapi;return xe(n,i,"internal-error"),e.open({where:document.body,url:dD(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hD,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ir(i,"network-request-failed"),m=Dr().setTimeout(()=>{u(f)},oD.get());function g(){Dr().clearTimeout(m),l(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pD=500,yD=600,_D="_blank",vD="http://localhost";class ub{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bD(i,e,n,s=pD,l=yD){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...gD,width:s.toString(),height:l.toString(),top:u,left:f},p=Wt().toLowerCase();n&&(m=UT(p)?_D:n),PT(p)&&(e=e||vD,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[j,L])=>`${S}${j}=${L},`,"");if(WC(p)&&m!=="_self")return ED(e||"",m),new ub(null);const T=window.open(e||"",m,E);xe(T,i,"popup-blocked");try{T.focus()}catch{}return new ub(T)}function ED(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="__/auth/handler",xD="emulator/auth/handler",wD=encodeURIComponent("fac");async function cb(i,e,n,s,l,u){xe(i.config.authDomain,i,"auth-domain-config-required"),xe(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:gl,eventId:l};if(e instanceof YT){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",YS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof cu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),p=g?`#${wD}=${encodeURIComponent(g)}`:"";return`${SD(i)}?${nu(m).slice(1)}${p}`}function SD({config:i}){return i.emulator?Qg(i,xD):`https://${i.authDomain}/${TD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="webStorageSupport";class AD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WT,this._completeRedirectFn=$I,this._overrideRedirectResult=KI}async _openPopup(e,n,s,l){var f;li((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await cb(e,n,s,Bm(),l);return bD(e,u,$g())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await cb(e,n,s,Bm(),l);return CI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(li(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await mD(e),s=new ZI(e);return n.register("authEvent",l=>(xe(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gm,{type:gm},l=>{var f;const u=(f=l==null?void 0:l[0])==null?void 0:f[gm];u!==void 0&&n(!!u),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FT()||LT()||Yg()}}const RD=AD;var hb="@firebase/auth",fb="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ID(i){il(new Ks("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;xe(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GT(i)},p=new sI(s,l,u,g);return hI(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),il(new Ks("auth-internal",e=>{const n=Kh(e.getProvider("auth").getImmediate());return(s=>new ND(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(hb,fb,CD(i)),Zi(hb,fb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=300,OD=Bb("authIdTokenMaxAge")||DD;let db=null;const kD=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>OD)return;const l=n==null?void 0:n.token;db!==l&&(db=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function MD(i=Kb()){const e=eg(i,"auth");if(e.isInitialized())return e.getImmediate();const n=cI(i,{popupRedirectResolver:RD,persistence:[LI,AI,WT]}),s=Bb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=kD(u.toString());TI(n,f,()=>f(n.currentUser)),EI(n,m=>f(m))}}const l=Ub("auth");return l&&fI(n,`http://${l}`),n}function VD(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}aI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=l=>{const u=Ir("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",VD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ID("Browser");const jD="yololoot123",rl=({children:i})=>{const[e,n]=H.useState(!1),[s,l]=H.useState(""),[u,f]=H.useState(!1),[m,g]=H.useState(!0),p=MD();H.useEffect(()=>{const T=xI(p,S=>{S&&n(!0),g(!1)});return()=>T()},[p]);const E=async T=>{if(T.preventDefault(),s===jD){g(!0);try{await yI(p),n(!0),f(!1)}catch(S){console.error("Erro na autenticao:",S),f(!0)}finally{g(!1)}}else f(!0),l("")};return m?v.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e?v.jsx(v.Fragment,{children:i}):v.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh] p-4 animate-fade-in",children:v.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-8 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-800 max-w-sm w-full text-center",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Restricted Access"}),v.jsxs("form",{onSubmit:E,className:"space-y-4",children:[v.jsx("input",{type:"password",value:s,onChange:T=>{l(T.target.value),f(!1)},placeholder:"Admin password",className:`w-full h-12 px-4 rounded-xl border outline-none transition-all ${u?"border-red-500 ring-2 ring-red-500/10":"border-gray-200 focus:border-primary"}`,autoFocus:!0}),v.jsx("button",{type:"submit",disabled:!s||m,className:"w-full h-12 bg-primary text-white font-bold rounded-xl hover:bg-primary-dark transition-all disabled:opacity-50",children:"Log In"}),u&&v.jsx("p",{className:"text-red-500 text-sm",children:"Incorrect password"})]})]})})},PD=()=>{const{addPlayer:i,players:e,updatePlayer:n,deletePlayer:s}=xl(),[l,u]=H.useState(""),[f,m]=H.useState(""),[g,p]=H.useState(""),[E,T]=H.useState(""),[S,j]=H.useState(null),[L,G]=H.useState(!1),[z,re]=H.useState(null),Y={Elf:"https://api.dicebear.com/7.x/avataaars/svg?seed=Elf&backgroundColor=c0aede","Dark Wizard":"https://api.dicebear.com/7.x/avataaars/svg?seed=Mage&backgroundColor=b6e3f4","Dark Lord":"https://api.dicebear.com/7.x/avataaars/svg?seed=Lord&backgroundColor=ffdfbf","Dark Knight":"https://api.dicebear.com/7.x/avataaars/svg?seed=Knight&backgroundColor=c0aede"},J=()=>{f&&Y[f]&&T(Y[f])},me=gb.useRef(null),se=D=>{var Qe;const N=(Qe=D.target.files)==null?void 0:Qe[0];if(N){if(N.size>2*1024*1024){alert("The file is too large. The maximum allowed size is 2MB.");return}const lt=new FileReader;lt.onload=X=>{var te;const oe=new Image;oe.onload=()=>{const Te=document.createElement("canvas");let De=oe.width,k=oe.height;const Z=800;De>k?De>Z&&(k*=Z/De,De=Z):k>Z&&(De*=Z/k,k=Z),Te.width=De,Te.height=k;const ae=Te.getContext("2d");ae==null||ae.drawImage(oe,0,0,De,k);const ce=Te.toDataURL("image/jpeg",.7);if(ce.length>1e3*1024){alert("The image is still too large after compression.");return}T(ce)},oe.src=(te=X.target)==null?void 0:te.result},lt.readAsDataURL(N)}},le=()=>{T(""),me.current&&(me.current.value="")},R=async D=>{D.preventDefault();try{if(l&&f&&g){const N={name:l,class:f,cp:g,role:f==="Cavaleiro"||f==="Lorde"?"Tank":"DPS",avatarUrl:E};S?(await n(S,N),j(null)):await i(N),G(!0),A(),setTimeout(()=>G(!1),3e3)}else alert("Please fill in all required fields.")}catch(N){console.error("Error saving player:",N),alert(`Error saving player. Check the console for more details.
`+N.message)}},A=()=>{u(""),m(""),p(""),T(""),me.current&&(me.current.value=""),j(null)},C=D=>{u(D.name),m(D.class),p(D.cp),T(D.avatarUrl||""),j(D.id),window.scrollTo({top:0,behavior:"smooth"})},V=D=>{u(D.name),m(D.class),p(D.cp),T(D.avatarUrl||""),j(null),window.scrollTo({top:0,behavior:"smooth"})},O=async D=>{window.confirm("Are you sure you want to delete this player?")&&await s(D)};return v.jsx(rl,{children:v.jsxs("div",{className:"w-full max-w-[1200px] mx-auto p-4 md:p-8 space-y-8 pb-24",children:[v.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2 text-primary font-medium mb-2",children:[v.jsx("span",{className:"material-symbols-outlined text-sm",children:"groups"}),v.jsx("span",{className:"text-sm uppercase tracking-wider",children:"Management"})]}),v.jsx("h2",{className:"text-3xl md:text-4xl font-black text-[#1c130d] dark:text-white tracking-tight",children:"Player Registration"}),v.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 text-lg",children:"Manage guild members, their CPs, and classes."})]})}),v.jsxs("div",{className:"flex flex-col xl:flex-row gap-8 items-start",children:[v.jsx("div",{className:"w-full xl:w-[500px] shrink-0 space-y-6",children:v.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-6 md:p-8 rounded-3xl shadow-xl shadow-black/5 border border-white/20 relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full -mr-16 -mt-16 blur-3xl pointer-events-none"}),v.jsxs("form",{onSubmit:R,className:"relative space-y-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-text-main dark:text-gray-200",children:[v.jsx("span",{className:"material-symbols-outlined text-primary text-[18px]",children:"badge"}),"Player Name"]}),v.jsx("input",{type:"text",value:l,onChange:D=>u(D.target.value),className:"w-full bg-white dark:bg-black/20 border border-border-light dark:border-border-dark rounded-xl h-12 px-4 text-sm outline-none focus:border-primary focus:ring-4 focus:ring-primary/10 transition-all placeholder:text-gray-400 dark:text-white font-medium",placeholder:"Ex: ThunderGod",required:!0})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-text-main dark:text-gray-200",children:[v.jsx("span",{className:"material-symbols-outlined text-primary text-[18px]",children:"swords"}),"Classe"]}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:MC.map(D=>v.jsxs("div",{onClick:()=>m(D),className:`cursor-pointer rounded-xl p-3 border-2 transition-all duration-300 flex flex-col items-center gap-2 relative overflow-hidden group ${f===D?"border-primary bg-primary/5 shadow-md":"border-transparent bg-gray-50 dark:bg-black/20 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:[v.jsx("div",{className:`text-2xl transition-transform duration-300 ${f===D?"scale-110":"group-hover:scale-110"}`,children:AT[D]}),v.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wide ${f===D?"text-primary":"text-gray-500"}`,children:D})]},D))})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-text-main dark:text-gray-200",children:[v.jsx("span",{className:"material-symbols-outlined text-primary text-[18px]",children:"bolt"}),"Combat Power (CP)"]}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",value:g,onChange:D=>p(D.target.value),className:"w-full bg-white dark:bg-black/20 border border-border-light dark:border-border-dark rounded-xl h-14 pl-4 pr-12 text-lg font-bold outline-none focus:border-primary focus:ring-4 focus:ring-primary/10 transition-all placeholder:text-gray-300 dark:text-white tracking-widest",placeholder:"0",required:!0}),v.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs font-black text-gray-400 uppercase",children:"CP"})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-text-main dark:text-gray-200",children:[v.jsx("span",{className:"material-symbols-outlined text-primary text-[18px]",children:"account_circle"}),"Avatar"]}),v.jsxs("div",{className:"flex gap-4 items-start",children:[E?v.jsxs("div",{className:"relative w-24 h-24 shrink-0 rounded-2xl overflow-hidden border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-black/20 group",children:[v.jsx("img",{src:E,alt:"Preview",className:"w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:v.jsx("button",{type:"button",onClick:le,className:"p-1.5 bg-white rounded-lg text-red-500 hover:bg-red-500 hover:text-white transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete"})})})]}):v.jsxs("div",{className:"relative group w-24 h-24 shrink-0 rounded-2xl bg-gray-50 dark:bg-black/20 border-2 border-dashed border-gray-300 dark:border-gray-700 hover:border-primary dark:hover:border-primary transition-colors cursor-pointer flex flex-col items-center justify-center gap-1",children:[v.jsx("input",{type:"file",ref:me,accept:"image/*",onChange:se,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),v.jsx("span",{className:"material-symbols-outlined text-gray-400 group-hover:text-primary transition-colors",children:"cloud_upload"}),v.jsx("span",{className:"text-[9px] text-gray-400 text-center leading-tight",children:"Max 2MB"})]}),v.jsxs("div",{className:"flex flex-col gap-2 pt-1",children:[v.jsxs("button",{type:"button",onClick:J,disabled:!f,className:"w-full px-4 py-2 bg-primary/10 text-primary hover:bg-primary hover:text-white text-xs font-bold rounded-xl transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:[v.jsx("span",{className:"material-symbols-outlined text-base",children:"smart_toy"}),"Classe"]}),v.jsxs("button",{type:"button",onClick:()=>{var D;return(D=me.current)==null?void 0:D.click()},className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 text-xs font-bold rounded-xl transition-colors flex items-center justify-center gap-2 whitespace-nowrap",children:[v.jsx("span",{className:"material-symbols-outlined text-base",children:"upload"}),"Enviar"]})]})]})]})]}),v.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[S&&v.jsx("button",{type:"button",onClick:A,className:"h-12 px-6 rounded-xl border border-gray-200 dark:border-gray-700 text-gray-500 font-bold hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:"Cancelar"}),v.jsxs("button",{type:"submit",className:"h-12 flex-1 bg-primary text-white text-sm font-bold uppercase tracking-wider rounded-xl hover:bg-primary-dark transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg shadow-primary/25 flex items-center justify-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-lg",children:S?"save":"add_circle"}),S?"Save Changes":"Register Player"]})]})]})]})}),v.jsxs("div",{className:"flex-1 min-w-0 space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between px-2",children:[v.jsxs("h3",{className:"font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider text-xs",children:[e.length," Players Registered"]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors text-gray-400 hover:text-primary",children:v.jsx("span",{className:"material-symbols-outlined",children:"filter_list"})}),v.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-white/5 rounded-lg transition-colors text-gray-400 hover:text-primary",children:v.jsx("span",{className:"material-symbols-outlined",children:"search"})})]})]}),v.jsx("div",{className:"grid gap-3",children:e.length>0?e.map(D=>v.jsxs("div",{onClick:N=>{re(D)},className:"bg-surface-light dark:bg-surface-dark p-4 rounded-2xl border border-gray-100 dark:border-gray-800 flex items-center justify-between group hover:border-primary/30 transition-all shadow-sm cursor-pointer hover:shadow-md",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"relative",children:v.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 dark:bg-black/20 overflow-hidden",children:v.jsx("img",{src:D.avatarUrl,alt:D.name,className:"w-full h-full object-cover"})})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-gray-900 dark:text-white leading-tight",children:D.name}),v.jsxs("div",{className:"flex items-center gap-2 text-xs mt-1",children:[v.jsx("span",{className:"px-2 py-0.5 rounded bg-gray-100 dark:bg-white/5 text-gray-500 font-medium",children:D.class}),v.jsx("span",{className:"px-2 py-0.5 rounded bg-gray-100 dark:bg-white/5 text-gray-500 font-medium",children:D.role}),v.jsxs("span",{className:"font-mono text-primary font-bold",children:[D.cp," CP"]})]})]})]}),v.jsxs("div",{className:"flex items-center gap-1 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity",onClick:N=>N.stopPropagation(),children:[v.jsx("button",{onClick:()=>V(D),className:"p-2 text-gray-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Clonar (Novo ID)",children:v.jsx("span",{className:"material-symbols-outlined text-xl",children:"content_copy"})}),v.jsx("button",{onClick:()=>C(D),className:"p-2 text-gray-400 hover:text-primary hover:bg-primary/10 rounded-lg transition-colors",title:"Editar",children:v.jsx("span",{className:"material-symbols-outlined text-xl",children:"edit"})}),v.jsx("button",{onClick:()=>O(D.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Excluir",children:v.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete"})})]})]},D.id)):v.jsxs("div",{className:"text-center py-12 text-gray-400",children:[v.jsx("span",{className:"material-symbols-outlined text-4xl mb-2 opacity-50",children:"person_off"}),v.jsx("p",{children:"No Players Registered"})]})})]})]}),z&&v.jsx(RT,{player:z,onClose:()=>re(null)})]})})},LD=()=>{const{players:i,items:e,distributeItem:n,addToDistributionQueue:s,distributionQueue:l,removeFromDistributionQueue:u,clearPlayers:f,clearItems:m,clearHistory:g}=xl(),[p,E]=H.useState(null),[T,S]=H.useState(1),j=l[0];let L=[];if(j){const Y=e.find(J=>J.name===j.name);Y?L=Fg(Y,i):L=[...i].sort((J,me)=>$a(me.cp)-$a(J.cp))}else L=[...i].sort((Y,J)=>$a(J.cp)-$a(Y.cp));const G=()=>{p&&(s(p.name,T),E(null),S(1))},z=(Y,J)=>{if(j)if(J==="Acquired"){const me=L.findIndex(se=>se.id===Y.id);me>0&&L.slice(0,me).forEach(le=>{n(le.id,j,"Skipped",!1)}),n(Y.id,j,"Acquired",!0)}else n(Y.id,j,"Skipped",!1)},re=Y=>{switch(Y){case"Lendrio":return"text-orange-500 border-orange-500/30 bg-orange-500/10";case"pico":return"text-purple-500 border-purple-500/30 bg-purple-500/10";case"Raro":return"text-blue-500 border-blue-500/30 bg-blue-500/10";default:return"text-gray-500 border-gray-500/30 bg-gray-500/10"}};return v.jsx(rl,{children:v.jsxs("div",{className:"w-full max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 space-y-8",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[v.jsxs("div",{className:"max-w-2xl",children:[v.jsxs("div",{className:"flex items-center gap-2 text-primary font-medium mb-2",children:[v.jsx("span",{className:"material-symbols-outlined text-sm",children:"admin_panel_settings"}),v.jsx("span",{className:"text-sm uppercase tracking-wider",children:"Admin"})]}),v.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-slate-900 dark:text-white mb-3",children:"Manage Loot"}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg",children:"Select an item below to start distribution."})]}),v.jsxs("div",{className:"hidden md:flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg border border-blue-100 dark:border-blue-800",children:[v.jsx("span",{className:"material-symbols-outlined",children:"database"}),v.jsxs("span",{className:"text-sm font-bold",children:[e.length," Registered Items"]})]})]}),v.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-2xl shadow-xl p-6 sm:p-8 border border-slate-100 dark:border-stone-800",children:v.jsxs("div",{className:"flex flex-col gap-6",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"1. Choose the Item"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Quantity:"}),v.jsx("input",{className:"w-16 h-8 text-center bg-slate-50 dark:bg-[#2d241e] border border-slate-200 dark:border-stone-700 rounded-lg font-bold text-sm outline-none focus:ring-2 focus:ring-primary dark:text-white",type:"number",min:"1",value:T,onChange:Y=>S(parseInt(Y.target.value))})]})]}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:e.map(Y=>{const J=(p==null?void 0:p.id)===Y.id;return v.jsxs("button",{onClick:()=>E(Y),className:`group relative flex flex-col items-center gap-3 p-4 rounded-xl border-2 transition-all duration-200 text-left ${J?"border-primary bg-primary/5 shadow-md scale-[1.02]":"border-slate-100 dark:border-stone-800 bg-white dark:bg-[#1f1611] hover:border-primary/50"}`,children:[J&&v.jsx("div",{className:"absolute top-2 right-2 bg-primary text-white rounded-full p-0.5 shadow-sm",children:v.jsx("span",{className:"material-symbols-outlined text-sm font-bold block",children:"check"})}),v.jsx("div",{className:"size-16 rounded-xl overflow-hidden bg-slate-200 dark:bg-slate-800 shadow-sm shrink-0",children:v.jsx("img",{src:Y.iconUrl,alt:Y.name,className:"w-full h-full object-cover"})}),v.jsxs("div",{className:"w-full flex flex-col items-center",children:[v.jsx("h4",{className:`text-sm font-bold text-center leading-tight mb-1 ${J?"text-primary":"text-slate-700 dark:text-slate-200"}`,children:Y.name}),v.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full border ${re(Y.rarity)}`,children:[Y.cost," Garnet"]})]})]},Y.id)})})]}),v.jsx("div",{className:"h-px bg-slate-100 dark:bg-stone-800"}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-primary",children:"inventory_2"}),"Distribution Queue"]}),v.jsx("p",{className:"text-xs text-slate-500",children:"Added items waiting to be distributed"})]}),v.jsxs("button",{onClick:G,disabled:!p,className:"h-10 px-6 bg-slate-800 dark:bg-slate-700 text-white font-bold rounded-xl hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2 shadow-lg shadow-slate-900/10",children:[v.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"}),"Add to Queue"]})]}),l.length>0&&v.jsx("div",{className:"space-y-2",children:l.map((Y,J)=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-surface-dark border border-slate-100 dark:border-stone-800 rounded-xl animate-fade-in-up",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"bg-primary/10 text-primary size-8 flex items-center justify-center rounded-lg font-bold text-sm",children:J+1}),v.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:Y.name}),v.jsxs("span",{className:"text-xs bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded text-slate-500",children:["x",Y.quantity]})]}),v.jsx("button",{onClick:()=>u(Y.id),className:"text-red-500 hover:bg-red-50 p-2 rounded-lg transition-colors",children:v.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]},Y.id))})]})}),j&&v.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[v.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 px-2",children:v.jsx("div",{children:v.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:["Distributing Now:",v.jsx("span",{className:"text-primary",children:j.name})]})})}),v.jsx("div",{className:"grid gap-4",children:L.map(Y=>v.jsxs("div",{className:"group bg-surface-light dark:bg-surface-dark border border-slate-100 dark:border-stone-800 rounded-xl p-4 sm:p-5 shadow-sm hover:border-primary/50 transition-all flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[v.jsxs("div",{className:"flex items-center gap-4 min-w-[280px]",children:[v.jsx("div",{className:"relative",children:v.jsx("div",{className:"size-14 rounded-full bg-slate-200 bg-cover bg-center border border-slate-100 dark:border-stone-700",style:{backgroundImage:`url('${Y.avatarUrl}')`}})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-lg leading-tight",children:Y.name}),v.jsxs("div",{className:"flex items-center gap-3 text-sm mt-1",children:[v.jsxs("span",{className:"text-slate-500 dark:text-slate-400 font-medium",children:[Y.class,"  ",Y.role]}),v.jsx("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),v.jsxs("span",{className:"text-primary font-bold",children:[Y.dkp," Garnet"]}),v.jsx("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),v.jsxs("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded font-bold",children:["CP: ",Y.cp]})]})]})]}),v.jsxs("div",{className:"flex items-center w-full lg:w-auto gap-2",children:[v.jsxs("button",{onClick:()=>z(Y,"Acquired"),className:"flex-1 lg:flex-none px-6 py-2 bg-primary text-white text-sm font-bold rounded-full shadow-sm flex items-center justify-center gap-2 hover:bg-primary-dark transition-colors",children:[v.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"check"}),"Gift"]}),v.jsxs("button",{onClick:()=>z(Y,"Skipped"),className:"flex-1 lg:flex-none px-6 py-2 text-slate-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 text-sm font-bold rounded-full transition-colors flex items-center justify-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"}),"Skipped"]})]})]},Y.id))})]}),v.jsxs("div",{className:"mt-12 bg-red-50 dark:bg-red-900/10 rounded-2xl border border-red-100 dark:border-red-900/30 p-6",children:[v.jsxs("h3",{className:"text-xl font-bold text-red-600 flex items-center gap-2 mb-4",children:[v.jsx("span",{className:"material-symbols-outlined",children:"warning"}),"Danger Zone"]}),v.jsx("p",{className:"text-sm text-red-500 mb-6",children:"The actions below are irreversible. Be sure before clicking."}),v.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[v.jsxs("button",{onClick:()=>{window.confirm("WARNING: This will delete ALL registered players. Are you sure?")&&f()},className:"px-4 py-3 bg-white dark:bg-red-950/30 border border-red-200 dark:border-red-800 text-red-600 font-bold rounded-xl hover:bg-red-600 hover:text-white transition-all flex items-center justify-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined",children:"person_remove"}),"Reset Players"]}),v.jsxs("button",{onClick:()=>{window.confirm("WARNING: This will delete ALL registered items. Are you sure?")&&m()},className:"px-4 py-3 bg-white dark:bg-red-950/30 border border-red-200 dark:border-red-800 text-red-600 font-bold rounded-xl hover:bg-red-600 hover:text-white transition-all flex items-center justify-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined",children:"remove_shopping_cart"}),"Reset Items"]}),v.jsxs("button",{onClick:()=>{window.confirm("WARNING: This will clear ALL loot history. Are you sure?")&&g()},className:"px-4 py-3 bg-white dark:bg-red-950/30 border border-red-200 dark:border-red-800 text-red-600 font-bold rounded-xl hover:bg-red-600 hover:text-white transition-all flex items-center justify-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined",children:"history"}),"Reset History"]})]})]})]})})},UD=()=>{const{addItem:i,items:e,updateItem:n,deleteItem:s}=xl(),[l,u]=H.useState(""),[f,m]=H.useState("common"),[g,p]=H.useState(!1),[E,T]=H.useState(""),[S,j]=H.useState(""),[L,G]=H.useState(""),[z,re]=H.useState(""),[Y,J]=H.useState(null),[me,se]=H.useState(!1),le=H.useRef(null),R=z||"https://via.placeholder.com/150?text=No+Icon",A=["Legendary","Epic","Rare","Uncommon","Common"],C=te=>{switch(te){case"Legendary":return"bg-orange-500 border-orange-500 text-white";case"Epic":return"bg-purple-600 border-purple-600 text-white";case"Rare":return"bg-blue-500 border-blue-500 text-white";case"Uncommon":return"bg-green-500 border-green-500 text-white";default:return"bg-gray-500 border-gray-500 text-white"}},V=te=>{switch(te){case"Legendary":return"bg-orange-500/80";case"Epic":return"bg-purple-500/80";case"Rare":return"bg-blue-500/80";case"Uncommon":return"bg-green-500/80";default:return"bg-gray-500/80"}},O=te=>{var De;const Te=(De=te.target.files)==null?void 0:De[0];if(Te){if(Te.size>2*1024*1024){alert("The file is too large. The maximum allowed size is 2MB.");return}const k=new FileReader;k.onload=Z=>{var ce;const ae=new Image;ae.onload=()=>{const _e=document.createElement("canvas");let be=ae.width,Re=ae.height;const nt=400;be>Re?be>nt&&(Re*=nt/be,be=nt):Re>nt&&(be*=nt/Re,Re=nt),_e.width=be,_e.height=Re;const $e=_e.getContext("2d");$e==null||$e.drawImage(ae,0,0,be,Re);const nr=_e.toDataURL("image/jpeg",.6);if(nr.length>1e3*1024){alert("The image is still too large after compression. Try an image with fewer details or lower resolution.");return}re(nr)},ae.src=(ce=Z.target)==null?void 0:ce.result},k.readAsDataURL(Te)}},D=()=>{re(""),le.current&&(le.current.value="")},N=()=>{u(""),T(""),j(""),p(!1),G(""),re(""),m("Comum"),J(null),le.current&&(le.current.value="")},Qe=async te=>{te.preventDefault();try{if(l&&E&&S&&L){const Te={name:l,rarity:f,stats:E,chance:S,cost:parseInt(L),limitToTop5:g,iconUrl:R};Y?(await n(Y,Te),J(null)):await i(Te),se(!0),N(),setTimeout(()=>se(!1),3e3)}else alert("Please fill in all required fields (Name, Attributes, Chance, Cost).")}catch(Te){console.error("Error saving item:",Te),alert(`Error saving item. Check the console for more details.
`+Te.message)}},lt=te=>{u(te.name),m(te.rarity),T(te.stats),j(te.chance),G(te.cost.toString()),p(te.limitToTop5||!1),re(te.iconUrl),J(te.id),window.scrollTo({top:0,behavior:"smooth"})},X=te=>{u(te.name),m(te.rarity),T(te.stats),j(te.chance),G(te.cost.toString()),p(te.limitToTop5||!1),re(te.iconUrl),J(null),window.scrollTo({top:0,behavior:"smooth"})},oe=async te=>{window.confirm("Are you sure you want to delete this item?")&&await s(te)};return v.jsx(rl,{children:v.jsxs("div",{className:"w-full max-w-[1400px] mx-auto px-4 lg:px-8 py-8 space-y-12",children:[v.jsxs("header",{className:"flex flex-col gap-2",children:[v.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-xs font-bold uppercase tracking-wider w-fit",children:[v.jsx("span",{className:"material-symbols-outlined text-sm",children:"add_circle"}),"Database"]}),v.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-[#1c130d] dark:text-white tracking-tight",children:[Y?"Edit":"Register"," ",v.jsx("span",{className:"text-primary",children:"Items"})]}),v.jsx("p",{className:"text-text-muted dark:text-gray-400 max-w-2xl",children:"Add new items to the system. They will automatically appear on the Dashboard and be available for distribution."})]}),v.jsxs("div",{className:"flex flex-col xl:flex-row gap-8 items-start",children:[v.jsxs("div",{className:"flex-1 w-full bg-surface-light dark:bg-surface-dark rounded-2xl shadow-card border border-border-light dark:border-border-dark p-6 md:p-8 relative overflow-hidden",children:[me&&v.jsx("div",{className:"absolute top-0 left-0 w-full bg-green-500 text-white text-center py-2 font-bold text-sm animate-fade-in-down",children:Y?"Item updated successfully!":"Item registered successfully!"}),v.jsxs("form",{onSubmit:Qe,className:"flex flex-col gap-6 mt-2",children:[v.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[v.jsxs("div",{className:"flex-1 space-y-2",children:[v.jsx("label",{className:"text-sm font-bold text-text-main dark:text-gray-200 ml-1",children:"Item Name"}),v.jsx("input",{type:"text",value:l,onChange:te=>u(te.target.value),className:"w-full h-12 px-4 rounded-xl bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-primary outline-none dark:text-white",placeholder:"Ex: Sword of Doom",required:!0})]}),v.jsxs("div",{className:"w-full md:w-1/3 space-y-2",children:[v.jsx("label",{className:"text-sm font-bold text-text-main dark:text-gray-200 ml-1",children:"Cost (Garnet)"}),v.jsx("input",{type:"number",value:L,onChange:te=>G(te.target.value),className:"w-full h-12 px-4 rounded-xl bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-primary outline-none dark:text-white",placeholder:"Ex: 150",required:!0})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-bold text-text-main dark:text-gray-200 ml-1",children:"Rarity"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(te=>v.jsx("button",{type:"button",onClick:()=>m(te),className:`px-4 py-2 rounded-lg text-sm font-bold border transition-all transform active:scale-95 ${f===te?C(te)+" shadow-md scale-105":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 hover:border-gray-400"}`,children:te},te))})]}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[v.jsxs("div",{className:"flex-1 space-y-2",children:[v.jsx("label",{className:"text-sm font-bold text-text-main dark:text-gray-200 ml-1",children:"Attributes (Summary)"}),v.jsx("input",{type:"text",value:E,onChange:te=>T(te.target.value),className:"w-full h-12 px-4 rounded-xl bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-primary outline-none dark:text-white",placeholder:"Ex: Str: +300, Vit: +50",required:!0})]}),v.jsxs("div",{className:"w-full md:w-1/3 space-y-2",children:[v.jsx("label",{className:"text-sm font-bold text-text-main dark:text-gray-200 ml-1",children:"Drop Chance"}),v.jsx("input",{type:"text",value:S,onChange:te=>j(te.target.value),className:"w-full h-12 px-4 rounded-xl bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-primary outline-none dark:text-white",placeholder:"Ex: 1.5%",required:!0})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-bold text-text-main dark:text-gray-200 ml-1",children:"Item Image"}),z?v.jsxs("div",{className:"relative w-full h-32 rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-black/20 group",children:[v.jsx("img",{src:z,alt:"Preview",className:"w-full h-full object-contain p-2"}),v.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3",children:[v.jsx("button",{type:"button",onClick:()=>{var te;return(te=le.current)==null?void 0:te.click()},className:"p-2 bg-white rounded-lg text-gray-700 hover:text-primary transition-colors",title:"Change Image",children:v.jsx("span",{className:"material-symbols-outlined",children:"edit"})}),v.jsx("button",{type:"button",onClick:D,className:"p-2 bg-white rounded-lg text-gray-700 hover:text-red-500 transition-colors",title:"Remover",children:v.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]}),v.jsx("input",{type:"file",ref:le,accept:"image/*",onChange:O,className:"hidden"})]}):v.jsxs("div",{className:"relative group w-full h-32 rounded-xl bg-gray-50 dark:bg-black/20 border-2 border-dashed border-gray-300 dark:border-gray-700 hover:border-primary dark:hover:border-primary transition-colors cursor-pointer flex flex-col items-center justify-center gap-2",children:[v.jsx("input",{type:"file",ref:le,accept:"image/*",onChange:O,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),v.jsx("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-full shadow-sm group-hover:scale-110 transition-transform",children:v.jsx("span",{className:"material-symbols-outlined text-primary text-2xl",children:"cloud_upload"})}),v.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Click to select an image"}),v.jsx("span",{className:"text-[10px] text-gray-400",children:"PNG, JPG, GIF (Max 2MB)"})]})]}),v.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-gray-700",children:[v.jsxs("div",{className:"relative flex items-center",children:[v.jsx("input",{type:"checkbox",checked:g,onChange:te=>p(te.target.checked),className:"peer h-5 w-5 cursor-pointer appearance-none rounded-md border border-gray-300 transition-all checked:border-primary checked:bg-primary hover:border-primary focus:ring-2 focus:ring-primary/20 dark:border-gray-600 dark:bg-gray-700"}),v.jsx("span",{className:"pointer-events-none absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 transition-opacity peer-checked:opacity-100",children:v.jsx("span",{className:"material-symbols-outlined text-[16px] font-bold",children:"check"})})]}),v.jsx("label",{className:"cursor-pointer select-none text-sm font-bold text-text-main dark:text-white",onClick:()=>p(!g),children:"Limit to Top 5 Priority Players"}),v.jsxs("div",{className:"group relative ml-auto",children:[v.jsx("span",{className:"material-symbols-outlined cursor-help text-gray-400 hover:text-primary",children:"help"}),v.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-64 rounded-lg bg-gray-900 p-3 text-xs text-white opacity-0 shadow-xl transition-opacity group-hover:opacity-100 pointer-events-none z-10",children:"If enabled, this item will only appear for the top 5 players in the priority queue (based on CP/DKP)."})]})]}),v.jsx("div",{className:"h-4"}),v.jsxs("div",{className:"flex gap-4",children:[Y&&v.jsx("button",{type:"button",onClick:N,className:"h-14 px-6 rounded-full font-bold text-text-muted hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:"Cancel"}),v.jsxs("button",{type:"submit",className:"flex-1 h-14 bg-primary hover:bg-primary-dark text-white font-bold rounded-xl shadow-lg shadow-primary/30 transition-all hover:-translate-y-0.5 active:translate-y-0 text-lg flex items-center justify-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined",children:"save"}),Y?"Save Changes":"Save Item"]})]})]})]}),v.jsxs("div",{className:"w-full xl:w-[400px] flex flex-col gap-4",children:[v.jsxs("h3",{className:"text-lg font-bold text-text-main dark:text-white flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-primary",children:"visibility"}),"Preview"]}),v.jsxs("article",{className:"flex flex-col gap-4 p-5 rounded-2xl bg-surface-light dark:bg-surface-dark border border-gray-100 dark:border-gray-800 shadow-xl transition-all duration-300",children:[v.jsxs("div",{className:"relative h-64 w-full rounded-2xl overflow-hidden bg-gray-100 dark:bg-gray-800",children:[v.jsx("div",{className:"absolute inset-0 bg-contain bg-center bg-no-repeat",style:{backgroundImage:`url('${R}')`}}),v.jsxs("div",{className:`absolute top-3 right-3 backdrop-blur-md text-white text-xs font-bold px-3 py-1 rounded-full border border-white/10 flex items-center gap-1 ${V(f)}`,children:[v.jsx("span",{className:"material-symbols-outlined text-sm text-white fill-1",children:"star"})," ",f]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white leading-tight",children:l||"Nome do Item"}),v.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-3",children:[v.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 px-3 py-1.5 rounded-lg border border-gray-100 dark:border-gray-700",children:E||"Atributos..."}),v.jsxs("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 px-3 py-1.5 rounded-lg border border-gray-100 dark:border-gray-700",children:["Chance: ",S||"0%"]})]})]}),v.jsx("div",{className:"h-px w-full bg-gray-100 dark:bg-gray-800 my-1"}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm font-medium text-text-muted",children:"Estimated Cost"}),v.jsxs("span",{className:"text-xl font-black text-primary",children:[L||"0"," Garnet"]})]})]}),v.jsxs("div",{className:"p-4 rounded-xl bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 text-blue-700 dark:text-blue-300 text-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[v.jsx("span",{className:"material-symbols-outlined text-base",children:"info"}),"Tip"]}),"When saved, this item will be available in the global list and can be selected by the Admin for distribution in raids."]})]})]}),v.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-12",children:[v.jsx("div",{className:"flex items-center justify-between mb-8",children:v.jsxs("h2",{className:"text-2xl font-bold text-text-main dark:text-white flex items-center gap-2",children:[v.jsx("span",{className:"material-symbols-outlined text-primary",children:"inventory_2"}),"Registered Items"]})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[e.map(te=>v.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-2xl border border-gray-100 dark:border-gray-800 shadow-sm hover:shadow-md transition-shadow group relative flex flex-col gap-3",children:[v.jsxs("div",{className:"relative h-40 w-full rounded-xl overflow-hidden bg-gray-50 dark:bg-black/20",children:[v.jsx("img",{src:te.iconUrl||"https://via.placeholder.com/150?text=No+Icon",alt:te.name,className:"w-full h-full object-contain"}),v.jsx("div",{className:`absolute top-2 right-2 text-white text-[10px] font-bold px-2 py-0.5 rounded-full ${V(te.rarity)}`,children:te.rarity}),v.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[v.jsx("button",{onClick:()=>lt(te),className:"p-2 bg-white rounded-lg text-primary hover:bg-primary hover:text-white transition-colors",title:"Editar",children:v.jsx("span",{className:"material-symbols-outlined",children:"edit"})}),v.jsx("button",{onClick:()=>X(te),className:"p-2 bg-white rounded-lg text-green-600 hover:bg-green-600 hover:text-white transition-colors",title:"Clonar",children:v.jsx("span",{className:"material-symbols-outlined",children:"content_copy"})}),v.jsx("button",{onClick:()=>oe(te.id),className:"p-2 bg-white rounded-lg text-red-500 hover:bg-red-500 hover:text-white transition-colors",title:"Excluir",children:v.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-text-main dark:text-white leading-tight truncate",children:te.name}),v.jsxs("div",{className:"flex justify-between items-center mt-2",children:[v.jsxs("span",{className:"text-xs text-text-muted dark:text-gray-400",children:[te.cost," Garnet"]}),v.jsx("span",{className:"text-xs text-text-muted dark:text-gray-400",children:te.chance})]})]})]},te.id)),e.length===0&&v.jsxs("div",{className:"col-span-full py-12 flex flex-col items-center justify-center text-center text-gray-400 border-2 border-dashed border-gray-200 dark:border-gray-800 rounded-2xl",children:[v.jsx("span",{className:"material-symbols-outlined text-4xl mb-2 opacity-50",children:"inventory_2"}),v.jsx("p",{children:"No items registered yet."})]})]})]})]})})},zD=()=>v.jsx(DC,{children:v.jsx(mS,{children:v.jsx(OC,{children:v.jsxs(F1,{children:[v.jsx(Fi,{path:"/",element:v.jsx(kC,{})}),v.jsx(Fi,{path:"/history",element:v.jsx(VC,{})}),v.jsx(Fi,{path:"/drops",element:v.jsx(k0,{to:"/history",replace:!0})}),v.jsx(Fi,{path:"/register",element:v.jsx(rl,{children:v.jsx(PD,{})})}),v.jsx(Fi,{path:"/items",element:v.jsx(rl,{children:v.jsx(UD,{})})}),v.jsx(Fi,{path:"/admin",element:v.jsx(rl,{children:v.jsx(LD,{})})}),v.jsx(Fi,{path:"*",element:v.jsx(k0,{to:"/",replace:!0})})]})})})}),ax=document.getElementById("root");if(!ax)throw new Error("Could not find root element to mount to");const BD=Kw.createRoot(ax);BD.render(v.jsx(gb.StrictMode,{children:v.jsx(zD,{})}));
